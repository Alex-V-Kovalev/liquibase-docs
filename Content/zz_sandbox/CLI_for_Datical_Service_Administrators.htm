<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>CLI for Datical Service Administrators</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <h1 id="CLIforDaticalServiceAdministrators-datical-controlSyntax">datical-control Syntax</h1>
        <p>The datical-control command is hierarchical, with subcommands organized into groups.&#160;</p>
        <p>There are two forms of the command:&#160;</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Two forms of datical-control</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control &lt;command&gt;datical-control &lt;group&gt; &lt;subcommand&gt; </pre>
            </div>
        </div>
        <h1 id="CLIforDaticalServiceAdministrators-GettingHelp">Getting Help</h1>
        <p><code>datical-control --help</code> - lists the command groups</p>
        <p><code>datical-control --help</code> - lists the command groups</p>
        <p><code>datical-control &lt;group&gt;</code> - lists the commands available in the group</p>
        <p><code>datical-control &lt;group&gt; &lt;command&gt; --help</code> - lists the arguments available for the <code>&lt;command&gt;</code></p>
        <h1 id="CLIforDaticalServiceAdministrators-RunningastheAdministrativeUserforDatical">Running as the Administrative User for Datical</h1>
        <p>The commands should be run by the Datical administrative user that you set up.&#160;</p>
        <p>See&#160;<a href="Administrative_User_Requirements.htm">Administrative User Requirements</a></p>
        <h1 id="CLIforDaticalServiceAdministrators-Commands">Commands</h1>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-helm">helm</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p><span class="inline-comment-marker">Runs Helm commands. Helm is the Kubernetes package manager. Helm Charts are collections of files that determine how to configure objects (like pods) within Kubernetes.&#160;</span><em><br /></em>
                            </p>
                            <p><span class="inline-comment-marker">See external&#160;<a class="external-link" href="https://docs.helm.sh/helm" rel="nofollow">Helm Documentation</a>.</span>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-kubectl&lt;command&gt;">kubectl &lt;command&gt;</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Runs <strong>kubectl</strong> commands in the Datical Service Kubernetes layer. The kubectl CLI is used to view and manage Kubernetes files, pods, containers, and resources.&#160;&#160;</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>&lt;command&gt;</strong> - The kubectl CLI command to run.</li>
                            </ul>
                            <p>See the following external resources:&#160;&#160;</p>
                            <ul>
                                <li><a class="external-link" href="https://kubernetes.io/docs/reference/kubectl/overview/" rel="nofollow">Overview of kubectl</a>
                                </li>
                                <li><a class="external-link" href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands" rel="nofollow">kubectl Command Reference</a>.&#160;</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-logs">logs</h3>
                        </td>
                        <td class="confluenceTd">
                            <div class="content-wrapper">
                                <p>Outputs service logs.</p>
                                <p>Displays all logs for the last 5 minutes, then continues to output new messages as they are added. Includes logs from all pods in the given service.</p>
                                <p>To output kubelet logs, use the following command:&#160;</p>
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">logs kubelet</pre>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-psql">psql</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Opens an SQL prompt for the PostgreSQL service</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-migrate-dmc">migrate-dmc</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Restores a saved DMC 5.3 backup file to Datical Service 5.4</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--applicationdbexternal &lt;arg&gt; -&#160;</strong>Use <strong>true</strong>&#160;for &lt;arg&gt; when using an external application database, otherwise <strong>false</strong> for the internal application database.</li>
                                <li><strong>--auditdbexternal &lt;arg&gt; </strong>- Use <strong>true</strong> for &lt;arg&gt; when using an external audit database, otherwise <strong>false</strong> for the internal audit database<em><br /></em></li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <p><strong>troubleshoot</strong>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Troubleshoots common issues automatically.&#160;</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <p><strong>upgrade</strong>
                            </p>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Upgrades Datical Service components as needed.<em><br /></em></p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h1 id="CLIforDaticalServiceAdministrators-CommandGroups">Command Groups</h1>
        <h2 id="CLIforDaticalServiceAdministrators-appdbgroup">appdb&#160;group</h2>
        <p>Commands for managing the application database</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Appdb group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control appdb status</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-show">show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Shows the application database configuration.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-changelog-unlock">changelog-unlock</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Unlocks the DATABASECHANGELOGLOCK table.<br class="atl-forced-newline" /><br class="atl-forced-newline" /><strong>WARNING</strong>: Use only during a maintenance window. No Datical operations should be running.&#160;</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-configure">configure</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Modifies the Application DB configuration</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--skip-check -&#160;</strong>Skip the usual database check</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-status">status</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Shows the application database status (running, stopped)</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-auditdbgroup">auditdb group</h2>
        <p>Commands for managing the audit database.&#160;</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Auditdb group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control auditdb status</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-configure.1">configure</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Modifies the Audit DB configuration</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--skip-check -&#160;</strong>Skip the usual database check</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-show.1">show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Displays the Audit DB configuration</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-backupgroup">backup&#160;group</h2>
        <p>Commands for backing up Datical Service</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Backup group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control backup all</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col style="width: 147.0px;" />
                    <col style="width: 906.0px;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-all">all</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Backs up everything using a set directory and timestamped file pattern. Example:&#160;</p>
                            <p><code>/opt/datical/datical-clustered/backup/all/</code>
                            </p>
                            <p><code>datical-service-all-2018-10-23_18-29.bak</code>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-postgresql">postgresql</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Backs up the PostgreSQL application database&#160;using a set directory and timestamped file pattern. Example:&#160;</p>
                            <p><code>/opt/datical/datical-clustered/backup/postgresql/</code>
                            </p>
                            <p><code>datical-service-postgresql-2018-10-23_18-29.bak</code>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-internal-client">internal-client</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Backs up user data stored in the internal client service (Jenkins)&#160; using a set directory and timestamped file pattern. Example:&#160;</p>
                            <p><code>/opt/datical/datical-clustered/backup/jenkins/</code>
                            </p>
                            <p><code>datical-internal-client-2018-10-23_18-29.bak</code>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-set-encryption-key"><strong>set-encryption-key</strong>
                            </h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <div class="content-wrapper">
                                <p>Set or remove an encryption key to use for the backed-up data. They key is used by both the <strong>backup</strong> command and the <strong>restore</strong> command.&#160;</p>
                                <ul>
                                    <li>When you run the command, you are prompted for a password to use to generate the key.&#160;</li>
                                    <li>If you do not enter a key, the existing key is removed.&#160;</li>
                                </ul>
                                <p>Once it is set, the key is used for all <strong>backup</strong> commands.&#160;</p>
                                <div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block">
                                    <div class="confluence-information-macro-body">
                                        <p>Keep the password. You may be prompted for it when running a <strong>restore</strong> command. There is no way to recover or override the password. .&#160;</p>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-clustergroup">cluster group</h2>
        <p>Commands for managing the Datical Kubernetes cluster.</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Cluster group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control cluster etcd-health</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped relative-table confluenceTable" style="width: 50.561%;">
                <colgroup>
                    <col style="width: 22.8148%;" />
                    <col style="width: 77.1852%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-add-node">add-node</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--hostname &lt;arg&gt; -&#160;</strong>New member hostname</li>
                                <li><strong>--ip &lt;arg&gt; -&#160;</strong>New member IP</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-rebalance">rebalance</h3>
                        </td>
                        <td colspan="1" class="confluenceTd">Balances pods across nodes.&#160;Balancing is normally done automatically. Use this command to force a rebalance.</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-recover"><strong>recover</strong>
                            </h3>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <p>Checks for pods that are listed as running on nodes that are not available, then moves them. Normally posds are moved automatically. Use this command to force the move.&#160;</p>
                            <p>The command reports "No down node" if all nodes are available.&#160;</p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-remove-node">remove-node</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--hostname &lt;arg&gt; - </strong>Specify the hostname to remove in &lt;arg&gt;.</li>
                                <li><strong>--hostname invalid - </strong>Find and remove all cluster configurations that point to unknown servers.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-status.1">status</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">Lists nodes in the cluster.</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-dockergroup">docker group</h2>
        <p>Commands for managing the Docker service and Docker images</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Docker group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control docker pull missing</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-login">login</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Sets the docker login credentials.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--force-prompt</strong> - Force prompt for user name and password</li>
                                <li><strong>--password &lt;arg&gt;&#160;</strong>-&#160;Docker Password</li>
                                <li><strong>--username &lt;arg&gt;</strong> -&#160;Docker Username</li>
                            </ul>
                            <p>If no arguments are passed, the login is attempted with values from the cluster configuration.</p>
                            <p>If the cluster configuration does not contain credentials, you are prompted for credentials.</p>
                            <p>If the server is configured as <strong>offline</strong>, then credentials are never stored<em><br /></em></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-pull">pull</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Pulls a docker image using the local repository.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>&lt;target&gt;</strong> - Name of the Docker image to pull. Use a target of <strong>missing</strong> to pull all images that are needed by Kubernetes.&#160;</li>
                                <li><strong>--ignoreFailures</strong>&#160;- Continue with pulling other images if one fails</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-etcdgroup">etcd group</h2>
        <p>Commands for managing Etcd servers.</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>etcd group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control etcd show</pre>
            </div>
        </div>
        <p>
            <br />
        </p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-cluster-etcdctl&lt;command&gt;">cluster-etcdctl &lt;command&gt;</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Allows interaction with the cluster Etcdctl CLI.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>&lt;command&gt; - </strong>The etcdctl command to run.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-cluster-status">cluster-status</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">Shows status of the cluster Etcd server.</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-etcdctl&lt;command&gt;">etcdctl &lt;command&gt;</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Allows interaction with Datical Service Etcdctl CLI.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>&lt;command&gt; - </strong>The etcdctl command to run.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-status.2">status</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">Shows the status of the Datical Service Etcd server</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-glustergroup">gluster group</h2>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>gluster group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control gluster status</pre>
            </div>
        </div>
        <p>Commands for managing the Gluster shared file system</p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-glusterctl&lt;command&gt;">glusterctl &lt;command&gt;</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Runs commands at the Gluster CLI.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>&lt;command&gt; - </strong>The glusterctl command to run.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-status.3">status</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">Shows Gluster status.&#160;</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-internal-clientgroup">internal-client group</h2>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Internal-client group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control internal-client license-show</pre>
            </div>
        </div>
        <p>Commands for managing the internal hammer client (internal Jenkins server)</p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-enable">enable</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Enables the internal client service</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-disable">disable</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Disables the internal client service</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-open-agent-port">open-agent-port</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Opens the node port for an optional external Jenkins agent to connect</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-close-agent-port">close-agent-port</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Closes the node port for an optional external Jenkins agent to connect</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-license-install">license-install</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Install license(s) for the internal DaticalDB client</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-license-show">license-show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Shows the license(s) installed for the internal DaticalDB client</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-jobsgroup">jobs group</h2>
        <p>Commands for managing Datical Service cronjobs</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Jobs group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control jobs show</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-run">run</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Manually runs a cron job.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--wait&#160;</strong>- Wait for job to complete</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-show.2">show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Lists the currently running jobs in datical</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-watch">watch</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Watches for status changes changes in jobs. Shows and updates the list of running jobs.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-networkgroup">network group</h2>
        <p>Commands for managing network settings</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Network group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control network truststore-show</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-https">https</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <div class="content-wrapper">
                                <p>Use a custom HTTPS TLS Certificate</p>
                                <p><em>Arguments</em>
                                </p>
                                <ul>
                                    <li><strong>cert &lt;arg&gt;</strong>- Path to PEM encoded public key certificate</li>
                                    <li><strong>key &lt;arg&gt;&#160;</strong>- Path to private key associated with given certificate</li>
                                </ul>
                                <p><em>Examples</em>
                                </p>
                                <p>Create a certificate signing request for the existing certificate:</p>
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">openssl x509 -x509toreq -in C:\opt\datical\config\cluster\kubernetes\tls.crt -signkey C:\opt\datical\config\cluster\kubernetes\tls.key -out /tmp/datical-service.csr </pre>
                                    </div>
                                </div>
                                <p>
                                    <br class="atl-forced-newline" />Generate a new private key and certificate signing request:</p>
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">openssl req -new -newkey rsa:2048 -nodes -keyout /tmp/private.key -out /tmp/datical-service.csr </pre>
                                    </div>
                                </div>
                                <p>
                                    <br class="atl-forced-newline" />Create a self-signed key and certificate:</p>
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">openssl req -x509 -nodes -days 1000 -newkey rsa:2048 -keyout /tmp/new.key -out /tmp/new.cert</pre>
                                    </div>
                                </div>
                                <p>
                                    <br class="atl-forced-newline" />Convert a PKCS#12 file to PEM format:</p>
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">openssl pkcs12 -in input.p12 -out /tmp/converted.cert -nodes</pre>
                                    </div>
                                </div>
                                <p>
                                    <br class="atl-forced-newline" />Convert a DER/CRT/CER file to PEM format:</p>
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">openssl x509 -inform der -in input.cer -out /tmp/converted.pem</pre>
                                    </div>
                                </div>
                                <p><em><br /></em>
                                </p>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-reconfigure"><strong>reconfigure</strong>
                            </h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <p>Change host network configuration.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--ip &lt;ip-address&gt;</strong>&#160;- New IP address to use for the cluster.&#160;</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-reconfigure-interface"><strong>reconfigure-interface</strong>
                            </h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <p>Sets the machine static IP address.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--dns &lt;list&gt; </strong>- Comma-separated list of DNS servers to use</li>
                                <li><strong>--gateway &lt;arg&gt;</strong> - Gateway to use</li>
                                <li><strong>--ip &lt;ip-address&gt;</strong>&#160;- Static IP address to use<em><br /></em></li>
                                <li><strong>--netmask &lt;arg&gt;</strong> - Net mask to use</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-set-cluster-hostname">set-cluster-hostname</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Sets the machine host name.&#160;</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--hostname &lt;arg&gt;</strong>&#160;- New external hostname for kubernetes to use</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-status.4">status</h3>
                        </td>
                        <td colspan="1" class="confluenceTd">Show status of cluster network layer.&#160;</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-truststore-add">truststore-add</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Trust all certificates for the specified server.&#160;</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--host &lt;arg&gt;</strong>&#160;- Host name or IP address. Connect to the specified server and trust all certificates in its chain.</li>
                                <li><strong>--port &lt;arg&gt;</strong>&#160;- Port to use when connecting to <strong>host</strong>. Default value: <strong>443</strong></li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-truststore-show">truststore-show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Shows trusted certificates</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-osgroup">os group</h2>
        <p>Commands for managing the underlying OS</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>OS group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control os check</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-check">check</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Checks that the OS-level and Kubernetes-level configuration is correct.<em><br /></em></p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-rabbitmqgroup">rabbitmq group</h2>
        <p>Commands for managing RabbitMQ</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>rabbitmq group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control rabbitmq status</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-force-boot">force-boot</h3>
                        </td>
                        <td colspan="1" class="confluenceTd">Restarts the rabbitmq cluster and sets rabbitmq-0 to be the leader.</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-rabbitmqctl&lt;command&gt;">rabbitmqctl &lt;command&gt;</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Runs commands on the rabbitmqctl CLI.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>&lt;command&gt; - </strong>The rabbitmqctl command to run.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-status.5">status</h3>
                        </td>
                        <td class="confluenceTd">Shows RabbitMQ status</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-restoregroup">restore group</h2>
        <p>Commands for restoring backups. See the backup group for information on the backup directories, file names, and setting an encryption key.&#160;</p>
        <p><strong>Important</strong>
        </p>
        <p>If an encryption key was set for the backup, then the password used to create the key must be provided if prompted.&#160;</p>
        <ul>
            <li>If the encryption key is currently set to the same password, you are not prompted for it. See <strong>backup set-encryption-key</strong>.&#160;</li>
            <li>If the encryption key is not set or is set to a different password, you are prompted for it.&#160;</li>
        </ul>
        <p>For example, you may set the key on one host and create the backup. To restore on a different host, you must know the password used to create the key.&#160;</p>
        <div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block">
            <div class="confluence-information-macro-body">
                <p>Keep the password. You may be prompted for it when running a <strong>restore</strong> command. There is no way to recover or override the password. .&#160;</p>
            </div>
        </div>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Restore group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control restore all</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-all.1">all</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Restores all the data in the given full backup file.</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--file &lt;arg&gt;</strong>&#160;- Backup file to restore<em><br /></em></li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-postgresql.1">postgresql</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Restores the managed PostgreSQL database</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--file &lt;arg&gt;</strong>&#160;- PostgreSQL backup file to restore</li>
                                <li><strong>--yes</strong>&#160;- Assume 'yes' for all questions</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-internal-client.1">internal-client</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Restores user data stored in the internal client service</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--file &lt;arg&gt;</strong>&#160;- Backup file to restore</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-secretsgroup">secrets group</h2>
        <p>Commands for managing Kubernetes secrets.</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Secrets group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control secrets read &lt;service&gt;</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-read">read</h3>
                            <p><em>Root access required</em>
                            </p>
                        </td>
                        <td class="confluenceTd">
                            <p>Decrypts the secret for the specified service from Kubernetes and outputs the contents<em><br /></em></p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-servicesgroup">services group</h2>
        <p>Commands for managing the Datical Service microservices</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Services group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control services show</pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-check.1">check</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Checks that Datical Service is correctly deployed</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--upgrade</strong>&#160;- Check for upgraded versions of Datical Service rather than using the currently installed version</li>
                                <li><strong>wait</strong>&#160;- Wait for deployment to be ready before exiting</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-heap-dump">heap-dump</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Outputs the heap memory of a service</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-restart">restart</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Deletes and reschedules pods for the specified service.</p>
                            <p>Use restart all to restart all services.&#160;</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-show.3">show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Lists the currently running services.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-watch.1">watch</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Watches for status changes changes in services.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-thread-dump">thread-dump</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Outputs the current threads running in a service.</p>
                            <p><em>Arguments&#160;</em>
                            </p>
                            <ul>
                                <li><strong>--json</strong>&#160;- Output threads as json</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2 id="CLIforDaticalServiceAdministrators-versionsgroup">versions group</h2>
        <p>Commands for managing the Datical Service version used</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Versions group example</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control versions show </pre>
            </div>
        </div>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-use">use</h3>
                        </td>
                        <td class="confluenceTd">
                            <p><strong>FOR DATICAL USE ONLY</strong>
                            </p>
                            <p>Overrides the versions of components.&#160;</p>
                            <p><em>Arguments</em>
                            </p>
                            <ul>
                                <li><strong>--channel &lt;arg&gt;</strong>&#160;- Use latest build of the given channel. Use 'none' to remove the override. Use 'custom' to extract the current version and allow custom modification of it</li>
                                <li><strong>--remote-check&#160;[enable | disable]</strong>&#160;- Specifies whether to check for updates (enable).&#160;</li>
                                <li><strong>--source &lt;arg&gt;</strong>&#160;- Specify the source of upgrades</li>
                                <li><strong>--version &lt;arg&gt;</strong>&#160;- Use the specified version</li>
                                <li><strong>--wait</strong>&#160;- Wait for deployment to be ready before exiting</li>
                            </ul>
                            <p>The service target can be any of the following arguments:</p>
                            <ul>
                                <li>One or more service names, for example <strong>projects</strong>. Use commas to separate multiple names.&#160;</li>
                                <li><strong>--all</strong>
                                </li>
                                <li><strong>--datical-server</strong> - use this to change the RPM source</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-remote-check">remote-check</h3>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <p>Specifies whether to check externally (through the network) for updates.</p>
                            <p><em>Arguments&#160;</em>
                            </p>
                            <ul>
                                <li><strong>enable </strong>- Check a repository through the network for updates.</li>
                                <li><strong>disable&#160;</strong>- Do not check a repository through the network for updates.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">
                            <h3 id="CLIforDaticalServiceAdministrators-show.4">show</h3>
                        </td>
                        <td class="confluenceTd">
                            <p>Returns the deployed component versions</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="auto-cursor-target">Note that this page above is about Datical Service 5.x/6.x versions.</p>
        <p class="auto-cursor-target">For DMC 7.x versions please see:</p>
        <ul>
            <li class="auto-cursor-target"><a class="external-link" href="https://dmc.datical.com/home.htm" rel="nofollow">DMC 7.x documentation home</a>
            </li>
            <li class="auto-cursor-target"><a class="external-link" href="https://dmc.datical.com/troubleshoot/troubleshoot-home.htm" rel="nofollow">DMC 7.x Troubleshoot</a>
            </li>
            <li class="auto-cursor-target"><a href="..\..\DDKB\pages\DMC_Sudo_Commands_List.htm">DMC 7.x Sudo Commands List</a>
            </li>
        </ul>
    </body>
</html>