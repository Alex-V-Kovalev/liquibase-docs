<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>Datical v6.17 - Release Notes</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <h1 id="Daticalv6.17-ReleaseNotes-SoftwareDownloads">Software Downloads</h1>
        <p>Go to&#160;<strong style="text-align: left;"><strong style="text-align: left;"><a class="external-link" href="https://software.datical.com" rel="nofollow">https://software.datical.com</a>&#160;</strong></strong>to download files. See details for the release below.&#160;</p>
        <h1 id="Daticalv6.17-ReleaseNotes-CustomerNoticesforUpgrades">Customer Notices for Upgrades</h1>
        <div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block">
            <div class="confluence-information-macro-body">
                <p><strong>Starting with the 6.10 release</strong>, Datical DB will run in the OpenJDK runtime instead of the Oracle Java runtime. If you are installing release 6.10 or greater of Datical DB from scratch in it's own folder, the installer will provide the new OpenJDK runtime. There are no additional steps for you to take.&#160; This is the recommended course of action.</p>
                <p><strong>If you are updating an older version of Datical DB (6.9 or earlier) using the Datical software update site or the composite repo</strong>, you will need to replace the old Oracle Java runtime with the OpenJDK runtime.&#160; For instructions expand the link below.</p>
                <div class="expand-container conf-macro output-block" id="expander-1557844191">
                    <div id="expander-control-1557844191" class="expand-control"><span class="expand-control-text">OpenJDK Update - Manual Instructions</span>
                    </div>
                    <div id="expander-content-1557844191" class="expand-content expand-hidden">
                        <h2 id="Daticalv6.17-ReleaseNotes-DaticalDBnowrunsonOpenJDK">Datical DB now runs on OpenJDK</h2>
                        <p>Starting with the 6.10 release, Datical DB will bundle OpenJDK instead of the Oracle Java Runtime.&#160; The decision to migrate was prompted by a change in Oracle's licensing that would have impeded our ability to provide security patches to the Java distribution in our frequent releases.</p>
                        <p><strong>NOTE:&#160;</strong>Datical will only install the new Java distribution as part of a fresh install of the product.&#160; If you prefer to update an existing installation using Datical's update site or the composite repo follow the steps below to manually replace the Oracle Java Runtime with OpenJDK:</p>
                        <ol>
                            <li>Log in to <a class="external-link" href="http://software.datical.com" rel="nofollow">software.datical.com</a> and go to&#160;<span style="color: rgb(0,0,0);"><code>COMMON/Java_JDK/OpenJDK</code></span></li>
                            <li>Download the archive for your client platform<ol><li><strong>Linux</strong>:&#160;<code>OpenJDK8U-jre_x64_linux_hotspot_8u222b10.tar.gz</code></li><li><strong>Windows</strong>:&#160;<code>OpenJDK8U-jre_x64_windows_hotspot_8u222b10.zip</code></li></ol></li>
                            <li>Close Datical DB if it's open, including Windows command line and Linux terminal sessions</li>
                            <li>Rename the root folder of the current JRE in the Datical installation<ol><li><strong>BEFORE</strong>: <code>&lt;DDB_INSTALL_ROOT&gt;/jre</code></li><li><strong>AFTER:&#160; &#160;&#160;</strong><code>&lt;DDB_INSTALL_ROOT&gt;/oracle.jre</code></li></ol></li>
                            <li>Extract the JRE archive downloaded in step 2 to the Datical DB Install root<ol><li>Extracting the archive should create a new directory that will need to be renamed&#160;<ol><li>Extracted directory name: <code>&lt;DDB_INSTALL_ROOT&gt;/jdk8u222-b10-jre</code></li><li>Rename directory to: <code>&lt;DDB_INSTALL_ROOT&gt;/jre</code></li></ol></li></ol></li>
                            <li>Test the&#160;<strong>Datical DB GUI </strong>bylaunching the client to ensure it opens without issue</li>
                            <li>Test<strong> Datcial DB CLI </strong>by running <code>'hammer show version'</code> from a terminal or or the Windows command line</li>
                            <li>At this point you may delete&#160;<code>&lt;DDB_INSTALL_ROOT&gt;/oracle.jre</code> at your leisure</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <p>
            <br />
        </p>
        <div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block">
            <div class="confluence-information-macro-body">
                <p>If you are upgrading from version 5.12 or earlier, see&#160;<a href="Customer_Notices_for_Upgrades_from_5_12_or_Earlier_to_v2019_x_or_Later.htm">Customer Notices for Upgrades from 5.12 or Earlier to v2019.x or Later</a> for important information <strong>before you install or upgrade</strong>.&#160;</p>
                <p>Installation for the Datical DB GUI client requires special attention.&#160;</p>
            </div>
        </div>
        <h1 id="Daticalv6.17-ReleaseNotes-Documentationforv6.17">Documentation for v6.17</h1>
        <p>Documentation for the base release is available in the following forms:</p>
        <ul>
            <li>Confluence space -&#160;<a href="https://datical-cs.atlassian.net/wiki/spaces/DDOC">Liquibase Enterprise Documentation Home</a></li>
            <li>PDFs for Datical DB and Datical Service on <a class="external-link" href="http://software.datical.com" rel="nofollow">software.datical.com</a></li>
        </ul>
        <h1 id="Daticalv6.17-ReleaseNotes-DaticalDB">Datical DB</h1>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th colspan="1" class="confluenceTh">Item</th>
                        <th class="confluenceTh">Path</th>
                        <th class="confluenceTh">File</th>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">Software</td>
                        <td class="confluenceTd"><span style="color: rgb(0,0,0);"><code>COMMON/Datical_DB_Software/Datical_DB_6.17.6410</code></span>
                        </td>
                        <td class="confluenceTd"><span style="color: rgb(0,0,0);">Choose the Linux or Windows installation file for your system.&#160;</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">Documentation</td>
                        <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>COMMON/Datical_Documentation/Datical_DB_Documentation</code></span>
                        </td>
                        <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>datical_db_docs_v6.17.pdf</code></span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">Composite Installation Repository</td>
                        <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>COMMON/Datical_DB_Software/Datical_DB_6.1<span style="color: rgb(0,0,0);"><code>7.6410</code></span></code></span>
                        </td>
                        <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>DaticalDbCompositeRepo-6.1<span style="color: rgb(0,0,0);"><code>7.6410</code></span>.zip</code></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h1 class="auto-cursor-target" id="Daticalv6.17-ReleaseNotes-DaticalService">Datical Service</h1>
        <p><span style="color: rgb(29,28,29);"><strong>NOTE:&#160;</strong>If you use Datical Service and also use the Internal Jenkins Client within Datical Service, note that you need to use the same version of Datical DB and Datical Service, such as Datical DB 6.9 and matching Datical Service 6.9. However, if you do NOT use the Internal Jenkins Client, you could run the current Datical DB 6.12 with Datical Service versions 5.8 or higher.</span>
        </p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th class="confluenceTh">Item</th>
                        <th class="confluenceTh">Path</th>
                        <th class="confluenceTh">File</th>
                    </tr>
                    <tr>
                        <td class="confluenceTd">Software</td>
                        <td class="confluenceTd"><span style="color: rgb(0,0,0);"><code>COMMON/Datical_Service_Software/Datical_Service_v6.17</code></span>
                        </td>
                        <td class="confluenceTd">
                            <ul>
                                <li><code>datical-service-&lt;version&gt;.tar.part* </code>- The main Datical Service files.&#160;</li>
                                <li><code>datical-jenkins-*.part* - </code>(<em>optional</em>) Datical client used internally by Datical Service to run Datical operations. If you run operations from DMC (Forecast, Deploy), these files are required.&#160;</li>
                                <li><code>datical-service-preinstallcheck_&lt;version&gt;.sh</code> - Script to run a pre-installation check of your host environment and host resources to determine if the necessary resources are available for Datical Service. The script tells you if you need to make changes in its report.</li>
                                <li><code>datical-service-install.sh</code> - Script to run the installation.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">Documentation</td>
                        <td class="confluenceTd"><span style="color: rgb(0,0,0);"><code>COMMON/Datical_Service_Documentation/</code></span>
                        </td>
                        <td class="confluenceTd"><code>DaticalServiceDocumentation_v6.17</code>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h1 id="Daticalv6.17-ReleaseNotes-DocumentationSpacesforOlderReleases">Documentation Spaces for Older Releases</h1>
        <p>See&#160;<a href="https://datical-cs.atlassian.net/wiki/spaces/DDD">Customer Success Resources</a>&#160;in the Releases with Doc Spaces section for a list of spaces available for older releases (prior to 6.7).&#160;</p>
        <h1 id="Daticalv6.17-ReleaseNotes-NewFeatures">New Features</h1>
        <h2 id="Daticalv6.17-ReleaseNotes-CertificationofOracle19candOracle19conAmazonRDS">Certification of Oracle 19c and Oracle 19c on&#160;Amazon RDS</h2>
        <p>Oracle 19c (direct installation and on Amazon RDS) has been fully tested and added to the platform configurations used in automated certification tests at Datical.</p>
        <h2 id="Daticalv6.17-ReleaseNotes-GeneratingChangeSetstoDropStoredLogicintheDeployPackager">Generating Change Sets to Drop Stored Logic in the Deploy Packager</h2>
        <p>In previous releases, deleting a file from the SQL code repository that contained a stored logic object definition that had previously been packaged would result in a change set being added to the changelog.xml that dropped that object.&#160; To allow more precise control over when stored logic objects are dropped, this workflow has been changed.</p>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block">
            <p class="title">BEHAVIOR CHANGE</p>
            <div class="confluence-information-macro-body">
                <p>As of Datical 6.17, deleting a stored logic file from the SQL code repository will no longer result in a drop of that object being added to the change log.&#160; File deletion will be noted in the log, but won't have any effect on the Datical Project.</p>
            </div>
        </div>
        <p>To generate a change set to drop a stored logic object in version 6.17 and subsequent releases replace the object definition in the file with a valid&#160;<code>drop</code> SQL statement for that object.&#160; During the next execution of Deploy Packager for that project, the drop statement will be recognized and the appropriate change set created to drop the object in question.</p>
        <p>
            <br />
        </p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th class="confluenceTh">
                            <p>Description of Change</p>
                        </th>
                        <th class="confluenceTh">
                            <p>SQL File Contents</p>
                        </th>
                        <th class="confluenceTh">
                            <p>Change Type Produced by Packager</p>
                        </th>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <p>Create a procedure called <code>procPrintHelloWorld</code></p>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Contents of procPrintHelloWorld.sql</b>
                                </div>
                                <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">CREATE OR REPLACE PROCEDURE procPrintHelloWorld
IS
BEGIN
  
  DBMS_OUTPUT.PUT_LINE('Hello VIDEO_TEST_World!');

END;</pre>
                                </div>
                            </div>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Change Produced by Packager</b>
                                </div>
                                <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&lt;createProcedure path="procedure/20190827160559730_procPrintHelloWorld.sql" procedureName="procPrintHelloWorld"/&gt;</pre>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">
                            <p>Drop a procedure called&#160;<code>procPrintHelloWorld</code></p>&#160;</td>
                        <td colspan="1" class="confluenceTd">
                            <div class="content-wrapper">
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Contents of procPrintHelloWorld.sql</b>
                                    </div>
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">DROP PROCEDURE procPrintHelloWorld;</pre>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td colspan="1" class="confluenceTd">
                            <div class="content-wrapper">
                                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                                    <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Change Produced by Packager</b>
                                    </div>
                                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&lt;dropProcedure procedureName="procPrintHelloWorld"/&gt;</pre>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>For more information see&#160;<a href="../datical-db-documentation/package-sql-scripts-for-deployment/write-sql-scripts-for-datical-db/Writing_SQL_Scripts_for_Datical_DB.htm">Writing SQL Scripts for Datical DB#ManagingDropsofStoredLogicObjects</a></p>
        <h2 id="Daticalv6.17-ReleaseNotes-FinalReleaseofDaticalServicewithDocker&amp;Kubernetes">Final Release of Datical Service with Docker &amp; Kubernetes</h2>
        <p>We have updated the embedded Datical DB client and upgraded the following components of Datical Service to address vulnerabilities:</p>
        <ul>
            <li>Postgresql</li>
            <li>RabbitMQ</li>
            <li>Keycloak</li>
            <li>Groovy</li>
        </ul>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block">
            <div class="confluence-information-macro-body">
                <p>&#160;6.17 marks the final release of Datical Service with Docker &amp; Kubernetes.&#160; Datical will be release a new webapp for centralized status and reporting that is lighter weight and easier to manage in March 2020</p>
            </div>
        </div>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
        <h1 id="Daticalv6.17-ReleaseNotes-IssuesAddressed">Issues Addressed</h1>
        <div class="table-wrap">
            <table class="wrapped fixed-table confluenceTable">
                <colgroup>
                    <col style="width: 98.0px;" />
                    <col style="width: 840.0px;" />
                </colgroup>
                <tbody>
                    <tr>
                        <th class="confluenceTh">Issue ID</th>
                        <th class="confluenceTh">Description</th>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DAT-3835</td>
                        <td colspan="1" class="confluenceTd">Incorrect Packager log message "Found 1 TYPE statements in the SQL Script" when COMMENT contains "TYPE"</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DAT-3677</td>
                        <td colspan="1" class="confluenceTd">Packager: Provide Better Mechanism to Drop Stored Logic</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DAT-3667</td>
                        <td colspan="1" class="confluenceTd">DDB_USER and DDB_PASS environment variables do not work with "hammer groovy database_backup_restore.groovy"</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DAT-3272</td>
                        <td colspan="1" class="confluenceTd">TFS: Packager fails after a drop procedure or rename or revert procedure is attempted</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DAT-2729</td>
                        <td colspan="1" class="confluenceTd">Datical Eclipse GUI: missing data_dml option when creating Manifest file with the Datical DB GUI Manifest wizard</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DAT-2608</td>
                        <td colspan="1" class="confluenceTd">Hammer forecast or deploy output shows "unable to determine pipeline" when --pipeline is not used</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h1 class="auto-cursor-target" id="Daticalv6.17-ReleaseNotes-KnownIssues">Known Issues</h1>
        <h2 id="Daticalv6.17-ReleaseNotes-ChecksumErrorswhenPerformingStatusonDeployedAddUniqueConstraintsChanges">Checksum Errors when Performing Status on Deployed AddUniqueConstraints Changes</h2>
        <p>If you deploy AddUniqueConstraint changes using Datical DB v6.7 or later AND you deploy changes using an older version of Datical DB, you get errors during Status operations. The error is reported when the status command performs checksum validation. Checksum creation was changed in version 2019.2.&#160;</p>
        <p>Starting in v6.7, the Status operation accepts "old" checksums. However, if you attempt a Status operation using an old client, it reports an error on changes deployed by a new client.&#160;&#160;</p>
        <ul>
            <li><strong>Old</strong> - before version 2019.2</li>
            <li><strong>New</strong> - version 2019.2 or later</li>
        </ul>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="confluenceTd">
                            <br />
                        </td>
                        <td class="confluenceTd">Change deployed by old (4.x/5.x)</td>
                        <td colspan="1" class="confluenceTd">Change deployed by new (2019.x/6.x))</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">Status run using old (4.x/5.x)</td>
                        <td class="confluenceTd">Works</td>
                        <td colspan="1" class="confluenceTd">Does not work. Upgrade required.</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">Status run using new (2019.x/6.x)</td>
                        <td class="confluenceTd">Works</td>
                        <td colspan="1" class="confluenceTd">Works</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>Datical now notes version matching for clients working on the same release pipeline. See&#160;<a href="../datical-db-overview/Datical_DB_Version_Requirements.htm">Datical DB Version Requirements</a>.&#160;</p>
        <p>
            <br />
        </p>
    </body>
</html>