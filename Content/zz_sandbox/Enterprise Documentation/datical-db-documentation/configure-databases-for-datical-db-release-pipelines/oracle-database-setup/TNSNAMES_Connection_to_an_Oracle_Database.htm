<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>TNSNAMES Connection to an Oracle Database</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-UsingaTNSNAMESConnectiontoanOracleDatabase">Using a TNSNAMES Connection to an Oracle Database</h1>
        <p>Use this type of connection to use a service definition in the <code>tnsnames.ora</code> file for the connection information to use. The connection information is substituted in parameters in the JDBC driver when the connection is attempted.&#160;</p>
        <p>Using <code>tnsnames.ora</code> is common in Oracle database installations.&#160;</p>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-1.CreateaDirectoryforOracleConfigurationFiles">1.&#160;Create a Directory for Oracle Configuration Files</h1>
        <p>Create a directory on the host where you run Datical DB to use for the wallet file and Oracle configuration files.&#160;</p>
        <p>The example places it in the <code>oracle_tnsnames</code>&#160;directory under the <code>&lt;project&gt;</code> directory in the default location for Datical DB projects.&#160; If Oracle is installed on the host, another common location might be <code>$ORACLE_HOME/network/admin</code>.&#160;&#160;</p>
        <p><strong>Linux</strong>
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">/datical/oracle_tnsnames</pre>
            </div>
        </div>
        <p><strong>Windows</strong>
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">C:\datical\oracle_tnsnames</pre>
            </div>
        </div>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-3.Addtnsnames.oratotheDirectory">3. Add tnsnames.ora to the Directory</h1>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th class="confluenceTh">File</th>
                        <th class="confluenceTh">Desription</th>
                    </tr>
                    <tr>
                        <td class="confluenceTd"><code>tnsnames.ora</code>
                        </td>
                        <td class="confluenceTd">
                            <p>Configuration file that defines database addresses.</p>
                            <p>Create the file manually or copy it from the Oracle database server and alter it.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-4.CreatetheServiceDefinitionintnsnames.ora">4. Create the Service Definition in tnsnames.ora</h1>
        <p>Add the following section to <code>tnsnames.ora</code>. Substitute values for these tokens:</p>
        <ul>
            <li><code>&lt;oracledb-hostname&gt;</code> - the host name of the machine (or VM or AWS instance) where Oracle is running</li>
            <li><code>&lt;oracledb-port&gt;</code> - the port configured for the listener on the database server.&#160; Default is 1521.</li>
            <li><code>&lt;oracledb-servicename&gt;</code> - the host name of the machine (or VM or AWS instance) where the Oracle database server is running.&#160; If using a SID to connect, specify it instead.</li>
        </ul>
        <p>In the following example, the section is named <code>ORA_THROUGH_TNS</code>. You may name it as you wish. Use this name for the <strong>TNS Alias</strong> setting in Datical DB projects.&#160;</p>
        <p>
            <br />
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">ORA_THROUGH_TNS =
(DESCRIPTION =
   (ADDRESS =
      (PROTOCOL = TCP)
      (HOST = &lt;oracledb-hostname&gt;)
      (PORT = &lt;oracledb-port&gt;)
   )
   (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = &lt;oracledb-servicename&gt;)
   )
)</pre>
            </div>
        </div>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-5.SetEnvironmentVariablestoLocatetnsnames.ora">5. Set Environment Variables to Locate tnsnames.ora</h1>
        <p>Set an environment variable to the location of the <code>tnsnames.ora</code> file.&#160;When attempting a connection, Datical DB uses environment variables to find the configuration files, then gets information it needs from them.&#160;</p>
        <p>You have some flexibility in the environment variable to use. Datical DB searches in the following order:&#160;&#160;</p>
        <ol>
            <li>TNS_ADMIN</li>
            <li>ORACLE_HOME/network/admin</li>
        </ol>
        <p>If a <code>tnsnames.ora</code> file is not found, the connection fails.&#160;</p>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-6.SetUpDaticalProjectDbDefstoUsetheLDAPConnection">6. Set Up Datical Project DbDefs to Use the LDAP Connection</h1>
        <p>When you create a DbDef in a project and choose Oracle as the database type, you set the following property:</p>
        <ul>
            <li><strong>Connection Type </strong>- Choose TNSNAMES/LDAP</li>
            <li><strong>TNS Alias</strong>&#160; - Specifies the service name in&#160;<code>tnsnames.ora&#160;</code>that contains configuration information for the connection.</li>
        </ul>
        <p>See also&#160;<a href="https://datical-cs.atlassian.net/wiki/spaces/DDOC/pages/896569490#ConfiguringStepSettings(DbDefs)-OracleDatabaseStepSettings">Configuring Step Settings (DbDefs)#OracleDatabaseStepSettings</a>.&#160;</p>
        <p>
            <br />
        </p>
        <h1 id="TNSNAMESConnectiontoanOracleDatabase-7.TestingtheConnection">7. Testing the Connection</h1>
        <p>See&#160;<a href="Testing_Oracle_Connections.htm">Testing Oracle Connections</a></p>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
    </body>
</html>