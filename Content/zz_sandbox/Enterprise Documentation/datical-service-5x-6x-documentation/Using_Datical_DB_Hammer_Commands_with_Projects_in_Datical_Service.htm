<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>Using Datical DB Hammer Commands with Projects in Datical Service</h1>
        <h1 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-Overview">Overview</h1>
        <p>Additional options allow you run hammer commands with Datical Service login credentials and project identifiers.</p>
        <p>These commands are only used with older DMC/Datical Service versions 5.x and 6.x.&#160; (This page is not needed with newer DMC 7.x versions.)</p>
        <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
            <p class="title">Note</p>
            <div class="confluence-information-macro-body">
                <p>In hammer commands, you identify Datical Service through its cluster name, which you created during installation.&#160;</p>
            </div>
        </div>
        <p>
            <br />
        </p>
        <h1 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-HammerCommandSyntax">Hammer Command Syntax</h1>
        <p>Use new options in the hammer command to call the Datical service for authentication/authorization and perform operations on projects.&#160;</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer 
       --daticalServer=&lt;cluster-name&gt; 
       --daticalUsername=&lt;user&gt; 
       [--projectKey=&lt;projectRef&gt;] 
       &lt;datical-command&gt; 
       [&lt;stepRef&gt;] 
       &lt;other-script-parameters&gt;</pre>
            </div>
        </div>
        <h3 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-Options">Options</h3>
        <ul>
            <li><code>--daticalServer</code> - the cluster name for Datical service installation. The cluster name is set during Datical Service installation.&#160;</li>
            <li><code>--daticalUsername</code> - user name defined in the Datical service. Use the DATICAL_USER environment variable to provide the password.&#160;</li>
            <li><code>&lt;datical-command&gt;</code> - one of deploy, forecast, status, groovy deployPackager.groovy</li>
            <li><code>&lt;stepRef&gt;</code> - a step name or step key, needed only to perform the operation on a step (dbdef).&#160;</li>
            <li><code>--projectKey=&lt;projectRef&gt;</code> - <code>projectRef</code> is a project name or project key</li>
            <li><code>--pipeline=&lt;pipelineRef&gt;</code> - <code>pipelineRef</code> is a pipeline name or pipelineRef.&#160;</li>
        </ul>
        <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
            <p class="title">Important</p>
            <div class="confluence-information-macro-body">
                <p>The --daticalServer option must use the cluster name, not a host name or IP address.&#160;</p>
            </div>
        </div>
        <h3 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-ForecastExample">Forecast Example</h3>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer forecast
       --daticalServer=&lt;cluster-name&gt; 
       --daticalUsername=&lt;user&gt;  
       &lt;stepRef&gt; 
       --projectKey=&lt;projectRef&gt; [--pipeline=&lt;pipelineRef&gt;] 
       &lt;other-command-parameters&gt;</pre>
            </div>
        </div>
        <h3 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-DeployExample">Deploy Example</h3>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer deploy
       --daticalServer=&lt;cluster-name&gt; 
       --daticalUsername=&lt;user&gt;       &lt;stepRef&gt; 
       --projectKey=&lt;projectRef&gt; 
       [--pipeline=&lt;pipelineRef&gt;] 
       &lt;other-command-parameters&gt;</pre>
            </div>
        </div>
        <h3 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-StatusExample">Status Example</h3>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer status 
       --daticalServer=&lt;cluster-name&gt; 
       --daticalUsername=&lt;user&gt;  
       &lt;projectRef&gt; 
       &lt;other-command-parameters&gt;</pre>
            </div>
        </div>
        <h3 id="UsingDaticalDBHammerCommandswithProjectsinDaticalService-PackagingExample">Packaging Example</h3>
        <p>Use the options for credentials before the <code>groovy</code> keyword.&#160;</p>
        <p>For Deployment Packager, e<span style="color: rgb(51,51,51);">ither</span><code>dbdef=</code><span style="color: rgb(51,51,51);">or</span><code>pipeline=</code><span style="color: rgb(51,51,51);">must be the first option on the deployPackager script. Only one is allowed. Changes are packaged and deployed either to the DbDef specified or the first (leftmost) DbDef in the pipeline.&#160;</span></p>
        <p><strong>Package a Pipeline</strong>
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer groovy deployPackager.groovy  
       pipeline=&lt;pipeline&gt; 
       --daticalServer=&lt;cluster-name&gt; 
       --daticalUsername=&lt;user&gt; 
       --projectKey=&lt;projectRef&gt; 
       scm=true  
       &lt;other-deployPackager.groovy-parameters&gt;</pre>
            </div>
        </div>
        <p>
            <br />
        </p>
        <p><strong>Package a DbDef</strong>
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer groovy deployPackager.groovy 
       dbdef=&lt;dbdef&gt;       --daticalServer=&lt;cluster-name&gt; 
       --daticalUsername=&lt;user&gt; 
       --projectKey=&lt;projectRef&gt;  
       &lt;other-deployPackager.groovy-parameters&gt;</pre>
            </div>
        </div>
    </body>
</html>