<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>Installing and Updating Licenses for Datical Service versions 5.x/6.x</h1>
        <p><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">A script provides the means to install and update the licenses in Datical Service.&#160;</span></span></span>
        </p>
        <h1 id="InstallingandUpdatingLicensesforDaticalServiceversions5.x/6.x-ObtainingtheLicenseFilestoUse"><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">Obtaining the License Files to Use</span></span></span>
        </h1>
        <p><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">Datical sends you license files to use. They are installed in Datical DB and Datical Service separately.&#160;</span></span></span>
        </p>
        <p><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">If you have an existing installation of Datical DB, you can use the <code>.lic</code> files that Datical gave you.&#160;&#160;</span></span></span>
        </p>
        <p><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">If you installed the licenses in Datical DB and then deleted them, contact Datical Support to obtain the <code>.lic</code> files again.&#160;&#160;</span></span></span>
        </p>
        <h1 id="InstallingandUpdatingLicensesforDaticalServiceversions5.x/6.x-RunningtheLicenseInstallationScriptinVersion5.4andLater"><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">Running the License Installation Script in Version 5.4 and Later&#160;</span></span></span>
        </h1>
        <p><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">The license installation script is installed in <code>/opt/datical/bin</code> along with other Datical Service scripts.&#160;</span></span></span>
        </p>
        <p><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">Note that the instructions work for an installation on a physical server or on a virtual image.&#160;</span></span></span>
        </p>
        <ol>
            <li>
                <p class="auto-cursor-target">Make sure Datical Service is running.&#160;</p>
            </li>
            <li>
                <p class="auto-cursor-target"><span style="color: rgb(51,153,102);"><span style="color: rgb(51,153,102);"><span style="color: rgb(0,0,0);">Log in as the <code>datical</code> user you created. All the remaining steps must be run as that user.</span><br /></span></span>
                </p>
                <div class="preformatted panel conf-macro output-block" style="border-width: 1px;">
                    <div class="preformattedContent panelContent"><pre xml:space="preserve">login: datical</pre>
                    </div>
                </div>
            </li>
            <li>
                <p class="auto-cursor-target">Put your license file or files in <code>/home/datical</code>.</p>
                <p class="auto-cursor-target">Types of license files</p>
                <ul>
                    <li>
                        <p class="auto-cursor-target">Datical Admin License (required for Datical)&#160;</p>
                    </li>
                    <li>
                        <p class="auto-cursor-target">Datical Accelerator for Oracle (note that the accelerator/compression driver was only available with versions 7.15 or lower).<br /><br /></p>
                    </li>
                </ul>
            </li>
            <li>
                <p class="auto-cursor-target">In the <code>/home/datical</code> directory, run the license installation script.&#160; Provide the filename of the license or licenses.&#160;</p>
                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control internal-client license-install &lt;license-file&gt; [license-file]...</pre>
                    </div>
                </div>
                <p class="auto-cursor-target">
                    <br />You see output like the following during a successful license update.&#160;</p>
                <div class="preformatted panel conf-macro output-block" style="border-width: 1px;">
                    <div class="preformattedContent panelContent"><pre xml:space="preserve">Checking existing licenses, if any...
Installing license file /tmp/Feb2019-admin.lic ...
Using Java from: /daticaldb/repl/../jre/bin/java
License located at '/var/jenkins_home/Feb2019-admin.lic' was successfully installed. There is 1 license now installed.
Datical DB Admin License
Issued to : CN=MyCompanySite
Issued on : Mon Jul 23 20:21:03 UTC 2018
Expires on: Mon Feb 18 21:21:03 UTC 2019</pre>
                    </div>
                </div>
            </li>
        </ol>
        <h1 id="InstallingandUpdatingLicensesforDaticalServiceversions5.x/6.x-ViewingExistingLicenses">Viewing Existing Licenses</h1>
        <p>Run the following script to view existing licenses, including when they expire.&#160;</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">datical-control internal-client license-show</pre>
            </div>
        </div>
        <p>You get messages according to the existence of license files.&#160;</p>
        <ul>
            <li>
                <p class="auto-cursor-target">License is installed - The type of license, issue date, and expiration date are shown.&#160;</p>
                <div class="preformatted panel conf-macro output-block" style="border-width: 1px;">
                    <div class="preformattedContent panelContent"><pre xml:space="preserve">There is a license installed.
Datical DB Admin License
Issued to : CN=MyCompanySite
Issued on : Mon Jul 23 20:21:03 UTC 2018
Expires on: Mon Feb 18 21:21:03 UTC 2019</pre>
                    </div>
                </div>
            </li>
            <li>
                <p class="auto-cursor-target">License is not installed - the following lines appear in the output.&#160;</p>
                <div class="preformatted panel conf-macro output-block" style="border-width: 1px;">
                    <div class="preformattedContent panelContent"><pre xml:space="preserve">ERROR! DaticalDB was unable to install a valid license file.
Environment variable 'DATDB_LICENSE' (null) does not specify a location for a license file.
There are no '.lic' files in '/daticaldb/repl' (Datical DB installation directory)

</pre>
                    </div>
                </div>
            </li>
        </ul>
    </body>
</html>