<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Working with Changelogs | Liquibase Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/concepts/basic/changelog.html" />
        <link href="../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="Reference information for using changelogs in Liquibase and their various formats. The changelog file is the root of all changes in Liquibase." />
    </head>
    <body>
        <h1 id="database-change-log-file">Working with Changelogs
        </h1>
        <p>The root of all <MadCap:variable name="General.Liquibase" /> changes is the <MadCap:variable name="General.changelog" style="font-style: italic;" /> file. <MadCap:variable name="General.Liquibase" /> uses a <MadCap:variable name="General.changelog" style="font-style: italic;" /> to sequentially list all changes made to your database. Think of it as a ledger. It is a file that contains a record of all your database changes (<MadCap:variable name="General.changeset" style="font-style: italic;" /><i>s</i>). <MadCap:variable name="General.Liquibase" /> uses this <MadCap:variable name="General.changelog" style="font-style: italic;" /> record to audit your database and execute any changes that are not yet applied to your database.</p>
        <p><MadCap:variable name="General.changelog" style="font-style: italic;" /><i>s</i> can be of one of the following formats and can be stored and versioned in your source control tool:</p>
        <ul>
            <li>
                <MadCap:xref href="sql-format.html">[%=General.changelog%]s in SQL Format</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="xml-format.html">[%=General.changelog%]s in XML Format</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="json-format.html">[%=General.changelog%]s in JSON Format</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="yaml-format.html">[%=General.changelog%]s in YAML Format</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="other-formats.html">[%=General.changelog%]s in Other  Formats</MadCap:xref>
            </li>
        </ul>
        <h2 id="available-attributes">Available <MadCap:variable name="General.Param/Attribute" />s</h2>
        <table style="margin-left: auto;margin-right: auto;width: 100%;mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1"><MadCap:variable name="General.Param/Attr/Uppercased" />
                    </th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">logicalFilePath</td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Overrides the file name and path when creating the unique identifier of <MadCap:variable name="General.changeset" style="font-style: italic;" /><i>s</i>. It is required when you want to move or rename <MadCap:variable name="General.changelog" style="font-style: italic;" /><i>s</i>.</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2">objectQuotingStrategy</td>
                    <td class="TableStyle-TableStyles-BodyA-Column1-Body2">
                       Controls how object names are quoted in the SQL files generated by <MadCap:variable name="General.Liquibase" /> and used in calls to the database.					<ul style="text-align: left;"><li><code>LEGACY</code> – The default value. Does not quote objects unless the database specifies that they must be quoted, usually including reserved words and names with hyphens. In PostgreSQL databases, mixed-case names will also be quoted.</li><li><code>QUOTE_ALL_OBJECTS</code> – Every object gets quoted. For example, <code>person</code> becomes "person".</li><li><code>QUOTE_ONLY_RESERVED_WORDS</code> – The same logic as <code>LEGACY</code>, but without mixed-case objects in PostgreSQL databases.</li></ul></td>
                </tr>
            </tbody>
        </table>
        <h2 id="available-nested-elements">Available nested elements</h2>
        <table style="mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');margin-left: auto;margin-right: auto;width: 100%;" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Tag</th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">preConditions</td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">
Preconditions required to execute the <MadCap:variable name="General.changelog" style="font-style: italic;" />. Must be passed before the <MadCap:variable name="General.changeset" style="font-style: italic;" /> will be executed. It is typically used for doing a data sanity check before doing something unrecoverable such as a <code>dropTable</code>. <b>Since 1.7</b><p class="note" style="text-align: left;" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../advanced/preconditions.html">Preconditions</MadCap:xref>.</p></td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">property</td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">
                    The value for which to set the property.
                        <p class="note" style="text-align: left;" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="changelog-property-substitution.html">[%=General.changelog%] Property Substitution</MadCap:xref>.</p></td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">changeSet</td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">
                        The <MadCap:variable name="General.changeset" style="font-style: italic;" /><i>s</i> to execute.
                        <p class="note" style="text-align: left;" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="changeset.html">[%=General.changeset%]</MadCap:xref>.</p></td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">include</td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">
                        Additional files containing <MadCap:variable name="General.changeset" style="font-style: italic;" /><i>s</i> to execute.
                        <p class="note" style="text-align: left;" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../advanced/include.html">&lt;include&gt; Tag</MadCap:xref>.</p></td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body1">context</td>
                    <td class="TableStyle-TableStyles-BodyA-Column1-Body1">
                        Context to be appended to <MadCap:variable name="General.changeset" style="font-style: italic;" /><i>s</i>. <b>Since 3.5</b><p class="note" style="text-align: left;" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../advanced/contexts.html">Contexts</MadCap:xref>.</p></td>
                </tr>
            </tbody>
        </table>
        <p>When the <MadCap:variable name="General.Liquibase" /> migrator runs, it parses the <MadCap:variable name="General.changelog" style="font-style: italic;" /> tag. The migrator first checks any preconditions specified. If any of the  preconditions fail, <MadCap:variable name="General.Liquibase" /> will exit with an error message explaining what failed. Preconditions can be typically used for both documenting and enforcing expectations or assumptions. For example, you can specify the DBMS to be run against the <MadCap:variable name="General.changelog" style="font-style: italic;" /> or the user you should log in to run changes.</p>
        <p>If all preconditions are met, <MadCap:variable name="General.Liquibase" /> will begin running <MadCap:xref href="changeset.html">[%=General.changeset%]</MadCap:xref> and <a href="../advanced/include.html">include</a> tags in the order they appear in the <MadCap:variable name="General.changelog" style="font-style: italic;" /> file.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The XML schema for the <MadCap:variable name="General.changelog" style="font-style: italic;" /> tag is available at: <a href="http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd</a> <strong>Since 3.1</strong>. Legacy XSDs are listed on <a href="xml-format.html">the XML Format page</a>.</p>
        <p>Each <MadCap:variable name="General.changeset" style="font-style: italic;" /> contains the <code>id</code> and <code>author</code> tags. The <code>id</code> tag, <code>author</code> tag, classpath location, and name of the XML file create a unique identifier for the <MadCap:variable name="General.changeset" style="font-style: italic;" />.</p>
        <h2 id="sample-empty-change-log">Empty example <MadCap:variable name="General.changelog" style="font-style: italic;" /><i>s</i></h2>
        <h3>SQL example</h3><pre xml:space="preserve"><code class="language-sql" data-lang="sql">--liquibase formatted sql</code></pre>
        <h3>XML Example</h3><pre xml:space="preserve"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;  
&lt;databaseChangeLog  
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"  
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"  
    xmlns:pro="http://www.liquibase.org/xml/ns/pro"  
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd "&gt;  
&lt;/databaseChangeLog&gt;</code></pre>
        <h3>YAML example</h3><pre xml:space="preserve"><code class="language-yaml" data-lang="yaml">databaseChangeLog:</code></pre>
        <h3>JSON example</h3><pre xml:space="preserve"><code class="language-json" data-lang="json">{  "databaseChangeLog":  [  ]  }</code></pre>
        <script>/*<![CDATA[*/

 $(function() {
 $( "#changelog-tabs" ).tabs();
 });


/*]]>*/</script>
        <h2>The log level</h2>
        <p>To control the amount of messages that are generated when using your <MadCap:variable name="General.changelog" style="font-style: italic;" /> and running <MadCap:variable name="General.Liquibase" /> commands in the CLI, you need to use the <code>logLevel</code> parameter.</p>
        <p><code>logLevel</code> is an optional parameter which can be set in the <code><MadCap:variable name="General.liquiPropFile" /></code> file or specified on the command line.  The <code>logLevel</code> specified on the command line will override the value set in the <code><MadCap:variable name="General.liquiPropFile" /></code> file.</p>
        <p class="example" MadCap:autonum="&lt;b&gt;Example: &lt;/b&gt;"><code>liquibase --logLevel=debug update</code>
        </p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see the <MadCap:xref href="../advanced/loglevel.htm">logLevel parameter</MadCap:xref>.</p>
        <p>If you use Maven, you can control the <a href="https://maven.apache.org/maven-logging.html">log level of <MadCap:variable name="General.Liquibase" /> Maven plugin</a> with <code>MAVEN_OPTS</code> by passing the following command: <code class="highlighter-rouge">MAVEN_OPTS=-Dorg.slf4j.simpleLogger.defaultLogLevel=DEBUG</code>. You can also edit the log level in the <code>${maven.home}/conf/logging/simplelogger.properties</code> file.
</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">To disable the logging, run <code class="highlighter-rouge">MAVEN_OPTS=-Dorg.slf4j.simpleLogger.defaultLogLevel=OFF</code>. For more information, see <a href="https://maven.apache.org/maven-logging.html#configuring-logging">Configuring logging</a>.</p>
        <h3>Related Links</h3>
        <ul>
            <li><a href="https://www.liquibase.org/blog/using-xml-changelogs-liquibase">The Magic of Using XML <MadCap:variable name="General.changelog" style="font-style: italic;" /><i>s</i> in <MadCap:variable name="General.Liquibase" /></a>
            </li>
            <li><a href="https://www.liquibase.org/blog/trimming-liquibase-changelogs">Trimming Liquibase <MadCap:variable name="General.changelog" />s</a>                &#160;
            </li>
        </ul>
    </body>
</html>