<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1>Database Connections</h1>
        <p>Use the following options to pass <MadCap:variable name="General.Liquibase" /> the parameters that are required to establish a connection with a database:</p>
        <ul>
            <li>Connection profiles</li>
            <li>Command-line arguments</li>
            <li>Environment variables</li>
        </ul>
        <p>The following sections describe these options in more detail.</p>
        <h2>Connection Profiles</h2>
        <p>If you use the <MadCap:variable name="General.Liquibase" /> Properties file to specify properties that you do not want to enter as command-line parameters, create a <i>connection profile</i> by specifying values for the following properties:</p>
        <ul>
            <li><code>changeLogFile</code> – Path to the changelog file</li>
            <li><code>liquibase.command.url</code> – JDBC connection string</li>
        </ul>
        <p>When you run a <MadCap:variable name="General.Liquibase" /> command from within the project directory, actions are performed on the database specified by the profile properties. </p>
        <p>If you intend to run <MadCap:variable name="General.Liquibase" /> <code>diff</code> commands between two databases, specify values for the following properties, as well:</p>
        <ul>
            <li><code>referenceUrl</code> – JDBC connection string for reference database</li>
            <li><code>referenceUsername</code> – User name for reference database</li>
            <li><code>referencePassword</code> – Password for reference database</li>
        </ul>
        <p>Although connection profiles allow for the inclusion of user names and passwords, <MadCap:variable name="General.Liquibase" /> recommends that you choose one of the following alternatives to manage authentication properties:</p>
        <ul>
            <li>Store them in a secure credential repository</li>
            <li>Enter them when running a command through the CLI</li>
        </ul>
        <p>For more information about connection profiles and the <MadCap:variable name="General.Liquibase" /> Properties file, see <MadCap:xref href="creating-config-properties.html">Specifying Properties in a Connection Profile</MadCap:xref>.</p>
        <h2>Command-line Arguments</h2>
        <p>If the <MadCap:variable name="General.Liquibase" /> Properties file does not contain a valid connection profile, or if you need to override the configured properties, use the command prompt to pass connection properties to <MadCap:variable name="General.Liquibase" /> as <i>command-line arguments</i>.</p>
        <p>For example, the following command passes authentication credentials and deploys changes to the database identified by the specified properties:</p>
        <p><code>liquibase –changelog-file=dbchangelog.xml --url=jdbc:oracle:thin:@localhost:1521:oracle --username=jay --password=tiger update</code>
        </p>
        <p>For more information about connection properties and other <MadCap:variable name="General.Liquibase" /> parameters, see <MadCap:xref href="../../commands/command-parameters.htm">Command Parameters</MadCap:xref>.</p>
        <h2>Environment Variables</h2>
        <p><MadCap:variable name="General.LBPro" /> also provides <i>environment variables</i> that securely pass sensitive data.</p>
        <p>The following examples pass values for a user name, password, changelog file name, and JDBC driver URL, respectively:</p>
        <ul>
            <li><code>export LIQUIBASE_COMMAND_USERNAME=dbuser</code>
            </li>
            <li><code>export LIQUIBASE_COMMAND_PASSWORD=letmein</code>
            </li>
            <li><code>export LIQUIBASE_COMMAND_CHANGELOG_FILE=example_changelog.sql</code>
            </li>
            <li><code>export LIQUIBASE_COMMAND_URL=jdbc:h2:tcp://localhost:9090/mem:dev</code>
            </li>
        </ul>
        <p>For more information about <MadCap:variable name="General.Liquibase" /> environment variables, see <MadCap:xref href="liquibase-environment-variables.htm">Environment Variables</MadCap:xref>. For more information about the <MadCap:variable name="General.Liquibase" /> parameters to which they correspond, see <MadCap:xref href="../../commands/command-parameters.htm">Command Parameters</MadCap:xref>.</p>
    </body>
</html>