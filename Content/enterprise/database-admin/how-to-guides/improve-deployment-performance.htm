<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>How To: Improve Deployment Performance</h1>
        <p>
            <br />
        </p>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <h1 id="HowTo:ImproveDeploymentPerformance-RecommendationstoimproveDeployperformance">Recommendations to improve Deploy performance</h1>
        <ul>
            <li>Optimize your Project Settings by disabling features you don't use or by narrowing the scope of the features you do use.</li>
            <li>Increase the amount of RAM used by Datical.</li>
            <li>Upgrade to a newer version of Liquibase Enterprise/Datical.</li>
        </ul>
        <h2 id="HowTo:ImproveDeploymentPerformance-ProjectSettingsthatimprovedeployperformance">Project Settings that improve deploy performance</h2>
        <h3 id="HowTo:ImproveDeploymentPerformance-CheckyourvaluesoftheseProjectSettings">Check your values of these Project Settings</h3>
        <p><span style="color: rgb(0,0,0);">1.&#160; enableRowCount=”disabled” or "approximate"&#160;<span style="color: rgb(0,0,0);">→&#160;<a href="../improve-performance/collect-row-counts.htm" rel="nofollow">Settings for Collecting Row Counts</a></span></span>
        </p>
        <p><span style="color: rgb(0,0,0);">2.&#160; limitForecastProfiling=”true”&#160;→ For more information on this topic:&#160;<a href="../improve-performance/limited-forecast.htm" rel="nofollow">Limited Forecast</a></span>
        </p>
        <p><span style="color: rgb(0,0,0);">3.&#160; deployMode=”quick”&#160;→ For more information on this topic:&#160;<a href="../improve-performance/quick-deploy-mode.htm" rel="nofollow">"Quick Deploy" Deployment Mode</a></span>
        </p>
        <p><span style="color: rgb(0,0,0);">4.&#160; storedLogicValidityCheck="disabled" or "limited" or "local":&#160;<span style="color: rgb(0,0,0);">→ Limited or Disabled will have faster performance than Local or Global</span></span>
        </p>
        <ul>
            <li><span><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">Please see the notes in these pages:<br /></span></span></span></span></span></span></span></span>
                <ul>
                    <li><span><span style="color: rgb(23,43,77);"><span style="color: rgb(0,82,204);"><a href="stored-logic-validity-check.htm" rel="nofollow" style="text-decoration: none;">Stored Logic Validity Check details</a></span></span></span>
                    </li>
                    <li><span><span style="color: rgb(23,43,77);"><span style="color: rgb(0,82,204);"><a href="https://datical-cs.atlassian.net/wiki/spaces/DDOC/pages/896569453#ConfiguringProjectSettings-ProjectSettings" rel="nofollow" style="text-decoration: none;">Project Settings</a></span></span></span>
                    </li>
                </ul>
            </li>
            <li><span>Performance recommendations:</span>
                <ul>
                    <li><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">If you do <strong>not</strong> review or use the information in the Stored Logic Validity Check section of your deploy reports, then set&#160;<span style="color: rgb(0,0,0);">storedLogicValidityCheck="disabled" to avoid possible performance slow down for a feature you aren't actively using.</span></span></span>
                    </li>
                    <li>If you review and use the Stored Logic Validity Check information in your deploy reports but you do <strong>not</strong><span style="color: rgb(0,0,0);"> use the </span><span>storedLogicValidityAction=FAIL option,&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">then we recommend setting&#160;<span style="color: rgb(0,0,0);">storedLogicValidityCheck="limited".</span></span></span></span></li>
                    <li>If you review and use the Stored Logic Validity Check information in your deploy reports <strong>and</strong> you also<span style="color: rgb(0,0,0);">&#160;have enabled the </span><span>storedLogicValidityAction=FAIL option,&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">then we recommend setting&#160;<span style="color: rgb(0,0,0);">storedLogicValidityCheck="local". (This is the default setting.)</span></span></span></span></li>
                    <li><span><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">Although <span><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">storedLogicValidityCheck="global" is an available setting and is the most comprehensive, if performance timing is an important consideration then it may be better to use a smaller scope such as "local" or "limited".</span></span></span></span></span></span></span></span>
                    </li>
                </ul>
            </li>
        </ul>
        <p><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">5.&#160; forecastDML=false&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">→ Disabling Forecast DML can improve performance if you don't need to forecast DML:&#160;<a href="configure-project-settings.htm" rel="nofollow">Configuring Project Settings</a></span></span></span></span>
        </p>
        <p><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">6.&#160;&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">autoGenSQL=false&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">→ Disabling the Automatically Generate SQL setting can improve performance if you don't need it:&#160;<a href="configure-project-settings.htm" rel="nofollow">Configuring Project Settings</a></span></span></span></span></span></span></span></span>
        </p>
        <h3 id="HowTo:ImproveDeploymentPerformance-Howthevalueslookindatical.projectfile">How the values look in datical.project file</h3>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&lt;dbproject:Project xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dbproject="http://datical.com/db/project/1.0" name="dpe-datical-paymentmanager" storedLogicExternal="true" deployThreshold="stopOnError" runtimeCredentials="true" multiSchema="true" dbSchemaDefinition="project" schemaSelectionStep="PAMAND5" trackingSchema="DATICAL" storedLogicValidityCheck="limited" enableRowCount="disabled" limitForecastProfiling="true" deployMode="quick" autoGenSQL="false" forecastDML="false"&gt;</pre>
            </div>
        </div>
        <h3 id="HowTo:ImproveDeploymentPerformance-HowtoChangetheProjectSettings">How to Change the Project Settings</h3>
        <p>There are more details about each setting option on the&#160;<a href="configure-project-settings.htm" rel="nofollow">Configuring Project Settings</a>&#160;page.&#160; &#160;You can change them using the method you prefer:</p>
        <h4 id="HowTo:ImproveDeploymentPerformance-GUI">GUI</h4>
        <p>In the desktop client/Eclipse GUI, open your project, go to the Settings tab, and expand open the Deployment Settings section.&#160; Here is an example of what the settings would look like in the GUI when optimizing for performance:</p>
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="400" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/622034960/DeploymentSettings.jpg?version=1&amp;modificationDate=1610587680508&amp;cacheVersion=1&amp;api=v2&amp;width=410&amp;height=400" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/622034960/DeploymentSettings.jpg?version=1&amp;modificationDate=1610587680508&amp;cacheVersion=1&amp;api=v2&amp;width=753&amp;height=733 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/622034960/DeploymentSettings.jpg?version=1&amp;modificationDate=1610587680508&amp;cacheVersion=1&amp;api=v2&amp;width=410&amp;height=400 1x" /></span>
        </p>
        <h4 id="HowTo:ImproveDeploymentPerformance-CommandLine">Command Line</h4>
        <p>In the CLI, you can set those same items using "hammer set" commands for enableRowCount, limitForecastProfiling, deployMode, invalidsCheck, and autoGenSQL.&#160; Please see the set command details here:&#160;<a href="../cli-commands/cli-commands.htm" rel="nofollow">CLI Commands#set</a></p>
        <h4 id="HowTo:ImproveDeploymentPerformance-ProjectCreator">Project Creator</h4>
        <p>If you use the optional project_creator script, you can set these settings when initially creating the project.&#160; Please see the instructions here:&#160;<a href="../../devops-engineer/define-release-pipeline/create-manage-projects/create-datical-projects/create-a-project-groovy.htm" rel="nofollow">Creating a Datical Project Using the Project Creation Script (project_creator.groovy)</a></p>
        <h2 id="HowTo:ImproveDeploymentPerformance-IncreasetheamountofRAMusedbyDatical"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">Increase the amount of RAM used by Datical</span></span></span></span></span></span></span></span>
        </h2>
        <p><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">The default is -Xmx2048m.&#160; You can increase it to&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">-Xmx4096m or&#160;<span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">-Xmx8192m.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
        </p>
        <p><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">Please see the instructions on this page:&#160;<a href="../improve-performance/increase-ram.htm">Increase the amount of RAM used by Datical DB</a></span></span></span></span></span></span></span></span>
        </p>
        <h2 id="HowTo:ImproveDeploymentPerformance-UpgradetoanewerversionofLiquibaseEnterprise/DaticalDB">Upgrade to a&#160;newer version of Liquibase Enterprise/Datical DB</h2>
        <ul>
            <li>There were performance improvements for those who use the Stored Logic Validity Check project setting in Datical DB version 6.12 (and higher).</li>
            <li>There were performance improvements for Status, statusDetails, and Pipeline Status in Datical DB version 6.14 (and higher).&#160;This also improved operations which run status implicitly such as deploy, rollback, deployPackager, convert SQL and changeLogSync.&#160;&#160;</li>
            <li>There were improvements for memory utilization of SQL scripts that produce a high-volume output in 7.11 (and higher).</li>
            <li>There were improvements for<a href="sql-parser.htm" rel="nofollow" style="text-decoration: none;">SQL Parser for Oracle</a>&#160;in version 7.12 (and higher).&#160;</li>
            <li>There were improvements for&#160;<a href="../improve-performance/limited-forecast.htm" rel="nofollow" style="text-decoration: none;">Limited Forecast</a>in version 7.13 (and higher):<ul><li><span style="color: rgb(23,43,77);">Limited Forecast will only profile tables impacted by the changesets to be forecasted or deployed</span></li><li><span style="color: rgb(23,43,77);">Limited Forecast will only profile the schema impacted by the changesets to be forecasted or deployed in multi-schema projects</span></li></ul></li>
            <li>Significant performance improvements for <a href="forecast.htm" rel="nofollow">Forecast</a> profiling in version 7.14 (and higher):<ul><li><span style="color: rgb(23,43,77);">Faster forecasting of Views and Materialized Views</span></li><li><span style="color: rgb(23,43,77);">Faster profiling for tables, columns, and views in multi-schema projects</span></li><li><span style="color: rgb(23,43,77);">Use multiple connections (maximum of 10 connections) to profile schemas simultaneously in Oracle multi-schema projects.&#160;&#160;<span style="color: rgb(23,43,77);">Note that with 7.14 (and higher) in Oracle projects with multiple schemas, you may notice higher CPU utilization due to multiple connections being used for Oracle forecast profiling.</span></span></li></ul></li>
        </ul>
        <p>
            <br />
        </p>
        <p>There are other performance improvement suggestions on these pages:</p>
        <ul>
            <li><a href="../improve-performance/improve-performance.htm" rel="nofollow">Improving Performance</a>
            </li>
            <li><a href="improve-packager-performance.htm">How To: Improve Packager Performance</a>
            </li>
        </ul>
        <p>
            <br />
        </p>
        <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
            <div class="confluence-information-macro-body">
            </div>
        </div>
        <h2 id="HowTo:ImproveDeploymentPerformance-Relatedarticles">Related articles</h2>
        <p />
        <p />
        <ul class="content-by-label conf-macro output-block">
            <li>
                <div><span class="icon aui-icon aui-icon-small aui-iconfont-page-default" title="Page">Page:</span>
                </div>
                <div class="details"><a href="improve-packager-performance.htm">How To: Improve Packager Performance</a>
                </div>
            </li>
            <li>
                <div><span class="icon aui-icon aui-icon-small aui-iconfont-page-default" title="Page">Page:</span>
                </div>
                <div class="details"><a href="#">How To: Improve Deployment Performance</a>
                </div>
            </li>
            <li>
                <div><span class="icon aui-icon aui-icon-small aui-iconfont-page-default" title="Page">Page:</span>
                </div>
                <div class="details"><a href="../../documentation/guides/implementation-guides/implementation-guides.htm">Implementation Guide: Forecast and Deploy</a>
                </div>
            </li>
        </ul>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
    </body>
</html>