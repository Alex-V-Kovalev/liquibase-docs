<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Liquibase Enterprise Documentation</title><meta name="description" content="Liquibase Enterprise Documentation" /></head>
    <body>
        <h1>How do I avoid TLS errors when connecting to MS SQL Server databases?</h1> <MadCap:snippetText src="../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p><strong>Question:</strong> Customer turned off TLS 1.0 and turned on TLS 1.1, 1.2 and 2.0. Now we can no longer connect to any of the MS SQL Server databases. We get the following errors&#160;→&#160;</span><a href="https://datical-cs.atlassian.net/wiki/download/attachments/407371934/TLS error.txt?version=1&amp;modificationDate=1518738177838&amp;cacheVersion=1&amp;api=v2">TLS error.txt</a></span></p><p><strong>Answer:</strong>&#160;</span>Have customer test the MSSQL connection again using the attached driver. To install:</p><ul><li><p>Replace in $DaticalInstallDir\plugins</p></li><li><p>Replace in $DaticalInstallDir\repl\plugins</p></li></ul><p>This should allow a connection to the MSSQL Server using TLS1.2 encryption for the handshake. Perform a test connection or status on the GUI and in the REPL.</p><p>If you have problems, then turn back on the javax debugging and capture the console output.</p><ul><li><p>Add to end of line 35 in repl/hammer.bat :: -<a class="external-link" href="http://Djavax.net" rel="nofollow">Djavax.net</a>.debug=all</p></li><li><p>hammer testConnect Test</p></li></ul><p>I have this working on my machine using the bundled JRE (1.7.0_80) and basic install of <MadCap:variable name="General.DaticalDB" /> version 4.22 with no mods other than replacing the attached driver&#160;→&#160;<a href="https://datical-cs.atlassian.net/wiki/download/attachments/407371934/com.datical.db.drivers.mssql_1.0.7.jar?version=1&amp;modificationDate=1518738646473&amp;cacheVersion=1&amp;api=v2">com.datical.db.drivers.mssql_1.0.7.jar</a></span></p></body>
</html>