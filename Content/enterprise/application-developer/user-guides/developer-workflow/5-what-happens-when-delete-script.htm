<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title></title>
    </head>
    <body>
        <h1>5.0. What happens when I delete a script from source control?<MadCap:snippetText src="../../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" /></h1> <MadCap:snippetText src="../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" />
        <p>When you delete a script from the SQL repository, Datical will act on it differently based on which directory the script was in.</p>
        <h3 id="id-5.0.WhathappenswhenIdeleteascriptfromsourcecontrol?-TheStoredLogicdirectories(procedure,function,package,packagebody,trigger,view)"><strong>The Stored Logic directories&#160;(procedure, function, package, packagebody, trigger, view)</strong>
        </h3>
        <p>Prior to release 6.17&#160;<span style="color: rgb(9,30,66);">deleting a file from the SQL code repository that contained a stored logic object definition that had previously been packaged would result in a change set being added to the changelog.xml that dropped that object. If you are on a version of Datical prior to 6.17, BE CAREFUL!&#160; Deleting a stored logic script will perform a DROP operation on the object.</span></p>
        <p><span style="color: rgb(9,30,66);"><span style="color: rgb(51,51,51);">As of Datical 6.17, deleting a stored logic file from the SQL code repository will no longer result in a drop of that object being added to the change log.&#160; File deletion will be noted in the log, but won't have any effect on the Datical Project.&#160;&#160;<span style="color: rgb(9,30,66);">To generate a change set to drop a stored logic object in version 6.17 and subsequent releases replace the object definition in the file with a valid&#160;</span><code>drop</code><span style="color: rgb(9,30,66);">SQL statement for that object.</span></span></span>
        </p>
        <p>
            <br />
        </p>
        <h3 id="id-5.0.WhathappenswhenIdeleteascriptfromsourcecontrol?-Theddl,ddl_direct,data_dml,sql,andsql_directdirectories"><strong><code>The ddl</code>,&#160;</strong><strong><code>ddl_direct</code>,&#160;</strong><strong><code>data_dml, sq</code></strong><strong><code>l</code>,&#160;</strong><strong> and <code>sql_direct</code> directories</strong>
        </h3>
        <p>Scripts in these directories automatically get archived after successful packaging job.</p>
        <p>However, there could be use cases where packager job runs only once a day and during the day developers could check in a number of scripts. A developer may delete a script with the understanding that the script was never packaged.&#160;</p>
        <p>There could also be a use case where a script is failing during packaging and it prevents other scripts from packaging. Therefore, the failing script needs to be removed so that other scripts can proceed with packaging.</p>
        <p>In these use cases, it is safe to delete <code>ddl</code>, ddl_direct,&#160;<code>data_dml, sql,&#160;</code>and <code>sql_direct</code> scripts. When packager runs, it will see that a script was removed/deleted from SQL repo and it will no longer package those scripts.</p>
        <p>
            <br />
        </p>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block">
            <div class="confluence-information-macro-body">
                <p>Never delete scripts from the "archive" directory.&#160;</p>
            </div>
        </div>
    </body>
</html>