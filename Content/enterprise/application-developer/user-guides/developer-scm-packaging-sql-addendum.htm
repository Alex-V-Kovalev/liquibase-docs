<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title></title>
    </head>
    <body>
        <h1>User Guide: Developer SCM Packaging (SQL Server Addendum)</h1>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block">
            <p class="title">Note</p>
            <div class="confluence-information-macro-body">
                <p>This information is now maintained in the product documentation:&#160;<a href="../../knowledge-base/DDOC/pages/SQL_Server_Database_Objects_and_Packaging.htm">SQL Server Database Objects and Packaging</a>.</p>
            </div>
        </div>
        <p>
            <br />
        </p>
        <h1 id="UserGuide:DeveloperSCMPackaging(SQLServerAddendum)-SQLServerGuidelines">SQL Server Guidelines</h1>
        <ul>
            <li>SQL Server database objects should NOT be qualified with the <strong>database name</strong>. <MadCap:variable name="General.DaticalDB" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" /> will take care of that.</li>
            <li>For a SQL Server&#160;<strong>Default Schema (single-schema) Project</strong>, database objects can be either&#160;fully qualified or unqualified with the <strong>schema name</strong>.&#160;If they are left unqualified, <MadCap:variable name="General.DaticalDB" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" /> will deploy the changes into the default schema for the user (this is dbo, by default).</li>
            <li>For a SQL Server&#160;<strong>Multi-Schema Project</strong>, database objects <strong>must</strong> <strong>be fully qualified</strong>&#160;with the <strong>schema name</strong> so they get deployed to the correct schema during packaging.</li>
        </ul>
        <h1 id="UserGuide:DeveloperSCMPackaging(SQLServerAddendum)-SQLServerSCMPackagingPatterns">SQL Server SCM Packaging Patterns</h1>
        <p>Datical supports two development usage/packaging patterns:</p>
        <ul>
            <li>Permanent - In-place editing, packaging and&#160;<strong>no</strong>  &#160;<strong>archiving</strong>&#160;of database changes so they can be managed similar to application code. This applies to the following object types:<ul><li>Procedures (when scripts are placed in the "/procedure" folder)</li><li>Functions&#160;(when scripts are placed in the "/function" folder)</li><li>Views&#160;(when scripts are placed in the "/view" folder)</li><li>Triggers&#160;(when scripts are placed in the "/trigger" folder)</li></ul></li>
            <li>Transient - Database changes are archived after packaging (all other folders).</li>
        </ul>
        <h1 id="UserGuide:DeveloperSCMPackaging(SQLServerAddendum)-SQLServerPackagingFolders">SQL Server Packaging Folders</h1>
        <div class="table-wrap">
            <table class="relative-table wrapped confluenceTable" style="margin-left: 30.0px;width: 53.711792%;">
                <colgroup>
                    <col style="width: 40.11628%;" />
                    <col style="width: 19.069767%;" />
                    <col />
                    <col style="width: 40.813953%;" />
                </colgroup>
                <tbody style="margin-left: 30.0px;">
                    <tr style="margin-left: 30.0px;">
                        <th style="margin-left: 30.0px;" class="confluenceTh">Object Type</th>
                        <th style="margin-left: 30.0px;" class="confluenceTh">Packaging Folder</th>
                        <th colspan="1" class="confluenceTh"><span style="color: rgb(51,51,51);">Archived?</span>
                        </th>
                        <th style="margin-left: 30.0px;" class="confluenceTh">Notes</th>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd">CREATE/ALTER/DROP <strong>DATABASE LINK</strong></td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd">CREATE/ALTER/DROP <strong>FUNCTION</strong></td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/function</td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>INDEX</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/ddl /ddl_direct /sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>PROCEDURE</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/procedure</td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>QUEUE</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>SEQUENCE</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/ddl /ddl_direct /sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>SYNONYM</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/ddl /ddl_direct /sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd">
                            <p><span>CREATE/ALTER/DROP </span><strong>TABLE</strong>
                            </p>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/ddl /ddl_direct /sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>TRIGGER</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">
                            <p>/trigger</p>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>TYPE</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>VIEW</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">
                            <p>/view</p>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" class="confluenceTd"><span>CREATE/ALTER/DROP </span><strong>VIEW INDEX</strong>
                        </td>
                        <td style="margin-left: 30.0px;" class="confluenceTd">/ddl /ddl_direct /sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd">RENAME<strong>&#160;&lt;DB_OBJECT&gt;</strong></td>
                        <td colspan="1" class="confluenceTd">/sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="table-wrap">
            <table class="relative-table wrapped confluenceTable" style="margin-left: 30.0px;width: 53.524643%;">
                <colgroup>
                    <col style="width: 40.49008%;" />
                    <col style="width: 19.253208%;" />
                    <col />
                    <col style="width: 40.25671%;" />
                </colgroup>
                <tbody style="margin-left: 30.0px;">
                    <tr style="margin-left: 30.0px;">
                        <th style="margin-left: 30.0px;" class="confluenceTh">Operation</th>
                        <th style="margin-left: 30.0px;" class="confluenceTh">Packaging Folder</th>
                        <th colspan="1" class="confluenceTh"><span style="color: rgb(51,51,51);">Archived?</span>
                        </th>
                        <th style="margin-left: 30.0px;" class="confluenceTh">Notes</th>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" colspan="1" class="confluenceTd"><span>INSERT, UPDATE, DELETE, SELECT</span>
                        </td>
                        <td style="margin-left: 30.0px;" colspan="1" class="confluenceTd"><span>/data_dml</span>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td style="margin-left: 30.0px;" colspan="1" class="confluenceTd"><span>GRANT, REVOKE</span>
                        </td>
                        <td style="margin-left: 30.0px;" colspan="1" class="confluenceTd"><span>/sql_direct</span>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>