<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title>Liquibase Enterprise Documentation</title>
        <link href="../../Resources/Stylesheets/Oracle+on+Amazon+RDS+Setup.css" rel="stylesheet" />
    </head>
    <body>
        <h1 class="Heading1">Creating a User to Manage PostgreSQL Databases</h1> <MadCap:snippetText src="../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p>If you want to create a new user to be the <MadCap:variable name="General.DaticalDB" /> DB connection user, then you have two options:</p><ol start="1" class="ol_1"><li class="li_1"><p class="p_1">Ensure that user is a superuser (on-prem Postgres)</p></li><li class="li_1"><p class="p_1">Transfer ownership of all existing schema to be managed by <MadCap:variable name="General.DaticalDB" /> DB and all objects in those schema.</p></li></ol><p>The following sections show how to create a user, grant the required permissions, and transfer ownership of database objects.&#160;</p><h2 class="Heading2">1.&#160;Creating the <MadCap:variable name="General.DaticalDB" /> User and Granting the Required Permissions</h2><p>Log in as a superuser and run the following commands, substituting user and database name appropriately.</p><p class="HTMLPreformatted">CREATE USER "datical_user" WITH PASSWORD 'password';</p><p class="HTMLPreformatted">GRANT CREATE, CONNECT, TEMPORARY ON DATABASE "your_database_name" TO "datical_user" WITH GRANT OPTION;</p><h2 class="Heading2">2. Transferring Ownership of Database Objects to the <MadCap:variable name="General.DaticalDB" /> User</h2><p>You must either log in as a superuser or the object owner to transfer ownership.</p><p>&#160;</p><ol start="1" class="ol_1"><li class="li_1"><p class="p_1">Make the current owner a member of the Datical user role. </p><ul><li class="auto-cursor-target"><p>Log in as a superuser or the Datical user and grant membership:</p><p class="HTMLPreformatted">GRANT "datical_user" to "current_owner";</p></li></ul></li><li class="li_1"><p class="p_1">Transfer ownership of database objects. </p><ul><li class="auto-cursor-target_1"><p class="auto-cursor-target_1">To transfer ownership of a schema:</p><p class="HTMLPreformatted">ALTER SCHEMA "schema_name" OWNER TO "datical_user";</p></li><li class="auto-cursor-target_1"><p class="auto-cursor-target_1">To transfer ALL objects on a database to another user:</p><p class="HTMLPreformatted">REASSIGN OWNED BY "current_owner" TO "datical_user";</p></li><li class="auto-cursor-target"><p>To transfer a single object on a database to another user, please refer to the appropriate ALTER statement for that object type in the Postgres documentation.</p></li></ul></li></ol></body>
</html>