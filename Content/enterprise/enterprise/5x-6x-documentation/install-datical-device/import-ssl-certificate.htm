<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title></title>
    </head>
    <body>
        <h1>Importing Your SSL Certificate to Datical Service</h1>
        <p>During installation a self-signed certificate is installed.&#160; When you access DMC, you typically get a warning about the certificate.&#160;</p>
        <p>To complete the requirements for SSL (and eliminate the warning), you need to create and load your own SSL certificate. It must be signed by a root authority that is trusted by your network.&#160;</p>
        <h1 id="ImportingYourSSLCertificatetoDaticalService-CreatingtheSSLCertificate">Creating the SSL Certificate</h1>
        <p><span style="color: rgb(23,43,77);">The process to generate a certificate varies based on your network setup, tools you use, and trusted authorities. Consult your system administrator or security administrator for the process used at your site.&#160;</span>
        </p>
        <p><span style="color: rgb(23,43,77);">The certificate and key must be in PEM format.&#160;</span>
        </p>
        <h2 id="ImportingYourSSLCertificatetoDaticalService-ExampleCommandforGeneratingaCertificate"><span style="color: rgb(23,43,77);">Example Command for Generating a Certificate</span>
        </h2>
        <p class="auto-cursor-target">The following example is for illustration only.&#160;</p>
        <ol>
            <li class="auto-cursor-target">
                <p class="auto-cursor-target">Run the following command.&#160;</p>
                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /tmp/tls.key -out /tmp/tls.crt</pre>
                    </div>
                </div>
            </li>
            <li class="auto-cursor-target">Answer prompts. The CN value must be the Datical Service host name.&#160;</li>
        </ol>
        <p>Two files are generated:</p>
        <ul>
            <li>Key file - <code>/tmp/tls.key</code></li>
            <li>Certificate file - <code>/tmp/tls.crt</code></li>
        </ul>
        <h1 id="ImportingYourSSLCertificatetoDaticalService-LoadingtheSSLCertificate">Loading the SSL Certificate</h1>
        <p>Use the following procedure to load the SSL certificate files you generated:</p>
        <ol>
            <li>Copy the generated certificate and key files to the Datical Service host.&#160; You typically log on as the <code>datical</code> user and load the file to <code>/home/datical</code>.&#160;</li>
            <li>
                <p class="auto-cursor-target">Run the following command to load the certificate:<br /><br /></p>
                <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">sudo datical-control network https --cert &lt;cert-path&gt; --key &lt;key-path&gt;</pre>
                    </div>
                </div>
            </li>
            <li>
                <p class="auto-cursor-target">Test by opening a browser and accessing DMC.&#160;</p>
                <div class="preformatted panel conf-macro output-block" style="border-width: 1px;">
                    <div class="preformattedContent panelContent"><pre xml:space="preserve">https://&lt;path&gt;</pre>
                    </div>
                </div>
            </li>
        </ol>
        <h1 id="ImportingYourSSLCertificatetoDaticalService-AdditionalCertificatesforActiveDirectory">Additional Certificates for Active Directory</h1>
        <p>If you are using an SSL-enabled LDAP connection in Keycloak and the certificate is not signed by a standard trusted authority, you must add that certificate to the java truststore.</p>
        <p>See <a href="../administering-datical-service-5x-6x/Adding_Trusted_Certificates_for_Active_Directory.htm">Adding Trusted Certificates for Active Directory</a>.&#160;</p>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
    </body>
</html>