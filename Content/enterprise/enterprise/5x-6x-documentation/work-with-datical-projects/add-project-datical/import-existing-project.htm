<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title></title>
    </head>
    <body>
        <h1>Importing an Existing Project</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block"></div>
        <p>To import a project, log in as a user with Project Creator role.&#160;</p>
        <h1 id="ImportinganExistingProject-WhatYouNeedFirst">What You Need First</h1>
        <p>You need the following information during project creation:</p>
        <ul>
            <li>SCM Information<ul><li>Repository URL</li><li>Branch Name</li><li>Login to use (username/password or SSH key). Create the SCM user before creating the project.&#160;</li></ul></li>
            <li>Users<ul><li>At least one user must exist in Datical to be assigned the <strong>Project Creator</strong> role - this role must also be added to System Administrator role for admin to import projects.</li></ul></li>
            <li>Unique Key scheme - Projects, Pipelines, Steps, and Connections have optional but recommended fields for a unique key. Objects of each type must be able to be identified uniquely. Duplicate key names and keys are not allowed within a type (project, pipeline, step, connection).</li>
        </ul>
        <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
            <p class="title">Note</p>
            <div class="confluence-information-macro-body">
                <p>A project of a given name can be imported only once. After import, you manage the project in DMC.&#160;&#160;<br /><br />If you are using Datical Service to monitor Datical DB projects in automations, see&#160;<a href="../../../zz_sandbox/Enterprise Documentation/datical-service-5x-6x-documentation/datical-db-and-datical-service-manual-and-automated-use/Using_Datical_Service_5_x_6_x_to_Monitor_Datical_DB_Operations.htm">Using Datical Service 5.x/6.x to Monitor Datical DB Operations</a> for information on exporting projects after import.&#160;</p>
            </div>
        </div>
        <h2 id="ImportinganExistingProject-RunningStatusontheProjectBeforeImport">Running Status on the Project Before Import</h2>
        <p>If the project you want to import is a working&#160;project–that is, you have used it to package and&#160;deploy–then run a status on the project using one of the following methods:</p>
        <ul>
            <li>CLI:&#160; <code>hammer status</code></li>
            <li><span style="color: rgb(0,51,102);">GUI: On the project page, click <strong>Status</strong>.</span>
            </li>
        </ul>
        <p>Running a status makes sure that the audit database is up to date. Datical Service uses the audit database to report information on the Dashboard and the Project Summary page.&#160;</p>
        <h1 id="ImportinganExistingProject-1.ImporttheProject">1. Import the Project</h1>
        <ol style="margin-left: 0.0px;">
            <li>Select <strong>Project &gt; Import Project</strong>.</li>
            <li>Optional: add unique keys to the project, pipelines, and steps.&#160;</li>
            <li>Click <strong>Save</strong>.</li>
        </ol>
        <h1 id="ImportinganExistingProject-2.CreateaConnectiontotheSCMRepository">2. Create a Connection to the SCM Repository</h1>
        <p>In Projects &gt; Project &gt; Project Settings &gt; SCM Settings</p>
        <ol>
            <li>In <strong>Project Settings</strong>, click the <strong>SCM Settings</strong>&#160;tab.</li>
        </ol>
        <h2 id="ImportinganExistingProject-2a.GetaJenkinsCredentialIDfortheSCMRepository">2a. Get a Jenkins Credential ID for the SCM Repository</h2>
        <p>For&#160;<strong>Credential ID</strong>, you need to associate login credentials with a string you choose (credential ID). Do the following:&#160;&#160;</p>
        <ol>
            <li>Click the&#160;<u><strong>Jenkins</strong></u> link.The Jenkins administrator console opens in a <em><strong>new tab</strong></em>.&#160;</li>
            <li>Click <strong>Credentials</strong>, then click System under it</li>
            <li>Click <strong>Global credentials (unrestricted)</strong></li>
            <li>Click <strong>Add Credentials</strong><ul style="margin-left: 0.0px;"><li>Select <strong>Kind</strong>, one of the following depending on how a user logs in to your SCM system:<ul><li><strong>Username with password</strong></li><li><strong>SSH Username with private key</strong></li></ul></li><li>Provide credential information. Set the ID to a string. For example, you could use gitID&lt;projname&gt; to represent credentials to log in to Git for this project.&#160;</li><li>Click <strong>OK</strong>.</li></ul></li>
            <li>To verify, go to <strong>Credentials &gt; System &gt; Global credentials (unrestricted)</strong> to verify that the added credential exists.</li>
            <li>Click <strong>Update</strong> to view the credentials for each ID.&#160;</li>
        </ol>
        <h2 id="ImportinganExistingProject-2b.CompleteSCMConnectionInformation">2b. Complete SCM Connection Information</h2>
        <p>Go back to the Datical tab. Enter additional information.&#160;</p>
        <ul style="margin-left: 0.0px;">
            <li>SCM Type (required)</li>
            <li>URL (required)</li>
            <li>Branch (required for Git only)</li>
            <li>Project Root (required for TFS only)&#160;</li>
        </ul>
        <h1 id="ImportinganExistingProject-3.AssignUsersandGroupstotheProject">3. Assign Users and Groups to the Project</h1>
        <p>In&#160;Projects &gt; Project &gt; Project Settings &gt; Users Settings</p>
        <ol>
            <li>
                <p class="auto-cursor-target">In <strong>Project Settings</strong>, click the <strong>Users Settings</strong> tab. Project and step roles are listed in a table with the number of members assigned to each role.</p>
            </li>
            <li>
                <p class="auto-cursor-target">Click&#160; the <strong>Project Administrators</strong> role. Select users and groups as desired, then click <strong>Close</strong>.&#160;</p>
                <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
                    <div class="confluence-information-macro-body">
                        <p>The project creator is initally assigned as a Project Administrator. Remove that user if desired.&#160;</p>
                    </div>
                </div>
            </li>
            <li>Click the other roles as needed. Select users and groups as desired, then click <strong>Close</strong>.&#160;</li>
        </ol>
        <h1 id="ImportinganExistingProject-4.Optional-EditUniqueKeystoPipelines,Steps,andConnections">4. Optional - Edit Unique Keys to Pipelines, Steps, and Connections</h1>
        <div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block">
            <p class="title">Warning</p>
            <div class="confluence-information-macro-body">
                <p>If you are using Datical Service to monitor Datical DB projects, do not change the key that is assigned during import–it must be preserved for export. See&#160;<a href="../../../zz_sandbox/Enterprise Documentation/datical-service-5x-6x-documentation/datical-db-and-datical-service-manual-and-automated-use/Using_Datical_Service_5_x_6_x_to_Monitor_Datical_DB_Operations.htm">Using Datical Service 5.x/6.x to Monitor Datical DB Operations</a>.&#160;</p>
            </div>
        </div>
        <p>Otherwise, you may change the key to a more readable and convenient string. Use only lowercase letters, numbers, '_', and '-' characters.&#160;</p>
        <h1 id="ImportinganExistingProject-5.ReviewDeploymentSettings">5. Review Deployment Settings</h1>
        <p>In Projects &gt; Project &gt; Project Settings &gt; Deployment Settings</p>
        <ol>
            <li>In <strong>Project Settings</strong>, click the <strong>Deployment Settings</strong> tab.&#160;</li>
            <li>Select values for the desired deployment behavior for this project.</li>
            <li>
                <p class="auto-cursor-target">Click <strong>Save</strong>.</p>
            </li>
        </ol>
        <ul style="margin-left: 0.0px;">
            <li><strong>Forecast and deploy</strong>
                <ul>
                    <li>Require options for forecast and deploy (labels and contexts)</li>
                    <li>Automatically generate SQL for deploy</li>
                    <li>Limit forecast profiling</li>
                    <li>Forecast data modification changes</li>
                </ul>
            </li>
            <li><strong>Deployment Threshold (for Full Deploy)</strong>
                <ul>
                    <li>Stop on error</li>
                    <li>Stop on warning</li>
                    <li>Always deploy (Not recommended)</li>
                </ul>
            </li>
            <li><strong>Check Stored Logic Validity After Deployment (Oracle and SQL Server databases only)</strong>
                <ol>
                    <li>Disabled</li>
                    <li>Local - Check the target schema only</li>
                    <li>Global - Check all schema in the database</li>
                </ol>
            </li>
            <li><strong>Deployment Mode</strong>
                <ul>
                    <li>Full - Perform rules validation and run a forecast before deploying. Deployment threshold applies.</li>
                    <li>Quick - Deploy wihout rules validation or forecast.&#160;</li>
                </ul>
            </li>
        </ul>
        <h1 id="ImportinganExistingProject-6.AdditionalstepsforrunningDaticalDBHammerCommands">6. Additional steps for running Datical DB Hammer Commands</h1>
        <ol>
            <li>Go to directory that contains your Datical project.&#160;&#160;</li>
            <li>Delete the datical.project file (this information is now contained in DMC 5)</li>
            <li>If you are using source control, make sure you delete the datical.project file in scm (ex. if using git, git rm datical.project)</li>
            <li>Make sure your SCM is set up to ignore datical.project, you can find an example for git <a href="https://datical-cs.atlassian.net/wiki/spaces/DD/pages/13467718/User+Guide+-+1.2.+Create+.gitignore+file+In+Datical+DB+Project+Directory" rel="nofollow">here</a>, svn <a href="../../../../DDKB/pages/Implementation_Guide__Create_subversion_ignore_list_In_Datical_DB_Project_Directory.htm" rel="nofollow">here</a></li>
            <li>Commit changes to SCM (ex. git push)</li>
            <li>Delete file locally if it still exists&#160;</li>
            <li>Run hammer commands. Use the following options:<ul><li><code>--daticalServer=&lt;host&gt;</code> -&#160;<span style="color: rgb(51,51,51);">The cluster name set for Datical Service. The cluster name is set during Datical Service installation.</span></li><li><code>--daticalUsername=&lt;user&gt;</code> -&#160;<span style="color: rgb(51,51,51);">User name, must be configured in Datical Service. Use the DATICAL_PASSWORD environment variable to provide the password.</span></li><li><code>--projectKey=&lt;projectRef&gt;</code> -&#160;<span style="color: rgb(51,51,51);">Project to use, specified by</span><code style="text-align: left;">&lt;projectRef&gt;</code><span style="color: rgb(51,51,51);">,&#160; a project name or project key. The project key is defined in Datical Service only.&#160;</span></li></ul></li>
        </ol>
        <p><span style="color: rgb(51,51,51);">See&#160;<a href="../../../zz_sandbox/Enterprise Documentation/datical-service-5x-6x-documentation/datical-db-and-datical-service-manual-and-automated-use/Using_Datical_DB_Hammer_Commands_with_Projects_in_Datical_Service.htm">Using Datical DB Hammer Commands with Projects in Datical Service</a>.&#160;</span>
        </p>
        <h1 id="ImportinganExistingProject-7.ViewtheProjectSummary"><span style="color: rgb(51,51,51);">7. View the Project Summary</span>
        </h1>
        <ol>
            <li><span style="color: rgb(51,51,51);">Click <strong>Projects &gt; Project List</strong></span>
            </li>
            <li class="auto-cursor-target">
                <p class="auto-cursor-target"><span style="color: rgb(51,51,51);"><span style="color: rgb(51,51,51);">In the projects list, click the project you just imported. <br /><br /></span></span>
                </p>
                <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
                    <p class="title">Note</p>
                    <div class="confluence-information-macro-body">
                        <p>If you imported a working project (packaging and deploy operations had populated the release pipeline)</p>
                        <p>AND</p>
                        <p>You do not see numbers on the <strong>Undeployed Labels</strong> line (under the graphics) OR the Labels page is blank OR the Changesets page is blank.</p>
                        <p>THEN DO THIS&#160;</p>
                        <ul>
                            <li>Click <strong>Status</strong> in the project bar - if you enabled hammer commands in Step 6<br /><br />OR</li>
                        </ul>
                        <ul>
                            <li>Go back to the the project source (where it was before you imported it) and run a status.&#160;<ul><li>CLI:&#160; <code>hammer status</code></li><li><span style="color: rgb(0,51,102);">GUI: On the project page, click <strong>Status</strong>.</span></li></ul></li>
                        </ul>
                    </div>
                </div>
            </li>
            <li class="auto-cursor-target">See&#160;<a href="Viewing_Datical_Projects.htm">Viewing Datical Projects</a>&#160;for more information.&#160;</li>
        </ol>
        <p>
            <br />
        </p>
    </body>
</html>