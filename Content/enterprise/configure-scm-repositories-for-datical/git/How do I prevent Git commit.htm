<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title>Liquibase Enterprise Documentation</title>
        <link href="../../../Resources/Stylesheets/How+do+I+prevent+Git+commit+error+(An+internal+error+occurred...)_.css" rel="stylesheet" />
    </head>
    <body>
        <h1>How do I prevent Git commit error (An internal error occurred...)?</h1>
        <p>&#160;</p>
        <p><span class="Strong">Question:</span> I used to be able to commit my <MadCap:variable name="General.DaticalDB" /> project using <MadCap:variable name="General.DaticalDB" /> GUI. Now I'm seeing an error when I try to commit my changes.</p>
        <p>This happens when I right-click on my project &gt; select Team &gt; select Commit &gt; type my commit message and press the Commit button. I get this error:</p>
        <p>
            <img src="../../../Resources/Images/How+do+I+prevent+Git+commit+error+(An+internal+error+occurred...)_/How do I prevent Git commit.png" class="img_1" />
        </p>
        <p>I didn't change anything on my side. Since I started seeing this error, I've also performed a clean install of <MadCap:variable name="General.DaticalDB" /> followed up installing drivers. I still get this error.</p>
        <p>Looking into metadata.log file, I see this message (notice half way through this message: "<span class="HTMLCode_1">Input did not match supplied length. 150 bytes are missing.</span>"):</p>
        <p class="HTMLPreformatted">!ENTRY org.eclipse.egit.ui 4 0 2017-08-31 17:31:20.283</p>
        <p class="HTMLPreformatted">!MESSAGE An internal error occurred</p>
        <p class="HTMLPreformatted">!STACK 0</p>
        <p class="HTMLPreformatted">org.eclipse.jgit.api.errors.JGitInternalException: Exception caught during execution of commit command</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.jgit.api.CommitCommand.call(CommitCommand.java:277)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.egit.core.op.CommitOperation.commit(CommitOperation.java:255)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.egit.core.op.CommitOperation.access$7(CommitOperation.java:233)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.egit.core.op.CommitOperation$1.run(CommitOperation.java:197)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2344)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2326)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.egit.core.op.CommitOperation.execute(CommitOperation.java:207)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.egit.ui.internal.commit.CommitUI$2.run(CommitUI.java:220)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)</p>
        <p class="HTMLPreformatted">Caused by: java.io.EOFException: Input did not match supplied length. 150 bytes are missing.</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.jgit.storage.file.ObjectDirectoryInserter.shortInput(ObjectDirectoryInserter.java:237)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.jgit.storage.file.ObjectDirectoryInserter.toTemp(ObjectDirectoryInserter.java:168)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.jgit.storage.file.ObjectDirectoryInserter.insert(ObjectDirectoryInserter.java:105)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.jgit.api.CommitCommand.createTemporaryIndex(CommitCommand.java:363)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;at org.eclipse.jgit.api.CommitCommand.call(CommitCommand.java:195)</p>
        <p class="HTMLPreformatted">&#160;&#160;&#160;&#160;... 8 more<br /></p>
        <p><span class="Strong">Answer:</span> The solution to this problem is to set core.autocrlf=false. </p>
        <p>The way to set this in <MadCap:variable name="General.DaticalDB" /> GUI is go to File &gt; Preferences &gt; Team &gt; Git &gt; Configuration.</p>
        <p>If core.autocrlf is set to true, then change its value to false.</p>
        <p>If not already set, click New Entry... button and provide these values:</p>
        <p>Key: core.autocrlf</p>
        <p>Value: false</p>
        <p>Then click Apply and click OK. Restart <MadCap:variable name="General.DaticalDB" /> GUI and try committing your project again.</p>
    </body>
</html>