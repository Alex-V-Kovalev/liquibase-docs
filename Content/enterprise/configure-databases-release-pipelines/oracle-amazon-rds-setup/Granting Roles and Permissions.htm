<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title>Liquibase Enterprise Documentation</title>
        <link href="../../../Resources/Stylesheets/Single-Schema+Projects+-+Oracle+on+Amazon+RDS+Roles+and+Permissions.css" rel="stylesheet" />
    </head>
    <body>
        <h1 class="Heading1">Granting Roles and Permissions</h1>
        <p class="NormalWeb">Grant the roles to the managed schema account.&#160;&#160;Modify the script to grant the schema owner unlimited tablespace based upon your company policy and tablespace configuration.</p>
        <p><span class="span_1">REF Database Roles and Permissions</span> </p>
        <p class="HTMLPreformatted">-- Permissions for REF databases.</p>
        <p class="HTMLPreformatted">-- Modify this to set the appropriate account name for your SchemaOwner account.</p>
        <p class="HTMLPreformatted">GRANT DATICAL_SCHEMA_OWNER_ROLE TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted">GRANT DATICAL_PACKAGER_SCHEMA_OWNER ROLE to &lt;replace_SchemaOwner&gt;:</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- Directory permissions cannot be granted by a ROLE because the directory is checked through the utl_file.file_exists function.</p>
        <p class="HTMLPreformatted">-- Datapump backup directory.</p>
        <p class="HTMLPreformatted">GRANT READ, WRITE ON DIRECTORY DATICAL_DATA_PUMP_DIR TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted">-- Access to trace files.</p>
        <p class="HTMLPreformatted">GRANT READ, WRITE on DIRECTORY BDUMP to &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">GRANT DATICAL_TRACK_ROLE TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- Unlimited tablespace access</p>
        <p class="HTMLPreformatted">-- GRANT UNLIMITED TABLESPACE TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted"> -- –or-</p>
        <p class="HTMLPreformatted">-- Grant access to one or more specified tablespaces</p>
        <p class="HTMLPreformatted">-- ALTER USER &lt;replace_SchemaOwner&gt; QUOTA UNLIMITED ON &lt;replace_tablespace&gt;;</p>
        <p class="NormalWeb">&#160;</p>
        <p><span class="span_1">non-REF Database Roles and Permissions</span> </p>
        <p class="HTMLPreformatted">-- Permissions for non-REF databases.</p>
        <p class="HTMLPreformatted">-- Modify this to set the appropriate account name for your SchemaOwner account.</p>
        <p class="HTMLPreformatted">GRANT DATICAL_SCHEMA_OWNER_ROLE TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted">GRANT DATICAL_TRACK_ROLE TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- Unlimited tablespace access</p>
        <p class="HTMLPreformatted">-- GRANT UNLIMITED TABLESPACE TO &lt;replace_SchemaOwner&gt;;</p>
        <p class="HTMLPreformatted"> -- –or-</p>
        <p class="HTMLPreformatted">-- Grant access to one or more specified tablespaces</p>
        <p class="HTMLPreformatted">-- ALTER USER &lt;replace_SchemaOwner&gt; QUOTA UNLIMITED ON &lt;replace_tablespace&gt;;</p>
        <p class="NormalWeb">&#160;</p>
        <p class="NormalWeb">&#160;The roles granted to SchemaOwner must be DEFAULT roles.&#160; Be sure to validate that the accounts have all the required DEFAULT roles.</p>
        <p><span class="span_1">Validate Default Roles</span> </p>
        <p class="HTMLPreformatted">-- Verify permissions.</p>
        <p class="HTMLPreformatted">-- Modify this to set the appropriate account name for your SchemaOwner accounts.</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">select grantee, granted_role, default_role from dba_role_privs where grantee = '&lt;replace_SchemaOwner&gt;' order by 1;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- If DEFAULT_ROLE is not YES.&#160; Execute the following.</p>
        <p class="HTMLPreformatted">alter user &lt;replace_SchemaOwner&gt; default role DATICAL_ROLE;</p>
        <p class="HTMLPreformatted">alter user &lt;replace_SchemaOwner&gt; default role DATICAL_PACKAGER_ROLE;&#160; /* REF database only */</p>
        <p class="HTMLPreformatted">alter user &lt;replace_SchemaOwner&gt; default role DATICAL_TRACK_ROLE;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- Verify READ/WRITE permissions exist on the DATICAL_DATA_PUMP_DIR (REF database only).</p>
        <p class="HTMLPreformatted">select table_name, privilege from DBA_TAB_PRIVS where grantee = '&lt;replace_SchemaOwner&gt;';</p>
    </body>
</html>