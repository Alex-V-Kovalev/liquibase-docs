<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title>Liquibase Enterprise Documentation</title><meta name="description" content="Liquibase Enterprise Documentation /></head>
    <body>
        <h1>Oracle Edition-Based Redefinition</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p><MadCap:variable name="General.DaticalDB" /> supports Editioning Views. No special handling or configuration is required.&#160;</p><div class="confluence-information-macro confluence-information-macro-information conf-macro output-block"><p class="title">Note</p><div class="confluence-information-macro-body"><p>The Oracle user (schema) must have ENABLE EDITIONS assigned.&#160; See <a class="external-link" href="https://oracle-base.com/articles/11g/edition-based-redefinition-11gr2" rel="nofollow">Oracle documentation</a>.&#160;</p></div></div><h1 id="OracleEdition-BasedRedefinition-EditioningViewsinOracle">Editioning Views in Oracle</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p>An editioning view is very much like any other view, except that it allows for the definition of more types of triggers on the view. &#160; It allows this because Editioning Views take the place of tables in an environment where Edition Based Redefinition is being used. &#160;In these environments, the editioning view is "like an API to the base table."</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">create table payment_manager.TESTING_B (
&#160;&#160;PAYMENT_STATUS_ID&#160; NUMBER,
&#160;&#160;NAME&#160; VARCHAR2(64),
&#160;&#160;DESCRIPTION VARCHAR2(512),
&#160;&#160;CREATION_DATE&#160;&#160; TIMESTAMP(6) WITH LOCAL TIME ZONE,
&#160;&#160;MODIFY_DATE&#160;&#160; TIMESTAMP(6) WITH LOCAL TIME ZONE
);
&#160;
CREATE OR REPLACE EDITIONING VIEW payment_manager.TESTING AS
&#160;&#160;SELECT PAYMENT_STATUS_ID,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;NAME,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;DESCRIPTION,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;CREATION_DATE,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;MODIFY_DATE
&#160;&#160;FROM payment_manager.TESTING_B;</pre></div></div><div><div class="syntaxhighlighter sh-confluence nogutter java"><h1 class="auto-cursor-target" id="OracleEdition-BasedRedefinition-EnablingEditions">Enabling Editions</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p>Editions must be enabled on the user (schema owner).&#160;&#160;</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">ALTER USER &lt;user&gt; ENABLE EDITIONS;</pre></div></div><p><br /></p><h1 id="OracleEdition-BasedRedefinition-PermissionsforEditions">Permissions for Editions</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p>A user must have permissions to create and drop editions. Add these permissions to the Datical role.&#160;</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">GRANT CREATE ANY EDITION TO &lt;role_or_user&gt;;
GRANT DROP ANY EDITION TO &lt;role_or_user&gt;;</pre></div></div><p><br /></p><h1 class="auto-cursor-target" id="OracleEdition-BasedRedefinition-DaticalSupportforEditioningViews">Datical Support for Editioning Views</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p>Datical supports the following operations for editioning views:</p><ul><li>Package SQL scripts (including snapshot and diff)</li><li>Diffchangelog (generate editioning-view changesets from the result)</li><li>Deploy</li><li>Drop</li></ul><p><br /></p></div></div></body>
</html>