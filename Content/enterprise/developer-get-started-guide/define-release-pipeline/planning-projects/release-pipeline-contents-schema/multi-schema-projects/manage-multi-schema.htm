<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Liquibase Enterprise Documentation</title>
        <meta name="description" content="Liquibase Enterprise Documentation" />
    </head>
    <body>
        <h1>Managing a Multiple Schema Deployment Plan</h1>
        <MadCap:snippetText src="../../../../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" />
        <MadCap:snippetBlock src="../../../../../../Z_Resources/Snippets/enterprise/DBA.flsnp" />
        <p><span>Working with a Multiple Schema Deployment Plan is not much different than working with legacy or Single Schema deployment plans. There are a few minor differences that will be covered in this section.</span>
        </p>
        <h2>Organization of the Resources Directory</h2>
        <p><span>To simplify management of files in the Resources directory that provide content to your Deployment Plan, these files will be organized in sub-folders that correspond to the plan's managed schema. This makes the files easier to find and prevents overwriting and collisions should there be identically named resources in more than one of the schema under management by this Deployment Plan.</span> <br /><br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="320" width="310" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav2176776bd33ca8a86ae4ac441832d4be.png?version=1&amp;modificationDate=1569858626001&amp;cacheVersion=1&amp;api=v2&amp;width=310&amp;height=320" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav2176776bd33ca8a86ae4ac441832d4be.png?version=1&amp;modificationDate=1569858626001&amp;cacheVersion=1&amp;api=v2&amp;width=458&amp;height=473 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav2176776bd33ca8a86ae4ac441832d4be.png?version=1&amp;modificationDate=1569858626001&amp;cacheVersion=1&amp;api=v2&amp;width=310&amp;height=320 1x" /></span></p>
        <h2>Schema Targeting of Objects in the Change Log</h2>
        <p><span>In order to associate and deploy objects to the appropriate schema in a plan that manages more than one, most change types will now include new attributes that explicitly set the schema. These attributes will be automatically appended to Change Sets generated by a Snapshot or DiffChangeLog. Additionally, the Change Set Wizard will include these attributes where necessary.<br /><br /></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="268" width="362" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav465dd9028cf74b4d8529abfd9573308b.png?version=1&amp;modificationDate=1569858625646&amp;cacheVersion=1&amp;api=v2&amp;width=362&amp;height=267" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav465dd9028cf74b4d8529abfd9573308b.png?version=1&amp;modificationDate=1569858625646&amp;cacheVersion=1&amp;api=v2&amp;width=537&amp;height=397 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav465dd9028cf74b4d8529abfd9573308b.png?version=1&amp;modificationDate=1569858625646&amp;cacheVersion=1&amp;api=v2&amp;width=362&amp;height=267 1x" /></span>
        </p>
        <h2>Managing New Deployment Plan Settings for Multiple Schema and Schema Definition Level</h2>
        <p><span>After a Deployment Plan has been created it is possible to modify the Multiple Schema Management and Schema Definition Level options to accommodate changes in your environment. However, there are some limitations to what can be modified and some changes may require additional manual configuration of your environment. Those cases are detailed below.</span>
        </p>
        <ul>
            <li><span>You cannot change a Deployment Plan from Multiple Schema to Single Schema and vice versa.</span>
            </li>
        </ul>
        <ul>
            <li><span>You can switch your Tracking Schema when the Schema Definition Level is set to</span><span>'Deployment Plan,' but you must manually move the existing DATABASECHANGELOG and DATABASECHANGELOGLOCK tables to the new schema in order to preserve previous tracking information.</span>
            </li>
        </ul>
        <ul>
            <li><span>If you switch the Schema Definition Level from 'Deployment Plan' to 'Deployment Step' you may need to update your Deployment Steps with the appropriate schema information.</span>
            </li>
        </ul>
        <p><span>The controls to manage these settings are on the 'Settings' tab of the Deployment Plan Editor. Refer to the screenshot and explanatory passages below.</span> <br /><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="290" width="564" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav1e19562306efae1b502f0787b31666f9.png?version=1&amp;modificationDate=1569858625820&amp;cacheVersion=1&amp;api=v2&amp;width=564&amp;height=288" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav1e19562306efae1b502f0787b31666f9.png?version=1&amp;modificationDate=1569858625820&amp;cacheVersion=1&amp;api=v2&amp;width=840&amp;height=429 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896569133/worddav1e19562306efae1b502f0787b31666f9.png?version=1&amp;modificationDate=1569858625820&amp;cacheVersion=1&amp;api=v2&amp;width=564&amp;height=288 1x" /></span><br /></p>
        <table>
            <tbody>
                <tr>
                    <td>
                        <p><span>Control Name</span>
                        </p>
                    </td>
                    <td>
                        <p>Description</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><span>Select Schema From:</span>
                        </p>
                    </td>
                    <td>
                        <p><span>This drop menu allows you to select which Deployment Step in your project should be used to populate lists of schema for the other controls.</span>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><span>Managed Schema:</span>
                        </p>
                    </td>
                    <td>
                        <p><span>The text field lists the current list of Managed Schema when the Schema Definition Level is set to Deployment Plan. To modify the list, click the 'Configure' button to launch a list selector like the one used in the New Deployment Plan Wizard to initially configure Managed Schema for the plan.</span>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><span>Tracking Schema:</span>
                        </p>
                    </td>
                    <td>
                        <p><span>This drop menu is initially populated with the current schema name that contains the Tracking Tables. You can use the drop menu to select a new Tracking Schema, but you'll have to manually move the DATABASECHAGNELOG and DATABASECHAGNELOGLOCK tables to the new schema.</span>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><span>Level at which Database Schema are Specified</span>
                        </p>
                    </td>
                    <td>
                        <p><span>This radio button list has two options that allow you to switch from specifying the schema once at the Deployment Plan level for all Deployment Steps or once for each Deployment Steps. You can only modify this setting for a Single Schema Deployment Plan.</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>