<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title></title>
        <link href="../../../../Resources/Stylesheets/Multi-Schema+Projects+-+Oracle+on+Amazon+RDS+Roles+and+Permissions.css" rel="stylesheet" />
    </head>
    <body>
        <h1 class="Heading1">Granting Roles and Permissions</h1>
        <p>Grant the roles to the DATICAL_USER and DATICAL_TRACKING accounts.</p>
        <p><span class="span_1">REF Database Roles and Permissions</span> </p>
        <p class="HTMLPreformatted">-- Permissions for REF databases.</p>
        <p class="HTMLPreformatted">-- Modify this to set the appropriate account name for your DATICAL_USER and DATICAL_TRACKING accounts.</p>
        <p class="HTMLPreformatted">GRANT DATICAL_ROLE TO DATICAL_USER WITH ADMIN OPTION;</p>
        <p class="HTMLPreformatted">GRANT DATICAL_PACKAGER_ROLE to DATICAL_USER;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- Directory permissions cannot be granted by a ROLE because the directory is checked through the utl_file.file_exists function.</p>
        <p class="HTMLPreformatted">-- Datapump backup directory.</p>
        <p class="HTMLPreformatted">GRANT READ, WRITE ON DIRECTORY DATICAL_DATA_PUMP_DIR TO DATICAL_USER;</p>
        <p class="HTMLPreformatted">-- Access to trace files.</p>
        <p class="HTMLPreformatted">GRANT READ on DIRECTORY BDUMP to DATICAL_USER;</p>
        <p class="HTMLPreformatted">GRANT ALTER SESSION TO DATICAL_USER;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">GRANT DATICAL_TRACK_ROLE TO DATICAL_TRACKING;</p>
        <p>&#160;</p>
        <p><span class="span_1">non-REF Database Roles and Permissions</span> </p>
        <p class="HTMLPreformatted">-- Permissions for non-REF databases.</p>
        <p class="HTMLPreformatted">-- Modify this to set the appropriate account name for your DATICAL_USER and DATICAL_TRACKING accounts.</p>
        <p class="HTMLPreformatted">GRANT DATICAL_ROLE TO DATICAL_USER;</p>
        <p class="HTMLPreformatted">GRANT ALTER SESSION TO DATICAL_USER;</p>
        <p class="HTMLPreformatted">GRANT DATICAL_TRACK_ROLE TO DATICAL_TRACKING;</p>
        <p>&#160;</p>
        <p>&#160;The roles granted to DATICAL_USER and DATICAL_TRACKING must be DEFAULT roles.&#160; Be sure to validate that the accounts have all the required DEFAULT roles.</p>
        <p><span class="span_1">Validate Default Roles</span> </p>
        <p class="HTMLPreformatted">-- Verify permissions.</p>
        <p class="HTMLPreformatted">-- Modify this to set the appropriate account name for your DATICAL_USER and DATICAL_TRACKING accounts.</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">select grantee, granted_role, default_role from dba_role_privs where grantee like 'DATICAL%' order by 1;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- If DEFAULT_ROLE is not YES.&#160; Execute the following.</p>
        <p class="HTMLPreformatted">alter user DATICAL_USER default role DATICAL_ROLE;</p>
        <p class="HTMLPreformatted">alter user DATICAL_USER default role DATICAL_PACKAGER_ROLE;&#160; /* REF database only */</p>
        <p class="HTMLPreformatted">alter user DATICAL_TRACKING default role DATICAL_TRACK_ROLE;</p>
        <p class="HTMLPreformatted">&#160;</p>
        <p class="HTMLPreformatted">-- Verify READ/WRITE permissions exist on the DATICAL_DATA_PUMP_DIR and BDUMP directories (REF database only).</p>
        <p class="HTMLPreformatted">select table_name, privilege from DBA_TAB_PRIVS where grantee = 'DATICAL_USER';</p>
    </body>
</html>