<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title>Liquibase Enterprise Documentation</title><meta name="description" content="Liquibase Enterprise Documentation" /></head>
    <body>
        <h1>Variation: Silent Install of <MadCap:variable name="General.DaticalDB" /> on Linux Systems</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p /><h1 id="Variation:SilentInstallofDaticalDBonLinuxSystems-UseCase:AutomationSystem">Use Case: Automation System</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p>A silent install&#160;<span style="color: rgb(9,30,66);">does not require any input from the user so it can be done by an automation agent such as Jenkins</span>.&#160; &#160;At a high-level, the steps for an automated install are:</p><ol><li>From a host that has access to the internet, download the <MadCap:variable name="General.DaticalDB" /> installer and Composite Repository, which contains installation files for the <MadCap:variable name="General.DaticalDB" /> clients and JDBC drivers.</li><li>Move the DaticalDB installer and Composite Repository to the host where you want <MadCap:variable name="General.DaticalDB" /> to run.&#160;</li><li>Create an XML file to provide the installation input parameters.</li><li>Install <MadCap:variable name="General.DaticalDB" />.&#160;</li><li>Install the CLI drivers from the Composite Repository.</li><li>Verify the installation.</li></ol><h1 id="Variation:SilentInstallofDaticalDBonLinuxSystems-SilentInstallofDaticalDBonaLinuxSystem">Silent Install of <MadCap:variable name="General.DaticalDB" /> on a Linux System</h1> <MadCap:snippetText src="../../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-1.DownloadtheInstallationFiles">1. Download the Installation Files</h2><p>On a host that has internet access, download the following items from <a class="external-link" href="http://software.datical.com" rel="nofollow">software.datical.com</a>:</p><ul><li>Linux installer (.jar file) - Example:&#160;<code>DaticalDB-linux.gtk.x86_64-5.12.5833</code></li><li>Composite repository - Example:&#160;<code>DaticalDBCompositeRepo-5.12.5833.zip</code></li></ul><p>Go to <a class="external-link" href="http://software.datical.com" rel="nofollow">software.datical.com</a> to download files.&#160;</p><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-2.VerifytheJDKVersionontheInstallationHost">2.&#160;Verify the JDK Version on the Installation Host</h2><p>Run the following "java -version" command in a terminal window to check that you are running a supported version of the JDK (version 1.8.x)</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve"># java â€“version
java version "1.8.0_xx"Java(TM) SE Runtime Environment (build 1.8.0_xxx)
Java HotSpot(TM) Client VM (build 24.75-b04, mixed mode, sharing)</pre></div></div><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-3.CreatetheDaticalUser.">3.&#160;Create the <MadCap:variable name="General.DaticalDB" /> User.</h2><p><MadCap:variable name="General.DaticalDB" /> should be installed as a non-root user.&#160; Commonly this user is named "datical".</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">groupadd datical
useradd -d /opt/datical -g datical datical
passwd datical</pre></div></div><p><br /></p><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-4.SetUpInstallationDirectories">4. Set Up Installation Directories&#160;</h2><p><br /></p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">mkdir datical
mkdir datical/installers
mkdir datical/license
mkdir datical/DaticalDB_x.y.z
ln -sf DaticalDB_x.y.z datical/DaticalDB

</pre></div></div><p><br /></p><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-5.PreparetheInstallationFiles">5.&#160; Prepare the Installation Files</h2><ol><li>Copy the Linux installer to the <code>datical/installers</code> directory</li><li>Copy the Composite Repo to the datical/installers directory</li><li><p class="auto-cursor-target">Copy your license file to the datical/license directory</p></li><li><p class="auto-cursor-target">Copy the following XML file and place it in the datical/installers directory.<br />The file should be named autoInstall.xml.<br />Update the &lt;installpath&gt; and "license.path" for your installation.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;&lt;AutomatedInstallation langpack="eng"&gt;&lt;com.izforge.izpack.panels.HelloPanel id="UNKNOWN (com.izforge.izpack.panels.HelloPanel)"/&gt;&lt;com.izforge.izpack.panels.LicencePanel id="UNKNOWN (com.izforge.izpack.panels.LicencePanel)"/&gt;&lt;com.izforge.izpack.panels.TargetPanel id="UNKNOWN (com.izforge.izpack.panels.TargetPanel)"&gt;&lt;installpath&gt;/opt/datical/DaticalDB_7.2&lt;/installpath&gt;&lt;/com.izforge.izpack.panels.TargetPanel&gt;&lt;com.izforge.izpack.panels.PacksPanel id="UNKNOWN (com.izforge.izpack.panels.PacksPanel)"&gt;&lt;pack index="0" name="<MadCap:variable name="General.DaticalDB" /> UI" selected="true"/&gt;&lt;pack index="1" name="<MadCap:variable name="General.DaticalDB" /> CLI" selected="true"/&gt;&lt;pack index="2" name="<MadCap:variable name="General.DaticalDB" /> license manager" selected="true"/&gt;&lt;pack index="3" name="Java Runtime" selected="true"/&gt;&lt;pack index="4" name="Oracle Instant Client" selected="true"/&gt;&lt;/com.izforge.izpack.panels.PacksPanel&gt;&lt;com.izforge.izpack.panels.UserInputPanel id="SelectLicenseFilePanel"&gt;&lt;userInput&gt;&lt;entry key="license.path" value="/opt/datical/license/myLicense.lic"/&gt;&lt;/userInput&gt;&lt;/com.izforge.izpack.panels.UserInputPanel&gt;&lt;com.izforge.izpack.panels.InstallPanel id="UNKNOWN (com.izforge.izpack.panels.InstallPanel)"/&gt;&lt;com.izforge.izpack.panels.ShortcutPanel id="UNKNOWN (com.izforge.izpack.panels.ShortcutPanel)"/&gt;&lt;com.izforge.izpack.panels.FinishPanel id="UNKNOWN (com.izforge.izpack.panels.FinishPanel)"/&gt;&lt;/AutomatedInstallation&gt;</pre></div></div></li></ol><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-6.InstallDaticalDB">6. Install DaticalDB&#160;</h2><p class="auto-cursor-target">Run the installer as the datical user.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">cd /opt/datical/installers
java -jar &lt;Datical Installer&gt;.jar autoInstall.xml
cp /opt/datical/license/*.lic /opt/datical/DaticalDB/repl
export PATH=$PATH:/opt/datical/DaticalDB/repl
hammer installDrivers jar:file:/opt/datical/installers/DaticalDBCompositeRepo-x.y.z.zip\!/</pre></div></div><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-7.VerifytheInstall">7. Verify the Install&#160;</h2><p class="auto-cursor-target">Run the following commands to verify the install.&#160;</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer checkdrivers
hammer show version
hammer show license</pre></div></div><h2 id="Variation:SilentInstallofDaticalDBonLinuxSystems-8.UpdatethePATHVariable">8. Update the PATH Variable</h2><p class="auto-cursor-target">Add <MadCap:variable name="General.DaticalDB" /> CLI to the path of the datical user.<br /><br /></p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">vi ~/.bash_profile
export DATICAL_DB_HOME=/opt/datical/DaticalDB
export PATH=${PATH}:${ DATICAL_DB_HOME }/repl</pre></div></div><p><br /></p><p><br /></p></body>
</html>