<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title>Liquibase Enterprise Documentation</title><meta name="description" content="Liquibase Enterprise Documentation /></head>
    <body>
        <h1>Installing and Managing <MadCap:variable name="General.DaticalDB" /> Licenses</h1> <MadCap:snippetText src="../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" /><p><MadCap:snippetBlock src="../../Z_Resources/Snippets/enterprise/Devops Engineer.flsnp" /></p><h2>License Warning on Startup</h2> <p>If you start <MadCap:variable name="General.DaticalDB" /> and a license is not installed, a warning is shown.&#160;</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="400" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/startup_license_failure_no_license.jpg?version=1&amp;modificationDate=1569858501088&amp;cacheVersion=1&amp;api=v2&amp;width=400&amp;height=282" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/startup_license_failure_no_license.jpg?version=1&amp;modificationDate=1569858501088&amp;cacheVersion=1&amp;api=v2&amp;width=511&amp;height=361 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/startup_license_failure_no_license.jpg?version=1&amp;modificationDate=1569858501088&amp;cacheVersion=1&amp;api=v2&amp;width=400&amp;height=282 1x" /></span></p><p>Click <strong>OK</strong> to dismiss the warning. You can proceed to work in the GUI, but you cannot connect to databases until you install a license.&#160;</p><h2>Installing a License from the GUI</h2> <ol><li>Obtain a license file from <MadCap:variable name="General.DaticalDB" /> Support and place it on the system where you are running an instance of <MadCap:variable name="General.DaticalDB" />.&#160;</li><li>Start <MadCap:variable name="General.DaticalDB" />. Dismiss the license warning (click <strong>OK</strong>).&#160;</li><li>In the GUI, choose <strong>File &gt; License Manager</strong>.&#160;</li><li>Select the type of license to install, then click Next.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_01_Select_License_Type.jpg?version=1&amp;modificationDate=1569858501457&amp;cacheVersion=1&amp;api=v2&amp;width=388&amp;height=250" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_01_Select_License_Type.jpg?version=1&amp;modificationDate=1569858501457&amp;cacheVersion=1&amp;api=v2&amp;width=521&amp;height=335 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_01_Select_License_Type.jpg?version=1&amp;modificationDate=1569858501457&amp;cacheVersion=1&amp;api=v2&amp;width=388&amp;height=250 1x" /></span><br /><br /></li><li>Choose <strong>(Re)Install a license key</strong>, the click <strong>Next</strong>.&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_02_choose_install_display_uninstall.jpg?version=1&amp;modificationDate=1569858500924&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_02_choose_install_display_uninstall.jpg?version=1&amp;modificationDate=1569858500924&amp;cacheVersion=1&amp;api=v2&amp;width=485&amp;height=425 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_02_choose_install_display_uninstall.jpg?version=1&amp;modificationDate=1569858500924&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250 1x" /></span><br />&#160;</li><li>Use the browser to choose the license file.&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_03_browse_lic_file_selected.jpg?version=1&amp;modificationDate=1569858500549&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_03_browse_lic_file_selected.jpg?version=1&amp;modificationDate=1569858500549&amp;cacheVersion=1&amp;api=v2&amp;width=485&amp;height=425 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_03_browse_lic_file_selected.jpg?version=1&amp;modificationDate=1569858500549&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250 1x" /></span><br /><br /></li><li>Click <strong>Install License Key</strong>.</li><li>Click <strong>Finish</strong>.&#160;</li></ol><h2>Displaying a License Key in the GUI</h2> <p>You can display the license key installation date and expiration date, as well as details about the license.</p><ol><li>Start <MadCap:variable name="General.DaticalDB" />.</li><li>In the GUI, choose <strong>File &gt; License Manager</strong>.&#160;</li><li>Select the type of license to display, then click Next.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_01_Select_License_Type.jpg?version=1&amp;modificationDate=1569858501457&amp;cacheVersion=1&amp;api=v2&amp;width=388&amp;height=250" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_01_Select_License_Type.jpg?version=1&amp;modificationDate=1569858501457&amp;cacheVersion=1&amp;api=v2&amp;width=521&amp;height=335 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_01_Select_License_Type.jpg?version=1&amp;modificationDate=1569858501457&amp;cacheVersion=1&amp;api=v2&amp;width=388&amp;height=250 1x" /></span><br /><br /></li><li>Choose <strong>Display the installed license key</strong>, the click <strong>Next</strong>.&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_02_choose_display.jpg?version=1&amp;modificationDate=1569858501276&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_02_choose_display.jpg?version=1&amp;modificationDate=1569858501276&amp;cacheVersion=1&amp;api=v2&amp;width=485&amp;height=425 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_02_choose_display.jpg?version=1&amp;modificationDate=1569858501276&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250 1x" /></span><br /><br /></li><li>Review the license information. Click <strong>Finish</strong> when done.&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_03_display.jpg?version=1&amp;modificationDate=1569858500733&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_03_display.jpg?version=1&amp;modificationDate=1569858500733&amp;cacheVersion=1&amp;api=v2&amp;width=485&amp;height=425 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/896566463/lic_mgr_03_display.jpg?version=1&amp;modificationDate=1569858500733&amp;cacheVersion=1&amp;api=v2&amp;width=285&amp;height=250 1x" /></span></li></ol><h2>Installing License using the Command Line (CLI)</h2> <p>If you have the repl subdirectory of your <MadCap:variable name="General.DaticalDB" /> installation on your path, you can run these hammer commands from any directory.&#160; Or if you don't have it in your path, then you need to be in your "&lt;<MadCap:variable name="General.DaticalDB" /> Installation&gt;/repl" directory to run these commands from the command line:</p><p><br /></p><p>Before installing your new license, you should uninstall all older licenses:</p><p><code>hammer uninstallLicense</code></p><p>The uninstall command will uninstall all of your <MadCap:variable name="General.DaticalDB" /> licenses.</p><p><br /></p><p>Copy the new license file to the location where you keep your license files.&#160;&#160;</p><p>Run the following command to install your new license:</p><p><code>hammer installLicense &lt;path_to_license_file&gt;</code></p><p>For example:</p><p><code>hammer installLicense /opt/datical/license/&lt;CompanyName&gt;-&lt;ExpirationDate&gt;.lic</code></p><p><br /></p><p>To check what license is currently installed run the following command:</p><p><code>hammer show license</code></p><h2>Counting Licensed Objects</h2> <p><MadCap:variable name="General.DaticalDB" /> is licensed by the number of DbDefs managed in a database object. The object licensed depends on the type of database.&#160;</p><ul><li>Oracle - per instance</li><li>SQL Server - per database</li><li>EDB Postgres - per database</li><li>DB2 LUW - per database</li></ul><p>License counting is a routine part of verifying the number of database connections (DbDefs) that you are managing, compared to the number that you are licensed to manage.&#160;</p><p>The license counter reports on the projects that are installed on a host by inspecting the project files.&#160;&#160;</p><p>When you run the license counter, specify a starting directory.&#160; It walks the file system from that point down and reports on all project files that are found in the hierarchy.&#160;</p><p>To count licenses, do the following:&#160;</p><ol><li>Log on to a host where you have created <MadCap:variable name="General.DaticalDB" /> projects.&#160;</li><li><p class="auto-cursor-target">Run the license counter. The output goes to <code>stdout</code>, so provide a redirection to a file.&#160;</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">Linux:   hammer licenseCounter ~/datical &gt; DaticalLicenseCount.txt
 
Windows: hammer.bat licenseCounter C:\Datical\Projects &gt; DaticalLicenseCount.txt</pre></div></div></li><li><p class="auto-cursor-target">Inspect the license file to determine the number of licenses in use on the host. The following example shows the format of the report.&#160;</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">DB2:
jdbc:db2://192.168.156.21:50000/int_db
jdbc:db2://ec2-35-175-43-211.compute-1.amazonaws.com:50000/REFDB
Total Unique DB2 Databases: 2
Oracle:
jdbc:oracle:thin:@localhost:1523/orclsid
jdbc:oracle:thin:@192.168.156.21:1521/orcl
jdbc:oracle:thin:@localhost:1521/orcl.shusak.com
jdbc:oracle:thin:@localhost:1523:orclsid
jdbc:oracle:thin:@localhost:1521:orcl
jdbc:oracle:thin:@localhost:1521/orcl
Total Unique Oracle Databases: 6
MSSQL:
jdbc:sqlserver://localhost\MSSQLEXPRESS:1433;databaseName=AdventureWorks2014
jdbc:sqlserver://localhost\SQLEXPRESS:49818;databaseName=mydb2
jdbc:sqlserver://localhost\SQLEXPRESS:49818;databaseName=mydb
Total Unique MSSQL Instances: 2
Total Unique MSSQL Databases: 3
Total Instances Managed: 10
Total Databases Managed: 11</pre></div></div></li></ol><p><br /></p></body>
</html>