<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1 id="your-first-migration-with-sql">Your First Migration with SQL</h1>
        <div align="center"><iframe width="560" height="315" src="https://www.youtube.com/embed/HdXcf9E8ZVI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
        </div>
        <h2 id="prerequisites">Prerequisites</h2>
        <p>Before performing any of these steps, you must be able to connect to a local or remote database, accessible via command line or IDE/GUI. View the <a href="/databases.html">Supported Databases</a> topic for more information on which databases we support.</p>
        <p>You can also view the <a href="/documentation/tutorials/index.html">Database Tutorials</a> topic for more information on running each database with Liquibase.</p>
        <h2 id="step-1-create-a-formatted-sql-changelog">Step 1: Create a Formatted SQL <em>changelog</em></h2>
        <p>To complete your first migration, you must create a formatted SQL <em>changelog</em> in your Liquibase project directory so Liquibase can track, version, and deploy changes to your database.</p>
        <p><strong><u>To Create your changelog</u></strong>
        </p>
        <ol>
            <li>Create a file in your Liquibase project directory called <code class="highlighter-rouge">changelog.sql</code>.</li>
            <li>For this example, enter the following information into the <code class="highlighter-rouge">changelog.sql</code> file.</li>
        </ol>
        <figure class="highlight"><pre xml:space="preserve"><code class="language-sql" data-lang="sql"><span class="c1">--liquibase formatted sql</span></code></pre>
        </figure>
        <h2 id="step-2-add-a-changeset">Step 2: Add a <em>changeSet</em></h2>
        <p><em>changeSets</em> are units of change that Liquibase can execute on a database. When adding a <em>changeSet</em>, your change must be defined by both an <code class="highlighter-rouge">id</code> attribute and an <code class="highlighter-rouge">author</code> attibute. It is best practice to only include one change in each changeset.</p>
        <p><strong><u>To Add your changeSet</u></strong>
        </p>
        <ol>
            <li>Locate and open the <code class="highlighter-rouge">changelog.sql</code> file.</li>
            <li>For this example, enter the following information into the <code class="highlighter-rouge">changelog.sql</code> file, then save it.</li>
        </ol>
        <p>See the <a href="/documentation/sql_format.html">Formatted SQL changelogs</a> topic for more information about SQL Syntax.</p>
        <figure class="highlight"><pre xml:space="preserve"><code class="language-sql" data-lang="sql"><span class="c1">--liquibase formatted sql</span>  

<span class="c1">--changeset bob:1</span>  
<span class="k">create</span>  <span class="k">table</span>  <span class="n">test1</span>  <span class="p">(</span>  
<span class="n">id</span>  <span class="n">int</span>  <span class="k">primary</span>  <span class="k">key</span><span class="p">,</span>  
<span class="n">name</span>  <span class="n">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>  
<span class="p">);</span></code></pre>
        </figure>
        <h2 id="step-3-deploy-your-changelog">Step 3: Deploy your <em>changelog</em></h2>
        <p>To deploy the <em>changelog</em> and your new <em>changeSet</em>, you run the <code class="highlighter-rouge">update</code> command. When running this command, Liquibase reads your list of <em>changeSets</em> in order and checks the <code class="highlighter-rouge">DATABASECHANGELOG</code> table for anything that was previously run. Any <em>changSets</em> that have <em>not</em> already been applied to the database will get applied, and Liquibase will track that information.</p>
        <p><strong><u>To Apply the changeSet</u></strong>
        </p>
        <ol>
            <li>Open your command prompt or terminal.</li>
            <li>Run the following command: <code class="highlighter-rouge">liquibase --changeLogFile=changelog.sql update</code></li>
        </ol>
        <p>Your database now contains a table called <strong>test1</strong>.</p>
        <h2 id="step-4-check-your-database">Step 4: Check Your Database</h2>
        <p>To check your database, open your database IDE to find the change that you made.</p>
        <p>Notice that two tables were created along with test1:</p>
        <ul>
            <li><code class="highlighter-rouge">DATABASECHANGELOG</code>
            </li>
            <li><code class="highlighter-rouge">DATABASECHANGELOGLOCK</code>
            </li>
        </ul>
        <p>The <code class="highlighter-rouge">DATABASECHANGELOG</code> table contains a list of all the changes that 
have been run against the database. The <code class="highlighter-rouge">DATABASECHANGELOGLOCK</code> table is used to make sure two machines don’t attempt to modify the database at the same time.</p>
        <p>View <a href="/documentation/databasechangelog_table.html">DATABASECHANGELOG Table</a> and <a href="/documentation/databasechangeloglock_table.html">DATABASECHANGELOGLOCK Table</a> topics for more information.</p>
        <h3 id="additional-information">Additional Information</h3>
        <p>This topic is great when you only have a handful of SQL scripts. However, if your list of scripts becomes too large to maintain in a formatted SQL <em>changelog</em>, you may want to break up your scripts into smaller more manageable chunks.</p>
        <p>See the <a href="/documentation/multiple-sql-migration.html">Database Migrations with Multiple SQL Files</a> topic for more information on how to Migrate with Multiple SQL files.</p>
        <p>You can also learn how to create your <a href="/get_started/quickstart_lb.html">First Migrations with Liquibase Functions</a>.</p>
        <h3 id="summary">Summary</h3>
        <p>In this tutorial we covered:</p>
        <ul>
            <li>Creating Formatted SQL <em>changelogs</em></li>
            <li>Adding <em>changeSets</em> to your <em>changelog</em></li>
            <li>Running your <em>changelog</em></li>
            <li>Checking your Database</li>
        </ul>
        <h2 id="next-up"><strong>Next Up:</strong>
        </h2>
        <div class="cta-container" style="margin-left: auto;margin-right: auto;width: 300px;height: 50px;">
            <div class="cta cta--block"><a href="/documentation/index.html">Liquibase Documentation ►</a>
            </div>
            <br />
            <div class="cta cta--block"><a href="/quickstart.html">Return to Getting Started ►</a>
            </div>
        </div>
    </body>
</html>