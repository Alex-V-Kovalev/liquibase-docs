<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/tutorials/mongodb/home.html" />
        <meta name="description" content="This page describes the different ways to use MongoDB with Liquibase." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Using <MadCap:variable name="General.Liquibase" /> MongoDB Pro with MongoDB Platforms</h1>
        <p>MongoDB is a NoSQL (non-relational) database. MongoDB Pro provides the ability to work with native mongosh scripts. </p>
        <p>You can use <MadCap:variable name="General.Liquibase" /> with several MongoDB providers, including MongoDB&#160;Atlas, MongoDB&#160;Community Server, MongoDB&#160;Enterprise Server, and the Amazon DocumentDB clone. The <MadCap:variable name="General.Liquibase" /> MongoDB Pro extension lets you use all the features of <MadCap:variable name="General.LBPro" /> with MongoDB, including <MadCap:xref href="../../../commands/quality-checks/home.htm">Quality Checks</MadCap:xref>, <MadCap:xref href="../../../tools-integrations/extensions/secrets-management/home.htm">Secrets Management</MadCap:xref>, and <MadCap:xref href="../../../tools-integrations/observability/structured-logging.htm">[%=General.StructuredLogging%]</MadCap:xref>. These features enhance your database's security, reliability, and compatibility with other tools in your development pipeline.</p>
        <p>Using <MadCap:variable name="General.Liquibase" /> with MongoDB is similar to using it with other databases. You still track changes within <MadCap:variable name="General.changeset" />s in <MadCap:variable name="General.changelog" />s, and use commands such as <code><MadCap:xref href="../../../commands/update/update.html">update</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/rollback/rollback-by-tag.htm">rollback</MadCap:xref></code> to deploy changes and manage your database. However, because MongoDB&#160;does not use SQL, you cannot use SQL&#160;<MadCap:variable name="General.changelog" />s or <MadCap:variable name="General.Liquibase" /> commands that generate SQL&#160;output.</p>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/database-tutorials/database-mongodb-changelog-formats.flsnp" />
        <p>To learn how to specify changes in each format, see <MadCap:xref href="using-mongosh-changelog.htm">MongoDB Pro Changelog Formats</MadCap:xref>.</p>
        <h2>Getting started tutorials</h2>
        <p>To learn how to configure the <MadCap:variable name="General.Liquibase" /> MongoDB Pro extension with your installation of MongoDB, see the following topics:</p>
        <ul>
            <li>
                <MadCap:xref href="mongodb-atlas.htm">MongoDB Atlas</MadCap:xref> – Multi-cloud database service to manage databases on demand</li>
            <li>
                <MadCap:xref href="mongodb-community-enterprise-server.htm">MongoDB Community and  Enterprise Server</MadCap:xref> – Fully-featured MongoDB products for small or large-scale development</li>
            <li>
                <MadCap:xref href="amazon-documentdb.htm">MongoDB Pro and Amazon DocumentDB</MadCap:xref> – Use MongoDB functionality through a clone, Amazon DocumentDB</li>
        </ul>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">To use the community-maintained <MadCap:variable name="General.Liquibase" /> MongoDB extension, see <a href="https://contribute.liquibase.com/extensions-integrations/directory/database-tutorials/mongodb/">Contributors Docs:&#160;MongoDB Extension</a>.</p>
        <h2>Features</h2>
        <p>The MongoDB&#160;Pro extension supports all the features of <MadCap:variable name="General.Liquibase" /> that are supported in the <a href="https://contribute.liquibase.com/extensions-integrations/directory/database-tutorials/mongodb/">MongoDB Open Source extension</a>. In addition, MongoDB&#160;Pro lets you use <MadCap:variable name="General.LBPro" /> features including:</p>
        <ul>
            <li>
                <MadCap:xref href="../../../commands/quality-checks/home.htm">Quality Checks</MadCap:xref> – Automatically analyze your <MadCap:variable name="General.changelog" />s for desired format and behavior to increase deployment success rates and uphold security best practices</li>
            <li>
                <MadCap:xref href="../../../tools-integrations/extensions/secrets-management/home.htm">Secrets Management</MadCap:xref> – Keep your authentication data secure by integrating with third-party secrets vaults</li>
            <li>
                <MadCap:xref href="../../../tools-integrations/observability/structured-logging.htm">[%=General.StructuredLogging%]</MadCap:xref> – Improve your database observability by easily reading <MadCap:variable name="General.Liquibase" /> data in your favorite analytics tool</li>
            <li><a href="../../../commands/flow/flow.htm">Flow Files</a> – Create repeatable, portable, and platform-independent <MadCap:variable name="General.Liquibase" /> workflows to run in any of your CI/CD&#160;tools</li>
            <li>
                <MadCap:xref href="../../../tools-integrations/feature-flags/home.htm">Feature Flags</MadCap:xref> – Define and control when database changes are applied</li>
            <li><a href="../../../tools-integrations/extensions/remote-files/s3.htm">Remote file access</a> – Centralize file management with AWS S3 to build a reusable repository of <MadCap:variable name="General.Liquibase" /> files you can update and retrieve</li>
            <li><a href="../../../workflows/liquibase-community/using-rollback.htm">Targeted rollback</a> – Avoid collateral damage by specifying which <MadCap:variable name="General.changeset" />s in your <MadCap:variable name="General.changelog" /> to undo</li>
        </ul>
        <h3><MadCap:variable name="General.changetypes" />s</h3>
        <p>You can use all the standard <MadCap:variable name="General.Liquibase" />&#160;<MadCap:variable name="General.changetypes" />s in MongoDB Pro. The two new <MadCap:variable name="General.changetypes" />s available are <code>mongo</code> and <code>mongoFile</code>, which allow you to specify native Mongo scripts in XML, YAML, and JSON&#160;<MadCap:variable name="General.changelog" />s. They require the user to configure the <a href="../../../concepts/changelogs/attributes/runwith.htm">native executor</a>, Mongo Shell (<code>mongosh</code>), prior to use.</p>
        <h3>Supported commands</h3>
        <p>MongoDB supports the following commands:</p>
        <ul>
            <li>Update commands, except those that generate SQL&#160;output. For example, <code><MadCap:xref href="../../../commands/update/update.html">update</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/update/update-count.htm">update-count</MadCap:xref></code>.</li>
            <li>Rollback commands, except those that generate SQL output. For example, <code><MadCap:xref href="../../../commands/rollback/rollback-by-tag.htm">rollback</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/rollback/rollback-one-changeset.html">rollback-one-changeset</MadCap:xref></code>.</li>
            <li>Change tracking commands, except those that generate SQL output. For example, <code><MadCap:xref href="../../../commands/utility/changelog-sync.htm">changelog-sync</MadCap:xref></code>, <code><MadCap:xref href="../../../commands/change-tracking/status.htm">status</MadCap:xref></code>, and <code><MadCap:xref href="../../../commands/change-tracking/history.html">history</MadCap:xref></code>.</li>
            <li>Quality checks commands. For example, <code><MadCap:xref href="../../../commands/quality-checks/subcommands/copy.htm">copy</MadCap:xref></code>, <code><MadCap:xref href="../../../commands/quality-checks/subcommands/show.htm">show</MadCap:xref></code>, and <code><MadCap:xref href="../../../commands/quality-checks/subcommands/run.htm">run</MadCap:xref></code>.</li>
            <li>All other commands, unless otherwise specified in the <MadCap:xref href="#Limitati">Limitations</MadCap:xref> section.</li>
        </ul>
        <p>For more information, see <MadCap:xref href="../../../commands/home.htm">[%=General.Liquibase%] Commands</MadCap:xref>.</p>
        <h3>Supported quality checks</h3>
        <p> You can use <MadCap:variable name="General.changelog" />-scoped quality checks in MongoDB Pro. For example:</p>
        <ul>
            <li>Checks that focus on <MadCap:variable name="General.changeset" /> metadata, such as <MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/rollback-required.htm">RollbackRequired</MadCap:xref> and <MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/changeset-label-check.htm">ChangesetLabelCheck</MadCap:xref>.</li>
            <li>The generic regex-based check <MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/sql-user-defined-pattern-check.htm">SqlUserDefinedPatternCheck</MadCap:xref>.<br /><p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">These quality checks only work if you have created your own from the regex template. <MadCap:variable name="General.Liquibase" /> uses the <a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/regex/Pattern.html">java.util.regex</a> engine to match regular expressions.</p></li>
        </ul>
        <p>Changelog-scoped quality checks are supported <b>as long as they are not SQL-specific or relational-specific</b>. The following is a full list of quality checks supported on MongoDB:</p>
        <ul>
            <li><code><MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/changeset-comment-check.htm">ChangesetCommentCheck</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/changeset-context-check.htm">ChangesetContextCheck</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/changeset-label-check.htm">ChangesetLabelCheck</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/rollback-required.htm">RollbackRequired</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/require-changeset-dis-uuid.htm">RequireChangesetDisUUID</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../../commands/quality-checks/checks/changelog-checks/sql-user-defined-pattern-check.htm">SqlUserDefinedPatternCheck</MadCap:xref></code>
            </li>
        </ul>
        <h2><a name="Limitati"></a>Limitations</h2>
        <ul>
            <li>The child MongoDB scripts referenced by the <code>include</code> and <code>includeAll</code> tags must contain the <MadCap:variable name="General.changeset" /> decoration and the following minimum <MadCap:variable name="General.changeset" /> metadata, <code>author:id</code> and <code>runWith:mongosh</code>.</li><pre xml:space="preserve"><code class="language-text">// liquibase formatted mongodb
// changeset authorname:1 runWith:mongosh</code></pre>
            <li><MadCap:variable name="General.Liquibase" />&#160;<a href="../../../concepts/changelogs/preconditions.html">preconditions</a> are not supported.</li>
            <li>The <code><MadCap:xref href="../../../change-types/modifychangesets.htm">modifyChangeSets</MadCap:xref></code> tag is not supported.</li>
            <li>MongoDB is a NoSQL database, so you cannot use any commands that generate SQL output (such as <code><MadCap:xref href="../../../commands/update/update-sql.htm">update-sql</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/utility/changelog-sync-sql.htm">changelog-sync-sql</MadCap:xref></code>). MongoDB also does not support the database inspection command family (such as <code><MadCap:xref href="../../../commands/inspection/diff.htm">diff</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/inspection/generate-changelog.html">generate-changelog</MadCap:xref></code>). Learn more about <MadCap:xref href="../../../commands/home.htm">[%=General.Liquibase%] Commands</MadCap:xref> here.</li>
            <li><MadCap:variable name="General.LBPro" /> quality checks have limited support.  <a href="../../../commands/quality-checks/checks/database-checks/home.htm">Database-scoped quality checks</a> are not supported because they are database-specific.</li>
            <li>LDAP and Kerberos Authentication are not supported. Learn more about MongoDB&#160;Authentication here: <a href="https://www.mongodb.com/docs/v6.0/core/authentication/">authentication</a>.<br /></li>
        </ul>
        <h2><a name="Verified"></a>Verified versions</h2>
        <table style="width: 100%;margin-left: auto;margin-right: auto;">
            <col style="width: 272px;" />
            <col />
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <th><MadCap:variable name="General.Liquibase" /> MongoDB&#160;Pro</th>
                    <th><MadCap:variable name="General.LBPro" /> version required</th>
                    <th>MongoDB versions verified</th>
                    <th>MongoDB Shell versions verified</th>
                    <th>Authentication</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <p>1.3.X</p>
                    </td>
                    <td>4.24.0+</td>
                    <td rowspan="3">
                        <ul>
                            <li>4.4.x</li>
                            <li>5.x</li>
                            <li>6.x</li>
                            <li>Mongo&#160;Atlas&#160;5&#160;and&#160;6</li>
                            <li>AWS&#160;DocumentDB</li>
                        </ul>
                    </td>
                    <td rowspan="4">
                        <ul>
                            <li>1.6.x</li>
                            <li>1.7.x</li>
                            <li>1.8.x - Recommended</li>
                        </ul>
                    </td>
                    <td rowspan="4">
                        <ul>
                            <li>SCRAM</li>
                            <li>x.509</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>1.2.X</p>
                    </td>
                    <td>4.23.0+</td>
                </tr>
                <tr>
                    <td>
                        <p>1.1.X</p>
                    </td>
                    <td>4.19.0–4.21.1</td>
                </tr>
                <tr>
                    <td>
                        <p>1.0.X</p>
                    </td>
                    <td>&#160;</td>
                    <td>
                        <ul>
                            <li>4.4.x</li>
                            <li>5.x</li>
                            <li>6.x</li>
                            <li>Mongo&#160;Atlas&#160;5&#160;and&#160;6</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="amazon-documentdb-tls-ssl.htm">MongoDB Pro and Amazon DocumentDB TLS/SSL&#160;Configuration</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="config-user-roles-mongodb-pro.htm">MongoDB Pro Extension User Roles</MadCap:xref>
            </li>
        </ul>
    </body>
</html>