<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <meta rel="canonical" href="https://docs.liquibase.com/commands/flow/advanced-flow-file.html" />
        <meta name="description" content="Reference information and use cases for S3 with Liquibase. Liquibase integrates the use of Amazon S3 to store and retrieve data from anywhere." />
    </head>
    <body>
        <h1>Advanced Flow File</h1>
        <p>
            <MadCap:snippetText src="../../Resources/Snippets/images/.ver_icon_size_pro.flsnp" /> </p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">This feature is available in version 4.17 and later.</p>
        <p>Advanced <MadCap:xref href="flow.htm">flow</MadCap:xref> files use <code>globalVariables</code>, <code>stageVariables</code>, property substitution, namespaced "included" files, an <code>endStage</code> which always runs, <MadCap:xref href="if-conditionals.htm">if conditionals</MadCap:xref> in <code>stage</code> or <code>actions</code>, decomposed/ nested flow files, and bash -c "chained | commands".</p>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">Learn how to reference flow files in S3 here: <MadCap:xref href="../../tools-integrations/remote-files/remote-file-path-rules.htm">Remote File Path Rules</MadCap:xref></p>
        <p>
            <img src="../../Z_Resources/Images/Diagrams/flowfile.png" class="center" />
        </p>
        <p>The <b>Header</b> contains all <code>include</code> and <code>variables</code>. Read more: <MadCap:xref href="variables.htm">variables and include feature</MadCap:xref>.</p>
        <p><b>endStage</b>: Once <code>actions</code> run, the <code>endStage</code> section runs. Common command arguments included here are <code>cleanup</code>, <code>status</code>, and <code>history</code>. If the Flow File contains errors, <code>endStage</code> still runs and tells you why it failed to run successfully.</p>
        <h2>Related Videos:</h2>
        <h3>Learn more about Flow in <MadCap:variable name="General.LBPro" /></h3><iframe width="420" height="315" src="https://www.youtube.com/embed/QKV_yiRMHjw" class="center"></iframe>
        <h3>Learn how to use Flow files with s3</h3><iframe width="420" height="315" src="https://www.youtube.com/embed/nOv2YK8rfqI" class="center"></iframe>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="flow.htm">flow</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="if-conditionals.htm">if conditionals</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="shell-commands.htm">Shell Commands</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="variables.htm">variables and include feature</MadCap:xref>
            </li>
        </ul>
    </body>
</html>