<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1 id="liquibase-commands-generatechangelog"><code class="highlighter-rouge">generateChangeLog</code> command</h1>
        <div align="center"><iframe width="560" height="315" src="https://www.youtube.com/embed/8AdiGIb2SY4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
        </div>
        <p>
            <br />
        </p>
        <p>The <code class="highlighter-rouge">generateChangeLog</code> command creates a <em>changelog</em> file that has a sequence of <em>changeSets</em> which describes how to re-create the current state of the database.</p>
        <h2 id="uses">Uses</h2>
        <p>The <code class="highlighter-rouge">generateChangeLog</code> command is typically used when you want to capture the current state of a database, then apply those changes to any number of databases. This is typically only done when a project has an existing database, but hasn’t used Liquibase before. See <a href="/documentation/existing_project.html">Adding Liquibase to an Existing project</a> for more details.</p>
        <blockquote>
            <p><strong>Note:</strong> When using the <a href="../../update.html">update command</a> to apply the changes in the <em>changelog</em>, Liquibase will not create a new database or schema. You must create them <strong><em>before</em></strong> applying the <em>changelog</em> to it.</p>
        </blockquote>
        <h2 id="running-the-generatechangelog-command">Running the <code class="highlighter-rouge">generateChangeLog</code> command</h2>
        <p>To generate a <em>changelog</em>:</p>
        <ol>
            <li>Configure the <em>liquibase.properties</em> file to include your driver class path, URL, and user authentication information for the database you want to capture.</li>
        </ol>
        <blockquote>
            <p><strong>Note:</strong> For information on how to configure your <code class="highlighter-rouge">liquibase.properties</code> file, view the <a href="../../config_properties.html">Creating &amp; Configuring your liquibase.properties File</a> topic in the knowledge base. Instead of using a <code class="highlighter-rouge">liquibase.properties</code> file, you can also pass the necessary information on the command line.</p>
        </blockquote>
        <ol>
            <li>Open your command prompt or Linux terminal and run the following command:</li>
        </ol>
        <figure class="highlight"><pre xml:space="preserve"><code class="language-bash" data-lang="bash">liquibase <span class="nt">--changeLogFile</span><span class="o">=</span>dbchangelog.xml generateChangeLog</code></pre>
        </figure>
        <p>
            <br />
        </p>
        <h3 id="generatechangelog-global-parameters"><code class="highlighter-rouge">generateChangeLog</code> Global Parameters</h3>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Definition</th>
                    <th>Requirement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>–changeLogFile</td>
                    <td>Specifies the root <em>changelog</em>.</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td>–url</td>
                    <td>Specifies the JDBC database connection URL.</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td>–username</td>
                    <td>Specifies the database username.</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td>–password</td>
                    <td>Specifies the database password.</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td>–liquibaseProLicenseKey</td>
                    <td>Your Liquibase Pro license key.</td>
                    <td>Optional</td>
                </tr>
            </tbody>
        </table>
        <h3 id="generatechangelog-command-parameters"><code class="highlighter-rouge">generateChangeLog</code> Command Parameters</h3>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Definition</th>
                    <th>Requirement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>–defaultCatalogName=&lt;name&gt;</td>
                    <td>Default database catalog to use.</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–defaultSchemaName=&lt;name&gt;</td>
                    <td>Default database schema to use.</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–schemas=&lt;name1, name2&gt;</td>
                    <td>Database schemas you want to include.</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–outputSchemaAs=&lt;name1,name2&gt;</td>
                    <td>Can be used to</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–includeCatalog=[boolean]</td>
                    <td>If true, the catalog will be included in generated <em>changeSets</em>. Defaults to false.</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–includeSchema=[boolean]</td>
                    <td>If true, the schema will beincluded in generated <em>changeSets</em>. Defaults to false.</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–includeTablespace=[boolean]</td>
                    <td>If true, the tablespace of tables and indexes will be included. Defaults to false.</td>
                    <td>Optional *</td>
                </tr>
                <tr>
                    <td>–dataOutputDirectory=DIR</td>
                    <td>Output data as CSV in the given directory</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>–diffTypes</td>
                    <td>List of diff types to include in <em>changelog</em> expressed as a comma separated list from: tables, views, columns, indexes, foreignkeys, primarykeys, uniqueconstraints, data.</td>
                    <td>Optional **</td>
                </tr>
            </tbody>
        </table>
        <blockquote>
            <p>* The default value of <code class="highlighter-rouge">--includeTablespace</code> is <strong>False</strong>. <code class="highlighter-rouge">--includeTablespace</code> only captures the tablespace if it was specified in the create table statement.</p>
        </blockquote>
        <blockquote>
            <p>** If this is null then the default types will be: tables, views, columns, indexes, foreignkeys, primarykeys, uniqueconstraints.</p>
        </blockquote>
        <h2 id="output">Output</h2>
        <p>The <code class="highlighter-rouge">generateChangeLog</code> command generates a <em>changelog</em> that contains all of your <em>Objects</em> (represented as <em>changeSets</em>) and places the file in the same directory where the command was ran.</p>
        <p>The extension provided determines the format of the <em>changelog</em>, so if you specify the filename as <code class="highlighter-rouge">changelog.xml</code> you will get an XML formatted <em>changelog</em>. However, if you specify the filename as <code class="highlighter-rouge">changelog.yaml</code> or <code class="highlighter-rouge">changelog.json</code> or <code class="highlighter-rouge">changelog.postgresql.sql</code> you will get <em>changelogs</em> formatted in YAML or JSON or SQL, respectively.</p>
        <blockquote>
            <p><strong>Note:</strong> When generating an SQL formatted <em>changelog</em>, you must specify the short name of the targeted database type as part of the filename (as shown above).</p>
        </blockquote>
        <h3 id="example">Example</h3>
        <details>
            <summary style="font-size: 125%;color: blue;">Liquibase Community <i>changelog</i></summary>
            <br />
            <figure class="highlight"><pre xml:space="preserve"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  
<span class="nt">&lt;databaseChangeLog</span>  
  <span class="na">xmlns=</span><span class="s">"http://www.liquibase.org/xml/ns/dbchangelog"</span>  
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>  
  <span class="na">xmlns:pro=</span><span class="s">"http://www.liquibase.org/xml/ns/pro"</span>  
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
      http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd"</span><span class="nt">&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-1"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;createTable</span>  <span class="na">name=</span><span class="s">"BONUS"</span><span class="nt">&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"ENAME"</span>  <span class="na">type=</span><span class="s">"VARCHAR2(10,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"JOB"</span>  <span class="na">type=</span><span class="s">"VARCHAR2(9,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"SAL"</span>  <span class="na">type=</span><span class="s">"NUMBER(22,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"COMM"</span>  <span class="na">type=</span><span class="s">"NUMBER(22,0)"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;/createTable&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-2"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;createTable</span>  <span class="na">name=</span><span class="s">"DEPT"</span><span class="nt">&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"DEPTNO"</span>  <span class="na">type=</span><span class="s">"NUMBER(2,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"DNAME"</span>  <span class="na">type=</span><span class="s">"VARCHAR2(14,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"LOC"</span>  <span class="na">type=</span><span class="s">"VARCHAR2(13,0)"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;/createTable&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-3"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;createTable</span>  <span class="na">name=</span><span class="s">"EMP"</span><span class="nt">&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"EMPNO"</span>  <span class="na">type=</span><span class="s">"NUMBER(4,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"ENAME"</span>  <span class="na">type=</span><span class="s">"VARCHAR2(10,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"JOB"</span>  <span class="na">type=</span><span class="s">"VARCHAR2(9,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"MGR"</span>  <span class="na">type=</span><span class="s">"NUMBER(4,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"HIREDATE"</span>  <span class="na">type=</span><span class="s">"DATE(7,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"SAL"</span>  <span class="na">type=</span><span class="s">"NUMBER(7,2)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"COMM"</span>  <span class="na">type=</span><span class="s">"NUMBER(7,2)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"DEPTNO"</span>  <span class="na">type=</span><span class="s">"NUMBER(2,0)"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;/createTable&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-4"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;createTable</span>  <span class="na">name=</span><span class="s">"SALGRADE"</span><span class="nt">&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"GRADE"</span>  <span class="na">type=</span><span class="s">"NUMBER(22,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"LOSAL"</span>  <span class="na">type=</span><span class="s">"NUMBER(22,0)"</span><span class="nt">/&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"HISAL"</span>  <span class="na">type=</span><span class="s">"NUMBER(22,0)"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;/createTable&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-5"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;addForeignKeyConstraint</span>  <span class="na">baseColumnNames=</span><span class="s">"DEPTNO"</span>  
            <span class="na">baseTableName=</span><span class="s">"DEPT"</span>  <span class="na">constraintName=</span><span class="s">"FK_NAME"</span>  
            <span class="na">referencedColumnNames=</span><span class="s">"DEPTNO"</span>  <span class="na">referencedTableName=</span><span class="s">"EMP"</span><span class="nt">/&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-6"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;createIndex</span>  <span class="na">indexName=</span><span class="s">"PK_DEPT"</span>  <span class="na">tableName=</span><span class="s">"DEPT"</span><span class="nt">&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"DEPTNO"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;/createIndex&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-7"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;createIndex</span>  <span class="na">indexName=</span><span class="s">"PK_EMP"</span>  <span class="na">tableName=</span><span class="s">"EMP"</span><span class="nt">&gt;</span>  
            <span class="nt">&lt;column</span>  <span class="na">name=</span><span class="s">"EMPNO"</span><span class="nt">/&gt;</span>  
        <span class="nt">&lt;/createIndex&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-8"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;addPrimaryKey</span>  <span class="na">columnNames=</span><span class="s">"DEPTNO"</span>  <span class="na">tableName=</span><span class="s">"DEPT"</span><span class="nt">/&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"diff-generated"</span>  <span class="na">id=</span><span class="s">"1185214997195-9"</span><span class="nt">&gt;</span>  
        <span class="nt">&lt;addPrimaryKey</span>  <span class="na">columnNames=</span><span class="s">"EMPNO"</span>  <span class="na">tableName=</span><span class="s">"EMP"</span><span class="nt">/&gt;</span>  
    <span class="nt">&lt;/changeSet&gt;</span>  
<span class="nt">&lt;/databaseChangeLog&gt;</span></code></pre>
            </figure>
        </details>
        <p>
            <br />
        </p>
        <h2 id="additional-functionality-with-liquibase-pro">Additional Functionality with Liquibase Pro</h2>
        <p>While Liquibase Community stores all <em>changeSets</em> in a <em>changelog</em>, Liquibase Pro creates a directory called <em>Objects</em> and places the directory at the same level as your <em>changelog</em>. The <em>Objects</em> directory contains a subdirectory for each of the following stored logic types.</p>
        <ul>
            <li>package</li>
            <li>packagebody</li>
            <li>function</li>
            <li>storedprocedure</li>
            <li>trigger</li>
            <li>view</li>
        </ul>
        <blockquote>
            <p><strong>Note:</strong> Not all database platforms support all of these types.</p>
        </blockquote>
        <h3 id="example-1">Example</h3>
        <details>
            <summary style="font-size: 125%;color: blue;">Liquibase Pro <i>changelog</i></summary>
            <br />
            <figure class="highlight"><pre xml:space="preserve"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  
<span class="nt">&lt;databaseChangeLog</span>  
  <span class="na">xmlns=</span><span class="s">"http://www.liquibase.org/xml/ns/dbchangelog"</span>  
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>  
  <span class="na">xmlns:pro=</span><span class="s">"http://www.liquibase.org/xml/ns/pro"</span>  
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd"</span><span class="nt">&gt;</span>  
    <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"Administrator (generated)"</span>  <span class="na">id=</span><span class="s">"1571345362466-8"</span><span class="nt">&gt;</span>  
           <span class="nt">&lt;pro:createTrigger</span>  <span class="na">disabled=</span><span class="s">"false"</span>  <span class="na">path=</span><span class="s">"objects/trigger/TS_T_EXEMPLAR_SEQEXEMPLAR.sql"</span>  <span class="na">relativeToChangelogFile=</span><span class="s">"true"</span>  <span class="na">tableName=</span><span class="s">"T_EXEMPLAR"</span>  <span class="na">triggerName=</span><span class="s">"TS_T_EXEMPLAR_SEQEXEMPLAR"</span><span class="nt">/&gt;</span>  
       <span class="nt">&lt;/changeSet&gt;</span>  
       <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"Administrator (generated)"</span>  <span class="na">id=</span><span class="s">"1571345362466-12"</span><span class="nt">&gt;</span>  
           <span class="nt">&lt;createView</span>  <span class="na">fullDefinition=</span><span class="s">"true"</span>  <span class="na">path=</span><span class="s">"objects/view/OREDERS_VIEW.sql"</span>  <span class="na">relativeToChangelogFile=</span><span class="s">"true"</span>  <span class="na">viewName=</span><span class="s">"OREDERS_VIEW"</span><span class="nt">/&gt;</span>  
       <span class="nt">&lt;/changeSet&gt;</span>  
       <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"Administrator (generated)"</span>  <span class="na">id=</span><span class="s">"1571345362466-14"</span><span class="nt">&gt;</span>  
           <span class="nt">&lt;createProcedure</span>  <span class="na">path=</span><span class="s">"objects/storedprocedure/P_CUSTOMER_HAS_NUM_FILM.sql"</span>  <span class="na">procedureName=</span><span class="s">"P_CUSTOMER_HAS_NUM_FILM"</span>  <span class="na">relativeToChangelogFile=</span><span class="s">"true"</span><span class="nt">/&gt;</span>  
       <span class="nt">&lt;/changeSet&gt;</span>  
       <span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"Administrator (generated)"</span>  <span class="na">id=</span><span class="s">"1571345362466-20"</span><span class="nt">&gt;</span>  
           <span class="nt">&lt;pro:createFunction</span>  <span class="na">functionName=</span><span class="s">"F_CUSTOMER_HAS_NUM_FILM"</span>  <span class="na">path=</span><span class="s">"objects/function/F_CUSTOMER_HAS_NUM_FILM.sql"</span>  <span class="na">relativeToChangelogFile=</span><span class="s">"true"</span><span class="nt">/&gt;</span>  
       <span class="nt">&lt;/changeSet&gt;</span>  
<span class="nt">&lt;/databaseChangeLog&gt;</span></code></pre>
            </figure>
        </details>
    </body>
</html>