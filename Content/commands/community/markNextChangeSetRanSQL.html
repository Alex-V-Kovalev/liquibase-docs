<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>markNextChangeSetRanSQL command | Liquibase Docs</title>
        <meta name="description" content="Reference information and use cases for the markNextChangeSetRanSQL command. The markNextChangeSetRanSQL command is a helper command that inspects the SQL Liquibase will run while using the markNextChangeSetRan command." />
    </head>
    <body>
        <h1><code>markNextChangeSetRanSQL</code> command</h1>
        <p>The <code>markNextChangeSetRanSQL</code> command is a helper command that inspects the SQL <MadCap:variable name="General.Liquibase" /> will run while using the <code>markNextChangeSetRan</code> command.</p>
        <h2>Uses</h2>
        <p>The <code>markNextChangeSetRanSQL</code> command is used to inspect the raw SQL before running the <code>markNextChangeSetRan</code> command, so you can correct any issues that may arise before running the command. <MadCap:variable name="General.Liquibase" /> uses the raw SQL to mark the next <MadCap:variable name="General.changeset" style="font-style: italic;" /> you apply as executed in your database and to keep that <MadCap:variable name="General.changeset" style="font-style: italic;" /> in the <MadCap:variable name="General.changelog" style="font-style: italic;" /> as a record assuming that it has already been deployed.</p>
        <h2>Running the <code>markNextChangeSetRanSQL</code> command</h2>
        <p>To run the <code>markNextChangeSetRanSQL</code> command, you need to specify your driver, class path, URL, and user authentication information in your <code>liquibase.properties</code> file. You can also specify these properties in your command line.</p>
        <p>Then run the <code>markNextChangeSetRanSQL</code> command:</p><code>liquibase --changeLogFile=dbchangelog.oracle.sql markNextChangeSetRanSQL</code>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">Enter the name of the <MadCap:variable name="General.changelog" style="font-style: italic;" /> that you want to use in place of <code>markNextChangeSetRanSQL</code> and include your database type in place of <code>oracle</code> if you use the <code>.sql</code> file format.</p>
        <h2><code>markNextChangeSetRanSQL</code> global attributes</h2>
        <table style="margin-left: auto;margin-right: auto;width: 690;mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <td width="139" class="TableStyle-TableStyles-HeadE-Column1-Header1">
                        <p><strong>Attribute</strong>
                        </p>
                    </td>
                    <td width="425" class="TableStyle-TableStyles-HeadE-Column1-Header1">
                        <p><strong>Definition</strong>
                        </p>
                    </td>
                    <td class="TableStyle-TableStyles-HeadD-Column1-Header1">
                        <p><strong>Requirement</strong>
                        </p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td width="139" class="TableStyle-TableStyles-BodyE-Column1-Body1">
                        <p><code>--changeLogFile</code>
                        </p>
                    </td>
                    <td width="425" class="TableStyle-TableStyles-BodyE-Column1-Body1">
                        <p>Specifies the root <MadCap:variable name="General.changelog" style="font-style: italic;" /></p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">
                        <p><strong>Required</strong>
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td width="139" class="TableStyle-TableStyles-BodyE-Column1-Body2">
                        <p><code>--url</code>
                        </p>
                    </td>
                    <td width="425" class="TableStyle-TableStyles-BodyE-Column1-Body2">
                        <p>Specifies the JDBC database connection URL</p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">
                        <p><strong>Required</strong>
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td width="139" class="TableStyle-TableStyles-BodyE-Column1-Body1">
                        <p><code>--username</code>
                        </p>
                    </td>
                    <td width="425" class="TableStyle-TableStyles-BodyE-Column1-Body1">
                        <p>Specifies the database username</p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">
                        <p><strong>Required</strong>
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td width="139" class="TableStyle-TableStyles-BodyE-Column1-Body2">
                        <p><code>--password</code>
                        </p>
                    </td>
                    <td width="425" class="TableStyle-TableStyles-BodyE-Column1-Body2">
                        <p>Specifies the database password</p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">
                        <p><strong>Required</strong>
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td width="139" class="TableStyle-TableStyles-BodyB-Column1-Body1">
                        <p><code>--outputFile</code> *</p>
                    </td>
                    <td width="425" class="TableStyle-TableStyles-BodyB-Column1-Body1">
                        <p>Specifies the file path to where the <code>markNextChangeSetRan</code> SQL will be written</p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyA-Column1-Body1">
                        <p><strong>Optional</strong>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>*If not specified, the <code>markNextChangeSetRan</code> SQL output goes to <code>STDOUT</code>.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-sql">
Liquibase Pro 3.8.7 by Datical licensed to Liquibase Pro Customer until Tue Sep 22 19:00:00 CDT 2020
-- *********************************************************************
-- SQL to add all changesets to database history table
-- *********************************************************************
-- Change Log: dbchangelog.oracle.sql
-- Ran at: 7/7/20 4:16 AM
-- Against: SCHEMA1@jdbc:oracle:thin:@localhost:1521:ORCL
-- Liquibase version: 3.8.7
-- *********************************************************************

-- Lock Database
UPDATE SCHEMA1.DATABASECHANGELOGLOCK SET LOCKED = 1, LOCKEDBY = 'WIN-20E107KB4TN (172.30.3.88)', LOCKGRANTED = TO_TIMESTAMP('2020-07-07 04:16:14.31', 'YYYY-MM-DD HH24:MI:SS.FF') WHERE ID = 1 AND LOCKED = 0;

INSERT INTO SCHEMA1.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1589998196529-2', 'Nataliya', 'dbchangelog.oracle.sql', SYSTIMESTAMP, 10, '8:72b58b4c78a9c806ddd1a9ecba95a425', 'sql', '', 'EXECUTED', NULL, NULL, '3.8.7', '4113374351');

-- Release Database Lock
UPDATE SCHEMA1.DATABASECHANGELOGLOCK SET LOCKED = 0, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>