<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/utility/home.html" />
        <meta name="description" content="List and description of utility commands. The purpose of the utility commands is to allow users to perform a variety of administrative tasks for Liquibase changelogs, changesets, checksums, table locks, and database schema documents." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <img style="width:5vw;" src="../../Z_Resources/Images/Icons/command-icons/icon-command-utility.png" alt="Simplified icon of a shipping box with code syntax printed on the near side" />
        <h1>Utility Commands</h1>
        <p>The purpose of the utility commands is to allow users to perform a variety of administrative tasks for <MadCap:variable name="General.Liquibase" />&#160;<MadCap:variable name="General.changelog" />s, <MadCap:variable name="General.changeset" />s, checksums, table locks, and database schema documents.</p>
        <h2>Utility Category</h2>
        <p>These commands are available in <b>all</b>&#160;<MadCap:variable name="General.Liquibase" /> editions and are listed by functional subcategories.</p>
        <h3>Schema Javadoc Utility Command</h3>
        <ul>
            <li><code><MadCap:xref href="db-doc.html">db-doc</MadCap:xref></code> – Use this to generate <b>database</b> documentation that lists all actions performed against the existing database.</li>
        </ul>
        <h3>Changelog Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="tag.html">tag</MadCap:xref></code> – Use this to mark the current database state, version, or release for future rollback.</li>
            <li><code><MadCap:xref href="tag-exists.html">tag-exists</MadCap:xref></code> – Use this to check if a tag already exists in the database.</li>
            <li><code><MadCap:xref href="validate.htm">validate</MadCap:xref></code> – Use this to check and identify errors in a <MadCap:variable name="General.changelog" /> that may cause the update command to fail.</li>
        </ul>
        <h3>Checksum Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="calculate-checksum.html">calculate-checksum</MadCap:xref></code> – Use this to calculate and print a <a href="../../concepts/changelogs/changeset-checksums.htm">checksum</a> for a <MadCap:variable name="General.changeset" /> to see if a <MadCap:variable name="General.changeset" /> has been changed.</li>
            <li><code><MadCap:xref href="clear-checksums.htm">clear-checksums</MadCap:xref></code> – Use this to <b>clear all checksums</b> typically when there is a MD5Sum error message and the checksums need to be cleared from the <MadCap:xref href="../../concepts/tracking-tables/databasechangelog-table.html">[%=General.databasechangelog%] table</MadCap:xref>.</li>
        </ul>
        <h3><MadCap:variable name="General.Liquibase" /> Lock Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="list-locks.htm">list-locks</MadCap:xref></code> – Use this to return the hostname, IP address, and the timestamp when the <MadCap:variable name="General.Liquibase" /> lock record was added to the <MadCap:variable name="General.databasechangelog" /> table.</li>
            <li><code><MadCap:xref href="release-locks.htm">release-locks</MadCap:xref></code> – Use this to remove a lock record from the <MadCap:variable name="General.databasechangelog" /> table due to an interruption with the change deployment.</li>
        </ul>
        <h3>Changelog Sync Utility Commands</h3>
        <ul>
            <li><code>changelog-sync</code> – Use this to mark <b>all undeployed</b> changes in the <MadCap:variable name="General.changelog" /> as executed.</li>
            <li><code>changelog-sync-sql</code> – Run this <b>before the <code>changelog-sync</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code>changelog-sync-to-tag</code> – Use this to mark <b>all undeployed</b> changes in the <MadCap:variable name="General.changelog" /> up to a specified tag.</li>
            <li><code>changelog-sync-to-tag-sql</code> – Run this <b>before the <code>changelog-sync-to tag</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code>mark-next-changeset-ran</code> – Use this to mark the next change as <b>executed</b> in the database.</li>
            <li><code>mark-next-changeset-ran-sql</code> – Run this <b>before the <code>mark-next-changeset-ran</code> command</b> to inspect the raw SQL for potential issues.</li>
        </ul>
        <p>Since <b><MadCap:variable name="General.changelog" /> sync utility commands</b> change the schema of a database, <MadCap:variable name="General.Liquibase" /> provides SQL output commands that you can run beforehand. The SQL output commands let you inspect the SQL that <MadCap:variable name="General.Liquibase" /> will generate when you run the <MadCap:variable name="General.changelog" /> sync utility commands.</p>
        <h3>Direct Database Commands</h3>
        <ul>
            <li><code><MadCap:xref href="drop-all.htm">drop-all</MadCap:xref></code> – Use this to drop all objects in your database</li>
            <li><code><MadCap:xref href="execute-sql.htm">execute-sql</MadCap:xref></code> – Use this to run a SQL&#160;query or file on your database</li>
        </ul>
        <h2>Additional Commands for <MadCap:variable name="General.LBPro" /></h2>
        <p>These commands require an <b>active</b>&#160;<a href="https://www.liquibase.com/pricing/pro"><MadCap:variable name="General.LBPro" /> license</a>:</p>
        <ul>
            <li><code><MadCap:xref href="set-contexts.htm">set-contexts</MadCap:xref></code> – Use this to set or replace contexts on a <MadCap:variable name="General.changeset" /> using the CLI.</li>
            <li><code><MadCap:xref href="set-labels.htm">set-labels</MadCap:xref></code>  – Use this to set or replace labels on a changeset using the CLI.</li>
        </ul>
        <p>Each <b>individual utility command page</b> specifies the criteria for using the command successfully, including a list of required and optional command-specific arguments.</p>
        <h2>Utility Command Requirements</h2>
        <p>With the <b>exception</b> of the <code>set-contexts</code> and <code>set-labels</code>&#160;<MadCap:variable name="General.LBPro" /> commands, the utility commands require the following <b>command argument</b>:</p>
        <ul>
            <li>The JDBC database connection URL is specified as <code>--url</code>.</li>
        </ul>
        <p>The <code>db-doc</code>, <code>validate</code>, <code>calculate-checksum</code>, <code>set-contexts</code>, <code>set-labels</code>, and the <MadCap:variable name="General.changelog" /> sync utility commands also require the following <b>command argument</b>:</p>
        <ul>
            <li>The root <MadCap:variable name="General.changelog" /> file is specified as <code>--changelog-file</code>.</li>
        </ul>
        <p>Your source and target databases may also require the <code>--username</code> and <code>--password</code> arguments in <MadCap:variable name="General.Liquibase" />. However, the username and password are not required for connections and systems which use alternate means of authentication.</p>
        <h2>Troubleshooting</h2>
        <p>If <MadCap:variable name="General.Liquibase" /> returns an error when you run a utility command, use the <b><MadCap:variable name="General.Liquibase" />&#160;<code>--help</code> parameter</b> to check the correct syntax of the command and the command-specific parameters you can use with it.</p>
        <p><b>In the CLI:</b>&#160;<code>liquibase &lt;command&gt; --help</code></p>
        <h2>Related Content</h2>
        <p>Visit the <MadCap:xref href="../../workflows/liquibase-community/using-jdbc-url-in-liquibase.htm">Using JDBC URL in [%=General.Liquibase%]</MadCap:xref>  documentation page to learn more about <MadCap:variable name="General.Liquibase" /> database connection requirements.</p>
        <h2><MadCap:variable name="General.Liquibase" /> Resources</h2>
        <h3><MadCap:variable name="General.Liquibase" /> Help</h3>
        <p>Visit the <MadCap:variable name="General.Liquibase" />&#160;<a href="https://forum.liquibase.org/">Forum</a> channel to ask questions, find answers from other <MadCap:variable name="General.Liquibase" /> users, and learn about new <MadCap:variable name="General.Liquibase" /> version releases.</p>
        <h3>Tutorials</h3>
        <p>Visit the <MadCap:xref href="../../workflows/liquibase-community/existing-project.html">How to set up [%=General.Liquibase%] with an Existing Project and Multiple Environments</MadCap:xref> documentation page to see how the <code>changelog-sync</code> command is used to mark <MadCap:variable name="General.changeset" />s as already run in an existing database.</p>
        <h3><MadCap:variable name="General.Liquibase" /> University</h3>
        <p><a href="https://learn.liquibase.com/catalog/info/id:127">Liquibase Commands for Troubleshooting</a> – This course includes, but not limited to, lessons on using the <code>tag</code>, <code>db-doc</code>, <code>clear-checksums</code>, and <code>mark-next-changeset-ran</code> commands.</p>
        <h3>Blogs and Articles</h3>
        <p><a href="https://www.liquibase.com/blog/preparing-database-automation-liquibase">Preparing for Database Automation with <MadCap:variable name="General.Liquibase" /></a> – Read this CI/CD &amp; DevOps blog on how using the <code>validate</code> and <code>tag</code> commands can help teams adopt good CI/CD patterns in their use of <MadCap:variable name="General.Liquibase" />.</p>
    </body>
</html>