<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/quality-checks/checks-chaining/home.html" />
        <meta name="description" content="Checks chaining allows users to link 2, 3, or more checks together and act as one Quality Check.  When you have three checks that need to occur in a specific order, you can run all three with one chain instead of running each check individually." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Checks Chaining</h1>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/liquibase-pro-feature.flsnp" />
        <p>Checks chaining allows users to link multiple checks together and act as one <a href="https://docs.liquibase.com/commands/quality-checks/home.html">Quality Check</a>.  When you have multiple checks that need to occur in a specific order, you can run all of them with one chain instead of running each check individually. This promotes flexibility and succinct development in your environment. </p>
        <p>Checks chaining is a feature that<b> is available in <MadCap:variable name="General.Liquibase" /> 4.27.0 and later.</b> It is only available to <MadCap:variable name="General.LBPro" /> users. </p>
        <h2>Implement Checks Chaining</h2>
        <p>The chained checks template is essential to implement the checks chaining feature. The template's purpose is to be copied. Once copied, the user customizes the copy to create a chain of quality checks.</p>
        <table>
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <thead>
                <tr>
                    <th>Short Name</th>
                    <th>Scope</th>
                    <th>Enabled</th>
                    <th>Severity</th>
                    <th>Customization</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code class="language-text">ChainedChecksTemplate</code>
                    </td>
                    <td><MadCap:variable name="General.changelog" />, database
                    </td>
                    <td>
                        <p>false</p>
                    </td>
                    <td>
                        <p>Default value: 0</p>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-severity-customization.flsnp" />
                    </td>
                    <td>
                        <p>LOGIC CONDITIONAL&#160;= null MESSAGE = <ul><li>The conditions in '&lt;chained checks shortname&gt;' were met for '&lt;logical conditional&gt;'.</li><li>The chained checks include &lt;checknames&gt;.</li></ul></p>
                    </td>
                    <td>This check triggers when the logic conditional evaluates to true.</td>
                </tr>
            </tbody>
        </table>
        <p>To begin using the checks chaining feature, you must first copy the chained check template.  </p>
        <ol>
            <li>First run:</li>
            <li><pre><code class="language-text">liquibase checks copy --check-name=ChainedChecksTemplate</code></pre>
            </li>
            <li>Then  customize your check chain copy by giving it a short name.<br /></li>
            <li>&#160;<code class="language-text">TableLabelChain</code></li>
            <li>Set the severity of the check chain. This can be 0, 1, 2, 3, or 4. Learn more here:&#160;<MadCap:xref href="../workflows/use-quality-checks-auto-severity-exit-code.htm">Use Quality Checks in Automation: Severity and Exit Code</MadCap:xref></li>
            <li>Enter the short name, logic conditional, and optional groups for your checks using <code class="language-text">!</code>, <code class="language-text">&amp;&amp;</code>, or <code class="language-text">||</code> operators. The order of operations from highest to lowest precedence is NOT → AND → OR respectively.<br /></li>
            <li><code class="language-text">TableColumnLimit3 &amp;&amp;&#160;ChangesetLabelCheck</code>
            </li>
            <li>In this case, both of these checks must be true for the <code class="language-text">TableLabelChain</code> check chain to be true.</li>
            <li>It is important to note that checks do not have to be enabled to be included in the checks chain. They simply have to exist. This means you can include any standard quality check that already exists within <MadCap:variable name="General.Liquibase" /> or a customized quality check such as <code class="language-text">TableColumnLimit3</code>.</li>
            <li> If you would like to <b>keep the default CLI success message</b>, simply press the Enter key to finish customizing your check chain.<ul><li>The default message is:</li><pre><code class="language-text">The conditions in '&lt;chained checks shortname&gt;' were met for '&lt;logic conditional&gt;'. The chained checks include &lt;checknames&gt;.</code></pre></ul></li>
            <li>If you would like the <b>CLI success message  to be different than the default</b>, set the message you would like to appear when the check chain is successful and then press Enter.</li>
            <li>To ensure that the checks are enabled, run <code class="language-text">checks show</code>.
				</li>
            <li>The &#160;<code class="language-text">TableLabelChain</code> check will be listed among all other checks enabled.</li>
            <li>
                <table>
                    <col style="width: auto;" />
                    <col style="width: auto;" />
                    <col style="width: auto;" />
                    <col style="width: auto;" />
                    <col style="width: auto;" />
                    <col style="width: auto;" />
                    <thead>
                        <tr>
                            <th>Short Name</th>
                            <th>Scope</th>
                            <th>Enabled</th>
                            <th>Severity</th>
                            <th>Customization</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="language-text">TableLabelChain</code>
                            </td>
                            <td><MadCap:variable name="General.changelog" />, database
							</td>
                            <td>
                                <p>false</p>
                            </td>
                            <td>
                                <p>Default value: 0</p>
                            </td>
                            <td>
                                <p>LOGIC CONDITIONAL&#160;= null MESSAGE = <ul><li>The conditions in '&lt;chained checks shortname&gt;' were met for '&lt;logical conditional&gt;'.</li><li>The chained checks include &lt;checknames&gt;.</li></ul></p>
                            </td>
                            <td>This check triggers when the logic conditional evaluates to true.</td>
                        </tr>
                    </tbody>
                </table>
            </li>
            <li>Run the chained check:<br /></li>
            <li><pre><code class="language-text">liquibase checks run --check-name=TableLabelChain --checks-scope=changelog --changelogfile=&lt;your_changelog_file.xml&gt;</code></pre>
            </li>
            <li>When run successfully, this message appears:</li>
            <li><pre><code class="language-text">The conditions in 'TableLabelChain' were met for 'TableColumnLimit3 &amp;&amp; 'ChangesetLabelCheck'. The chained checks include 'TableColumnLimit3::triggered', 'ChangesetLabelCheck::triggered'.</code></pre>
            </li>
        </ol>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">Checks trigger on matched conditions. You want your content to match the checks so you can confirm the chained checks are true.</p>
        <h2>Safety measures<br /></h2>
        <p>This list covers checks chaining rules that safeguard the user while implementing this feature in their workflow. </p>
        <ul>
            <li>If a user types any operator incorrectly, a message appears that states:</li>
            <li><pre>Invalid Value:&#160;'TableColumnLimit3 &amp; ChangesetLabelCheck' could not perform numeric operation on non numeric types.</pre>
            </li>
            <li>If you see this error message, ensure that your operators are either <code class="language-text">&amp;&amp;,</code> <code class="language-text">||</code>, or <code class="language-text">!</code>.</li>
            <li>All chained checks override any individual checks. If <code class="language-text">ChangesetLabelCheck</code> is set to severity 2, but a chained check that includes <code class="language-text">ChangesetLabelCheck</code> is set to severity 4, then the severity will be set to 4 when the chained check runs.</li>
            <li>Some checks are only applicable to the <MadCap:variable name="General.changelog" /> or the database. It is best practice to separate each check chain by <MadCap:variable name="General.changelog" /> or database checks. Otherwise you will receive a message that states:<br /><ul><pre xml:space="preserve">Database checks skipped due to non-applicable object(s) for this check:<br />Chained check template (Short names: ExampleCheck) skipped for:<br />amount:column,<br />uc_name:uniqueConstraint,<br />supplier_name:column<br />(See 12 more objects by setting command argument --verbose)</pre></ul></li>
        </ul>
    </body>
</html>