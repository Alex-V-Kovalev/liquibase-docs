<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Default.EXCLUDE">
    <head>
    </head>
    <body>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Checks Chaining</h1>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/liquibase-pro-feature.flsnp" />
        <p>Checks chaining is a feature that<b> is available in <MadCap:variable name="General.Liquibase" /> 4.27.0 and later.</b> It is only available to <MadCap:variable name="General.LBPro" /> users. </p>
        <p>Checks chaining allows users to link 2, 3, or more checks together and act as one <MadCap:xref href="../home.htm">Quality Check</MadCap:xref>.  When you have three checks that need to occur in a specific order, you can run all three with one chain instead of running each check individually. This promotes flexibility and succinct development in your environment. </p>
        <h2>Implement Checks Chaining</h2>
        <p>The chained checks template is essential to implement the checks chaining feature. The template's purpose is to be copied. Once copied, the user customizes the copy to create a chain of quality checks.</p>
        <table>
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <col style="width: auto;" />
            <thead>
                <tr>
                    <th>Short Name</th>
                    <th>Scope</th>
                    <th>Enabled</th>
                    <th>Severity</th>
                    <th>Customization</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code class="language-text">ChainedChecksTemplate</code>
                    </td>
                    <td><MadCap:variable name="General.changelog" />, database
                    </td>
                    <td>
                        <p>false</p>
                    </td>
                    <td>
                        <p>Default value: 0</p>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-severity-customization.flsnp" />
                    </td>
                    <td>
                        <p>LOGIC CONDITIONAL&#160;= null MESSAGE = The conditions in '&lt;chained checks shortname&gt;' were met for '&lt;logical conditional&gt;'. The chained checks include &lt;checknames&gt;.</p>
                    </td>
                    <td>This check triggers when the logic conditional evaluates to true.</td>
                </tr>
            </tbody>
        </table>
        <p>To begin using the checks chaining feature, you must first copy the chained check template.  </p>
        <ol>
            <li>
                <p>First run:</p><pre>liquibase checks copy --check-name ChainedChecksTemplate</pre>
            </li>
            <li>
                <p>Then  customize your check chain copy by giving it a short name.<br /></p>
                <p class="example" MadCap:autonum="&lt;b&gt;Example: &lt;/b&gt;">&#160;<code>TableLabelChain</code></p>
            </li>
            <li>
                <p>Set the severity of the check chain. This can be 0, 1, 2, 3, or 4.</p>
            </li>
            <li>
                <p>Enter the short name, logic conditional, and optional groups for your checks using <code>&amp;&amp;</code>,&#160;<code>||</code>, or <code>!</code> operators. These represent and, or, and not respectively.<br /></p>
                <p class="example" MadCap:autonum="&lt;b&gt;Example: &lt;/b&gt;"><code>TableColumnLimit3 &amp;&amp;&#160;ChangesetLabelCheck</code>
                </p>
                <p>In this case, both of these checks must be true for the <code>TableLabelChain</code> check chain to be true.</p>
                <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">It is important to note that checks do not have to be enabled to be included in the checks chain. They simply have to exist. This means you can include any standard quality check that already exists within <MadCap:variable name="General.Liquibase" /> or a customized quality check such as <code>TableColumnLimit3</code>.</p>
            </li>
            <li>
                <p> If you would like to <b>keep the default CLI success message</b>, simply press the Enter key to finish customizing your check chain.</p>
                <ul>
                    <li>
                        <p>Default message:</p>
                    </li>
                    <li><pre>The conditions in '&lt;chained checks shortname&gt;' were met for '&lt;logic conditional&gt;'. The chained checks include &lt;checknames&gt;.</pre>
                    </li>
                </ul>
                <p>If you would like the <b>CLI success message  to be different than the default</b>, set the message you would like to appear when the check chain is successful and then press Enter.</p>
            </li>
            <li>To ensure that the checks are enabled, run <code>checks show</code>.
				<p>The &#160;<code>TableLabelChain</code> check will be listed among all other checks enabled.</p><table><col style="width: auto;" /><col style="width: auto;" /><col style="width: auto;" /><col style="width: auto;" /><col style="width: auto;" /><col style="width: auto;" /><thead><tr><th>Short Name</th><th>Scope</th><th>Enabled</th><th>Severity</th><th>Customization</th><th>Description</th></tr></thead><tbody><tr><td><code class="language-text">TableLabelChain</code></td><td><MadCap:variable name="General.changelog" />, database
							</td><td><p>false</p></td><td><p>Default value: 0</p></td><td><p>LOGIC CONDITIONAL&#160;= null MESSAGE = The conditions in '&lt;chained checks shortname&gt;' were met for '&lt;logical conditional&gt;'. The chained checks include &lt;checknames&gt;.</p></td><td>This check triggers when the logic conditional evaluates to true.</td></tr></tbody></table></li>
            <li>Run the chained check:<br /><pre>liquibase checks run --check-name TableLabelChain --checks-scope changelog --changelogfile &lt;your_changelog_file.xml&gt;</pre></li>
            <li>
                <p>When run successfully, this message appears:</p><pre>The conditions in 'TableLabelChain' were met for 'TableColumnLimit3 &amp;&amp; 'ChangesetLabelCheck'. The chained checks include 'TableColumnLimit3::triggered', 'ChangesetLabelCheck::triggered'.</pre>
            </li>
        </ol>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">It is important to note that checks trigger on matched conditions. Checks can therefore be triggered for positive outcomes which are useful for traceability.</p>
        <h3>Safety measures<br /></h3>
        <p>This list covers checks chaining rules that safeguard the user while implementing this feature in their work flow. </p>
        <ul>
            <li>
                <p>If a user types any operator incorrectly, a message appears that states:</p><pre>Invalid Value:&#160;'TableColumnLimit3 &amp; ChangesetLabelCheck' could not perform numeric operation on non numeric types.</pre>
                <p>If you see this error message, ensure that your operators are either <code>&amp;&amp;,</code> <code>||</code>, or <code>!</code>.</p>
            </li>
            <li>
                <p>All chained checks override any individual checks. If <code>ChangesetLabelCheck</code> is set to severity 2, but a chained check that includes <code>ChangesetLabelCheck</code> is set to severity 4, then the severity will be set to 4 when the chained check runs.</p>
            </li>
            <li>
                <p>Some checks are only applicable to the <MadCap:variable name="General.changelog" /> or the database. It is best practice to separate each check chain by <MadCap:variable name="General.changelog" /> or database checks. Otherwise you will receive a message that states:<br /></p>
                <ul><pre xml:space="preserve">Database checks skipped due to non-applicable object(s) for this check:<br />Chained check template (Short names: ExampleCheck) skipped for:<br />amount:column,<br />uc_name:uniqueConstraint,<br />supplier_name:column<br />(See 12 more objects by setting command argument --verbose)</pre>
                </ul>
            </li>
        </ul>
    </body>
</html>