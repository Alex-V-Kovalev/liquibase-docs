<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>checks run | Liquibase Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/commands/quality-checks/checks-run.html" />
        <meta name="description" content="Reference information and use cases for the checks run command. The run subcommand executes checks using the checks settings file and the changelog file you specify." />
    </head>
    <body>
        <h1><code>checks run</code>
        </h1>
        <p>The <code>run</code> subcommand executes checks using the checks settings file and the <MadCap:variable name="General.changelog" style="font-style: italic;" /> file you specify.  Quality checks support XML, SQL, YAML, and JSON <MadCap:variable name="General.changelog" style="font-style: italic;" /> formats.</p>
        <h2>Uses</h2>
        <p>You can typically use the <code>checks run</code> command to run static and dynamic checks with the <MadCap:variable name="General.changelog" style="font-style: italic;" /> and configuration files having default and non-default locations.</p>
        <p>If your files are not stored in the <MadCap:variable name="General.Liquibase" /> working directory, specify the relative path to them. Check <MadCap:xref href="../../concepts/changelogs/how-liquibase-finds-files.htm">How [%=General.Liquibase%] Finds Files: [%=General.Liquibase%] Classpath</MadCap:xref> for more details.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">To see the list of available checks, run <code>liquibase checks show</code>.</p>
        <h2>Running the <code>checks run</code> command</h2>
        <p>Run the command specifying your values:</p><pre xml:space="preserve"><code class="language-text">liquibase checks run --changelog-name=basicRule.postgres.sql</code></pre>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">If you have a checks settings file customized for a specific environment or project, you need to pass that using the <code>--checks-settings-file</code> parameter. If you do not include this parameter, <MadCap:variable name="General.Liquibase" /> uses the default settings file  – <code>liquibase.checks-settings.conf</code>.</p>
        <p>The command will execute the check and provide you with the information about it in the CLI output.</p>
        <h2><code>checks copy</code> command attributes</h2>
        <table style="width: 100%;mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Name</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Syntax</th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><code>checks-settings-file</code>
                    </td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">
                        <p>CLI:</p>
                        <p><code>--checks-settings-file</code>
                        </p>
                        <p>Property:</p>
                        <p><code>liquibase.command.checks.&lt;subcommand&gt;.checksSettingsFile</code>
                        </p>
                        <p>Environment Variable:</p>
                        <p><code>LIQUIBASE_COMMAND_CHECKS_&lt;subcommand&gt;_CHECKS_SETTINGS_FILE</code>
                        </p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">
                        <p>The parameter which specifies the needed checks settings file to work with subcommands.</p>
                        <p>Set the <code>checks-settings-file</code> parameter to the relative path of the <code>checks-settings-file</code> that you want to read from or modify.</p>
                        <p>For more information, see <MadCap:xref href="using-the-checks-settings-configuration-file.htm">Using the Checks Settings Configuration File</MadCap:xref>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><code>check-name</code>
                    </td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">
                        <p>CLI:</p>
                        <p><code>--check-name</code>
                        </p>
                        <p>Property:</p>
                        <p><![CDATA[						]]><code>liquibase.command.checks.&lt;subcommand&gt;.checkName</code></p>
                        <p>Environment Variable:</p>
                        <p><code>LIQUIBASE_COMMAND_CHECKS_&lt;subcommand&gt;_CHECK_NAME</code>
                        </p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">
                        <p>The parameter which you must specify so that any of the following subcommands being executed can perform its function:</p>
                        <ul style="text-align: left;">
                            <li><code>copy</code>
                            </li>
                            <li><code>customize</code>
                            </li>
                            <li><code>delete</code>
                            </li>
                            <li><code>disable</code>
                            </li>
                            <li><code>enable</code>
                            </li>
                            <li><code>reset</code>
                            </li>
                        </ul>
                        <p>Set the <code>check-name</code> parameter to the short name for the check you want to target with one of the subcommands.</p>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><code>changelog-file</code>
                    </td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">
                        <p>CLI:</p>
                        <p><code>--changelog-file</code>
                        </p>
                        <p>Property:</p>
                        <p><code>liquibase.command.checks.run.changelogFile</code>
                        </p>
                        <p>Environment Variable:</p>
                        <p><code>LIQUIBASE_COMMAND_CHECKS_RUN_CHANGELOG_FILE</code>
                        </p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">The <MadCap:variable name="General.changelog" style="font-style: italic;" /> file against which you execute checks when running <code> liquibase checks run</code>.</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2"><code>auto-update</code>
                    </td>
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2">
                        <p>CLI: <code>--auto-update=[on|off]</code></p>
                        <p>Property: <code>liquibase.command.checks.run.autoUpdate: [on|off]</code></p>
                        <p>	Environment Variable: <code>LIQUIBASE_COMMAND_CHECKS_RUN_AUTO_UPDATE=[ON|OFF]</code></p>
                    </td>
                    <td class="TableStyle-TableStyles-BodyA-Column1-Body2">
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/commands/checks-auto-update.flsnp" />
                    </td>
                </tr>
            </tbody>
        </table>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><code>checks run</code> example output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-text">####################################################
##   _     _             _ _                      ##
##  | |   (_)           (_) |                     ##
##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##
##  | |   | |/ _` | | | | | '_ \ / _` / __|/ _ \  ##
##  | |___| | (_| | |_| | | |_) | (_| \__ \  __/  ##
##  \_____/_|\__, |\__,_|_|_.__/ \__,_|___/\___|  ##
##              | |                               ##
##              |_|                               ##
##                                                ##
##  Get documentation at docs.liquibase.com       ##
##  Get certified courses at learn.liquibase.com  ##
##  Free schema change activity reports at        ##
##      https://hub.liquibase.com                 ##
##                                                ##
####################################################
Starting Liquibase at 09:41:57 (version 4.5.0-DAT-6000-SNAPSHOT #74 built at 2021-09-20 19:47+0000)
Liquibase Version: 4.5.0-DAT-6000-SNAPSHOT
Liquibase Pro 4.5.0-DAT-6000-SNAPSHOT by Datical licensed to Liquibase Pro Customer until Tue Oct 26 19:00:00 CDT 2021
Executing Quality Checks against basicRule.postgres.sql

Executing all checks because a valid Liquibase Pro license was found!

Checks completed validation of the changelog and found the following issues:

Changeset ID:       LblAndCtx
Changeset Filepath: basicRule.postgres.sql
Check Name:         Changesets Must Have a Comment Assigned (ChangesetCommentCheck)
Message:            Liquibase recommends that authors include comments about the
					purpose and impact of a changeset in  &lt;comment&gt; elements to
					prevent the development of tribal knowledge and ensure that
					the purpose of a given changeset is easily understood by
					other people who use this changelog.
Changesets Validated:
  ID: LblAndCtx; Author: erz; File path: basicRule.postgres.sql
  ID: CtxNoLbl; Author: erz; File path: basicRule.postgres.sql
  ID: LblNoCtx; Author: erz; File path: basicRule.postgres.sql
  ID: NoLblNoCtx; Author: erz; File path: basicRule.postgres.sql
  ID: sqlContainsRevoke; Author: erz; File path: basicRule.postgres.sql
  ID: sqlContainsGrants; Author: erz; File path: basicRule.postgres.sql
  ID: sqlCommentIncludesRevoke; Author: erz; File path: basicRule.postgres.sql
  ID: sqlWithRevokeInDashDashComment; Author: BBB; File path: basicRule.postgres.sql
  ID: sqlWithRevokeInSlashStarComment; Author: BBB; File path: basicRule.postgres.sql
  ID: sqlWithRevokeInSelectStatement; Author: BBB; File path: basicRule.postgres.sql
  ID: sqlWithRevokeAtStartOfDashDashComment; Author: BBB; File path: basicRule.postgres.sql
  ID: sqlWithRevokeBracketsNoSpace; Author: BBB; File path: basicRule.postgres.sql
  ID: sqlWithGrant; Author: erz; File path: basicRule.postgres.sql

Checks run against each changeset:
  Warn on Detection of 'GRANT' Statements
  Warn on Detection of 'REVOKE' Statements
  Warn when 'DROP TABLE' detected
  Warn when 'DROP COLUMN' detected
  Warn when 'MODIFY &lt;column&gt;' detected
  Check Table Column Count
  Changesets Must Have a Label Assigned
  Changesets Must Have a Context Assigned
  Changesets Must Have a Comment Assigned

Liquibase command 'checks run' was executed successfully.</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="working-with-quality-checks.htm">Quality Checks</MadCap:xref>
                <ul>
                    <li>
                        <MadCap:xref href="getting-started-with-the-checks-command.htm">Getting Started with the checks Command</MadCap:xref>
                    </li>
                    <li>
                        <MadCap:xref href="configuring-quality-checks.htm">Configuring Quality Checks</MadCap:xref>
                    </li>
                    <li>
                        <MadCap:xref href="home.htm">Quality Checks Commands</MadCap:xref>
                    </li>
                </ul>
            </li>
        </ul>
    </body>
</html>