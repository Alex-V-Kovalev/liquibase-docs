<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>future-rollback-sql Maven Goal | Liquibase Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/tools-integrations/maven/commands/maven-futurerollbacksql.html" />
        <meta name="description" content="Reference information and use cases for the future-rollback-sql Maven goal. The future-rollback-sql Maven goal is a helper command that produces the raw SQL Liquibase would need to roll back changes that have not yet been deployed to your database." />
    </head>
    <body>
        <h1 id="maven-futurerollbacksql">Maven <code>future-rollback-sql</code></h1>
        <html xmlns="http://www.w3.org/1999/xhtml" lang="en">
            <body class="composite">
                <p xmlns=""><code>future-rollback-sql</code> is a helper goal that produces the raw SQL <MadCap:variable name="General.Liquibase" /> would need to roll back changes that have not yet been deployed to your database.</p>
                <h2 xmlns="">Uses</h2>
                <p xmlns=""><code>future-rollback-sql</code> is typically used when you want to inspect the raw SQL <MadCap:variable name="General.Liquibase" /> would use to revert changes associated with undeployed <MadCap:variable name="General.changeset" />s. The <code>future-rollback-sql</code> goal generates the SQL that is required to roll back the database to the current state after the next update.</p>
                <p xmlns="">It is best practice to inspect SQL <MadCap:variable name="General.Liquibase" /> would run when using the <code>update</code> goal so you can review any changes the command would make to your database.</p>
                <p class="note" xmlns="" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The <a href="https://docs.liquibase.com/tools-integrations/maven/commands/maven-update-sql.html">update-sql</a> goal is also a helper goal that you can use before running the <a href="https://docs.liquibase.com/tools-integrations/maven/commands/maven-update.html">update</a> goal. The main difference is that <code>update-sql</code> creates objects associated with undeployed <MadCap:variable name="General.changeset" />s and <code>future-rollback-sql</code> drops objects associated with undeployed <MadCap:variable name="General.changeset" />s.</p>
                <h2 xmlns="">Maven configuration</h2>
                <p xmlns=""><MadCap:variable name="General.Liquibase" /> Maven can be configured in multiple ways. One way is to define your <MadCap:variable name="General.Liquibase" /> configuration properties in your <code>pom.xml</code> file. To configure your <code>pom.xml</code> file, refer to <MadCap:xref href="../maven-pom-file.htm">Configuring [%=General.Liquibase%] [%=General.Param/Attr/Uppercased%]s in your Maven POM File</MadCap:xref>. If <code>pom.xml</code> does not reference a <MadCap:variable name="General.Liquibase" /> properties file, add <code>&lt;changelog-file&gt;properties-file-name&lt;/changelog-file&gt;</code> to <code>pom.xml</code>, where <code>properties-file-name</code> represents the name of the <MadCap:variable name="General.Liquibase" /> properties file, like <code><MadCap:variable name="General.liquiPropFile" /></code>.</p>
                <p xmlns="">Before running the <code>future-rollback-sql</code> goal, add <code>&lt;outputChangeLogFile&gt;yourOutputFileName.txt&lt;/outputChangeLogFile&gt;</code> to <code>pom.xml</code>.</p>
                <h2 xmlns="">Running the <code>future-rollback-sql</code> Maven goal</h2>
                <p xmlns="">Running the <code>future-rollback-sql</code> goal requires a Maven project to be implemented.</p>
                <p xmlns="">To run the goal, type the following in your command prompt:</p><pre><code class="language-text">mvn liquibase:future-rollback-sql</code></pre>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot>Output</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p xmlns="">When successful, the <code>future-rollback-sql</code> Maven goal produces the following output:</p><pre><code class="language-text">[INFO] Scanning for projects...
[INFO]
[INFO] -------------------&lt; com.example:liquibase-project &gt;--------------------
[INFO] Building liquibase-project 05XII19
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] --- liquibase-maven-plugin:4.1.1:future-rollback-sql (default-cli) @ liquibase-project ---
[INFO] ------------------------------------------------------------------------
[INFO] Successfully installed license from Base64 string starting with 'ABwwGgQUvH' (property liquibaseProLicenseKey).
[INFO] Liquibase Pro 4.1.1 by Datical licensed to support until Wed Sep 22 23:59:59 CDT 2021
[INFO] Liquibase Pro 4.1.1 by Datical licensed to support until Wed Sep 22 23:59:59 CDT 2021
[INFO] ####################################################
##   _     _             _ _                      ##
##  | |   (_)           (_) |                     ##
##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##
##  | |   | |/ _` | | | | | '_ \ / _` / __|/ _ \  ##
##  | |___| | (_| | |_| | | |_) | (_| \__ \  __/  ##
##  \_____/_|\__, |\__,_|_|_.__/ \__,_|___/\___|  ##
##              | |                               ##
##              |_|                               ##
##                                                ##
##  Get documentation at docs.liquibase.com       ##
##  Get certified courses at learn.liquibase.com  ##
##  Get advanced features and support at          ##
##      liquibase.com/support                     ##
##                                                ##
####################################################
Starting Liquibase at 03:57:06 (version 4.1.1 #10 built at 2020-10-12 19:24+0000)
[INFO] Char encoding not set! The created file will be system dependent!
[INFO] Output File: C:\Users\Nataliya.WIN-20E107KB4TN\Desktop\Liquibase Projects\Maven Projects\my-liquibase-app\myfutureRollback.sql
[INFO] Parsing Liquibase Properties File local.liquibase.properties for changeLog parameters
[INFO] Executing on Database: jdbc:oracle:thin:@localhost:1521/ORCL
[INFO] Successfully acquired change log lock
[INFO] Reading from DATABASECHANGELOG
[INFO] Successfully released change log lock
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  5.341 s
[INFO] Finished at: 2020-11-26T03:57:08-06:00
[INFO] ------------------------------------------------------------------------</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot>An example of the output file</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody><pre><code class="language-text">-- *********************************************************************
-- SQL to roll back currently unexecuted changes
-- *********************************************************************
-- Change Log: dbchangelog.xml
-- Ran at: 11/26/20 4:06 AM
-- Against: MVN_UAT@jdbc:oracle:thin:@localhost:1521/ORCL
-- Liquibase version: 4.1.1
-- *********************************************************************
-- Lock Database
UPDATE DATABASECHANGELOGLOCK SET LOCKED = 1, LOCKEDBY = 'WIN-20E107KB4TN (172.30.3.88)', LOCKGRANTED = TO_TIMESTAMP('2020-11-26 04:06:50.763', 'YYYY-MM-DD HH24:MI:SS.FF') WHERE ID = 1 AND LOCKED = 0;
-- Rolling Back ChangeSet: dbchangelog.xml::1606322157619-1::Nataliya (generated)
DROP TABLE TEST;
DELETE FROM DATABASECHANGELOG WHERE ID = '1606322157619-1' AND AUTHOR = 'Nataliya (generated)' AND FILENAME = 'dbchangelog.xml';
-- Release Database Lock
UPDATE DATABASECHANGELOGLOCK SET LOCKED = 0, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1;</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <h2 xmlns=""><code>future-rollback-sql</code> optional Maven configuration <MadCap:variable name="General.Param/Attribute" />s</h2>
                <table style="width: 100%;margin-left: auto;margin-right: auto;mc-table-style: url('../../../Z_Resources/Stylesheets/TableStyles.css');" class="TableStyle-TableStyles" cellspacing="0">
                    <col class="TableStyle-TableStyles-Column-Column1" />
                    <col class="TableStyle-TableStyles-Column-Column1" />
                    <thead>
                        <tr class="TableStyle-TableStyles-Head-Header1">
                            <th class="TableStyle-TableStyles-HeadE-Column1-Header1"><MadCap:variable name="General.Param/Attr/Uppercased" />
                            </th>
                            <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Definition</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.changeLogDirectory</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the directory where <MadCap:variable name="General.Liquibase" /> can find your <MadCap:variable name="General.changelog" /> file.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.changelog-file</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies the <MadCap:variable name="General.changelog" /> file for <MadCap:variable name="General.Liquibase" /> to use.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.changelogCatalogName</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the catalog
								<MadCap:variable name="General.Liquibase" /> will use to create your
							<MadCap:variable name="General.changelog" /> tables.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.changelogSchemaName</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies the schema
								<MadCap:variable name="General.Liquibase" /> will use to create your
							<MadCap:variable name="General.changelog" /> tables.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.clear-checksums [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Forces checksums to be cleared from
								the
								<MadCap:variable name="General.databasechangelog" /> table.
								<b>Default value is: false</b>.
							</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.contexts</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies which contexts <MadCap:variable name="General.Liquibase" /> will execute, which can be separated by a comma if multiple contexts are required. If a context is not specified, then all contexts will be executed.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.databaseChangeLogLockTableName</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the table name to use for the
							<MadCap:variable name="General.databasechangeloglock" /> table.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.databaseChangeLogTableName</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies the table name to use for the
							<MadCap:variable name="General.databasechangelog" /> table.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.databaseClass</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the database object class.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.defaultCatalogName</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies the default catalog name to use for the
							database connection.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.defaultSchemaName</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the default schema name to use for the
							database connection.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.driver</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies the driver class name to use for the
							database connection.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">driverPropertiesFile</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the location of a JDBC
							connection properties file which contains properties the driver will use.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.emptyPassword [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b>Deprecated</b>. Use an empty or null value for the
							password instead. <b>Default value is: false</b>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">expressionVariables</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies a map-based collection of
							<MadCap:variable name="General.changelog" /> properties to apply.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">expressionVars</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies a property-based collection of
							<MadCap:variable name="General.changelog" /> properties to apply.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.includeArtifact [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Includes a Maven project artifact in the class
								loader, which obtains the <MadCap:variable name="General.Liquibase" /> properties file and
								<MadCap:variable name="General.changelog" /> files. Default value is <code>true</code>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.includeTestOutputDirectory [boolean]
							</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Includes the Maven test output directory in the
								class loader, which obtains the <MadCap:variable name="General.Liquibase" /> properties file and
								<MadCap:variable name="General.changelog" /> files. Default value is <code>true</code>.
							</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.labels</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies which labels <MadCap:variable name="General.Liquibase" /> will execute, which can be separated by a comma if multiple labels are required or you need to designate a more complex expression. If a label is not specified, then all labels will be executed.
							</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.liquibaseProLicenseKey</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies your
							<MadCap:variable name="General.LBPro" /> license key.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.outputDefaultCatalog [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies whether to ignore the catalog or database
							name. <b>Default value is: false</b>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.outputDefaultSchema [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies whether to ignore the schema name.
							<b>Default value is: false</b>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.output-file</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">
                                <p xmlns="">Specifies the file to output the rollback SQL script to. If it exists it will be overwritten.
</p>
                                <p xmlns=""><b>Default value is: ${project.build.directory}/liquibase/migrate.sql</b>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.outputFileEncoding</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Indicates that you want to set the
							character encoding of the output file during the <code>update-sql</code> phase.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.password</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the database password for the database
							connection.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.promptOnNonLocalDatabase [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">[Deprecated] Controls whether users are prompted before
								executing
								<MadCap:variable name="General.changeset" /><i xmlns="">s</i> to a non-local
							database. <b xmlns="">Default value is: true</b>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.propertyFile</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the <MadCap:variable name="General.Liquibase" /> properties file to use for configuration, like <code><MadCap:variable name="General.liquiPropFile" /></code>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.propertyFileWillOverride [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Values in the <MadCap:variable name="General.Liquibase" /> properties file override settings provided by a Maven plugin. By default, if a property is explicitly specified, it is not overridden if it also appears in the properties file. Default value is <code>false</code>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.propertyProviderClass</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the property provider which must be a
							<code>java.util.Properties</code> implementation.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.rollback-count</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2" xmlns="">
                                <p>Defines the number of <MadCap:variable name="General.changeset" />s to roll back.
<b>Default value is: 1</b>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.rollbackDate</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1" xmlns="">Defines the date for which you want to roll back the database. The format of the date must match either an ISO date format or that of the <code>DateFormat.getDateInstance()</code> for the platform the plugin is being executed on.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.rollbackTag</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Defines the tag for which you want to roll back the database.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.server</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the server ID in the Maven
							<code>settings.xml</code> to use when authenticating.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.skip [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies whether to skip running
							<MadCap:variable name="General.Liquibase" />. The use of this <MadCap:variable name="General.Param/Attribute" /> is not recommended                   but can be used when needed. <b xmlns="">Default value is: false</b>.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">systemProperties</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies a list of system properties you want to
							pass to the database.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body2">liquibase.url</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body2">Specifies the database URL you want to use to
								execute
							<MadCap:variable name="General.Liquibase" />.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body1">
                            <td class="TableStyle-TableStyles-BodyE-Column1-Body1">liquibase.username</td>
                            <td class="TableStyle-TableStyles-BodyD-Column1-Body1">Specifies the database username for the database
							connection.</td>
                        </tr>
                        <tr class="TableStyle-TableStyles-Body-Body2">
                            <td class="TableStyle-TableStyles-BodyB-Column1-Body2">liquibase.verbose [boolean]</td>
                            <td class="TableStyle-TableStyles-BodyA-Column1-Body2">Controls the amount of output detail when you
							call the plugin. <b>Default value is: false</b>.</td>
                        </tr>
                    </tbody>
                </table>
            </body>
        </html>
    </body>
</html>