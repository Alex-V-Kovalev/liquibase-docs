<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Default.EXCLUDE">
    <head>
    </head>
    <body>
        <h1>searchpath</h1>
        <p>Searchpath is a property that is set within the <MadCap:variable name="General.liquiPropFile" /> file that <b>finds</b> the path in which the <MadCap:variable name="General.changelog" /> files, snapshot files, or native executor conf files are stored. Searchpath allows you to find files that cannot specify an absolute path. It is a convenient way to quickly call on those files without specifying the path each time. </p>
        <p>If you set your changelogfile to a file stored on s3, you will set the globalVariable like so:</p>
        <p><code>globalVariables:<br />CHANGELOGFILE:&#160;"example-changelog.sql"</code>
        </p>
        <p>Then you will also establish the s3 path in the CLI&#160;to ensure it is found successfully.</p>
        <p>command:&#160;bash <code>-c "liquibase --searchpath 's3://mys3bucket/example-changelog.sql'</code></p>
        <h2>searchPath use case example:</h2>
        <p>The <MadCap:variable name="General.changelog" />is stored here:<code>&#160;“/lb-files/release1”</code>. It is tedious to write that out each time a <MadCap:variable name="General.changelog" />is specified. You can place <code>searchPath:&#160;“/lb-files/release1”</code> in the <MadCap:variable name="General.liquiPropFile" />file </p>
        <h2>Learn how to find the <MadCap:variable name="General.changelog" /> file by relative path, absolute path, local path, or remote path.</h2>
        <p>There are several ways to find the <MadCap:variable name="General.changelog" /> file. You can look by absolute path, relative path, remote location, or local location. See how each searchpath option is found below.</p>
        <p><b>Relative Path:</b>
            <br />In this example, search path is not set:<br /><code> liquibase update --changelogfile=somedir/path/to/changelog.sql</code></p>
        <p><MadCap:variable name="General.Liquibase" />will look in the working directory for: <code>somedir </code>, then<code> path</code>, and so on to find changelog.sql</p>
        <p><b>Absolute Path:</b>
            <br />In this example, the search path is set:<br /><code>liquibase update --changelogfile=somedir/path/to/changelog.sql</code> (with <code>search path = "s3://mybucket/mydir/"</code>)</p>
        <p>This will cause liquibase to look for <code>s3://mybucket/mydir/somedir/path/to/changelog.sql</code> on s3 for this changelog file. When an absolute path to a file (not including changelog files) is provided, Liquibase uses the file specified in the absolute path without checking searchpath.</p>
        <p><b>Local Path:</b>
            <br />Set the search path to a local environment instead of a remote S3 path like so:<br /><code>“./" or “users/myname/Documents/liquibase/example/” </code></p>
        <p><b>Remote Path:</b>
        </p>
        <p>&#160;</p>
        <p>Searchpath Rules:</p>
        <p><b>Multiple Searchpath</b>(Unsure if this is how we want to teach this. I&#160;think we want to teach users to specify each set of files individually.)<br />If searchpath is set, it is used and Liquibase will not look in other locations for searchpath. This indicates if some files are located on S3 and some are local, both locations are required in the search path. Each location is separated by a period.</p>
        <p>Multiple Searchpath example:</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><code>s3://mybucket/path,</code> is the first location and<code> .localfiles</code> is the second location that searchpath will find the files.</p>
        <p><code>--searchpath=s3://mybucket/path,.localfiles</code>
        </p>
        <p>The <a href="../../commands/quality-checks/using-the-checks-settings-configuration-file.htm">check-settings</a> file is created locally <b>unless</b> the absolute path is available by typing <code>init project --project-dir=s3://somebucket</code> into the CLI.</p>
    </body>
</html>