<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>addNotNullConstraint | Liquibase Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/change-types/community/add-not-null-constraint.html" />
        <link href="../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="Reference information for the addNotNullConstraint changetype. The addNotNullConstraint changetype adds a not-null constraint to an existing table." />
    </head>
    <body>
        <h1 id="change-addnotnullconstraint">addNotNullConstraint</h1>
        <p>The <code>addNotNullConstraint</code> <MadCap:variable name="General.changetypes" /> adds a <code>NOT NULL</code> constraint to an existing table. </p>
        <h2>Uses</h2>
        <p>You can typically use the <code>addNotNullConstraint</code> <MadCap:variable name="General.changetypes" /> when you want to apply a <code>NOT NULL</code> constraint value to a specific table instead of having nullable columns in that table. The <code>addNotNullConstraint</code> <MadCap:variable name="General.changetypes" /> enforces a column to always contain a value and not to accept <code>NULL</code> values so that you cannot insert or update a record without adding a value to the column containing this constraint.</p>
        <p>If a <code>defaultNullValue</code> <MadCap:variable name="General.Param/Attribute" /> is passed, all null values for the column will be updated to the passed value before the constraint is applied. If null values exist in your database, and if you don’t not use a <code>defaultNullValue</code> <MadCap:variable name="General.Param/Attribute" />, the change will fail.</p>
        <h2>Running the <code>addNotNullConstraint</code> <MadCap:variable name="General.changetypes" /></h2>
        <p>To add a <code>NOT NULL</code> constraint to your table, follow these steps:</p>
        <p><b>Step 1:</b> Add the <code>addNotNullConstraint</code> <MadCap:variable name="General.changetypes" /> to your <MadCap:variable name="General.changeset" style="font-style: italic;" /> with the needed <MadCap:variable name="General.Param/Attribute" />s as it is shown in the examples.</p>
        <p><b>Step 2:</b> Deploy your <MadCap:variable name="General.changeset" style="font-style: italic;"></MadCap:variable> by running the <code>update</code> command.</p><pre><code class="language-text">liquibase update</code></pre>
        <p>Now, your table should include the constraint.</p>
        <h2 id="available-attributes">Available <MadCap:variable name="General.Param/Attribute" />s</h2>
        <table style="mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');margin-left: auto;margin-right: auto;" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 300px;" />
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 300px;" />
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 300px;" />
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 300px;" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Name</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Description</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Required for</th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Supports</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">catalogName</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">The name of the catalog.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"><span style="font-family: Roboto;">columnDataType</span>
                    </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"><span style="font-family: Roboto;">The current data type of the column.</span>
                    </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">informix, mariadb, mssql, mysql</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">columnName</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">The name of the column for which to add the constraint.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">all</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"><span style="font-family: Roboto;">constraintName</span>
                    </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">The created constraint name (if database supports names for <code>NOT NULL</code> constraints).</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">defaultNullValue</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">The value for which you can set all values  that currently equal null in a column. If null values exist and if <code>defaultNullValue</code> is not set, the change will fail. </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"><span style="font-family: Roboto;">schemaName</span>
                    </td>
                    <td style="vertical-align: top;font-family: Roboto;" class="TableStyle-TableStyles-BodyE-Column1-Body2">The name of the schema.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">tableName</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">The <MadCap:variable name="General.Param/Attribute" /> that adds a <code>NOT NULL</code> constraint to an existing table. If a <code>defaultNullValue</code> <MadCap:variable name="General.Param/Attribute" /> is passed, all null values for the column will be updated to the passed value before the constraint is applied.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">all</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyB-Column1-Body2"><span style="font-family: Roboto;">validate</span>
                    </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyB-Column1-Body2"><span style="font-family: Roboto;">The </span><MadCap:variable name="General.Param/Attribute" style="font-family: Roboto;" /><span style="font-family: Roboto;"> which is </span><code style="font-family: Roboto;">true</code><span style="font-family: Roboto;"> if the </span><code style="font-family: Roboto;">NOT NULL</code><span style="font-family: Roboto;"> constraint has '</span><code style="font-family: Roboto;">ENABLE VALIDATE</code><span style="font-family: Roboto;">' set, or which is </span><code style="font-family: Roboto;">false</code><span style="font-family: Roboto;"> if the </span><code style="font-family: Roboto;">NOT NULL</code><span style="font-family: Roboto;"> constrain has '</span><code style="font-family: Roboto;">ENABLE NOVALIDATE</code><span style="font-family: Roboto;">' set.</span>
                    </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyB-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyA-Column1-Body2">all</td>
                </tr>
            </tbody>
        </table>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>XML example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-xml" data-lang="xml">&lt;changeSet author="liquibase-docs"  id="addNotNullConstraint-example"&gt;  
    &lt;addNotNullConstraint catalogName="cat"
           columnDataType="int"  
           columnName="id"  
           constraintName="const_name"  
           defaultNullValue="A String"  
           schemaName="public" 
           tableName="person"  
           validate="true"/&gt; 
&lt;/changeSet&gt;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>YAML example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-yaml" data-lang="yaml">changeSet:  
  id:  addNotNullConstraint-example  
  author:  liquibase-docs  
  changes:  
  -  addNotNullConstraint:  
      catalogName:  cat  
      columnDataType:  int  
      columnName:  id  
      constraintName:  const_name  
      defaultNullValue:  A String  
      schemaName:  public  
      tableName:  person  
      validate:  true</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>JSON example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-json" data-lang="json">{
  "changeSet":{
     "id":"addNotNullConstraint-example",
     "author":"liquibase-docs",
     "changes":[
        {
           "addNotNullConstraint":{
              "catalogName":"cat",
              "columnDataType":"int",
              "columnName":"id",
              "constraintName":"const_name",
              "defaultNullValue":"A String",
              "schemaName":"public",
              "tableName":"person",
              "validate":true
           }
         }
       ]
     }
   }</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>SQL example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-sql">UPDATE cat.person SET id = 'INT' WHERE id IS NULL; 
ALTER TABLE cat.person MODIFY id INT NOT NULL;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2 id="database-support">Database support</h2>
        <table style="border: 1;mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');margin-left: auto;margin-right: auto;" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 600px;" />
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 600px;" />
            <col class="TableStyle-TableStyles-Column-Column1" style="width: 600px;" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Database</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Notes</th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Auto rollback</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">DB2/LUW</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">DB2/z</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2" style="font-family: Roboto;"><span style="font-family: Roboto;">Not Supported</span>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">Derby</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">Firebird</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2" style="font-family: Roboto;"><span style="font-family: Roboto;">Not Supported</span>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">H2</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">HyperSQL</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b style="font-family: Roboto;">Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">INGRES</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">Informix</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b style="font-family: Roboto;">Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2" style="font-family: Roboto;"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">MariaDB</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">MySQL</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b style="font-family: Roboto;">Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">Oracle</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">PostgreSQL</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b style="font-family: Roboto;">Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">SQL Server</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">SQLite</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><span style="font-family: Roboto;">Not Supported</span>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">Sybase</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1"><b>Yes</b>
                    </td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2">Sybase Anywhere</td>
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2"><b style="font-family: Roboto;">Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyA-Column1-Body2"><b style="font-family: Roboto;">Yes</b>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>