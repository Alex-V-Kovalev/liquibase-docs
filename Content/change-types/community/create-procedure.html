<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Z_Resources/Stylesheets/TableStyles.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>createProcedure</h1>
        <p>Defines the definition for a stored procedure. This command is better to use for creating procedures than the raw SQL command because it will not attempt to strip comments or break up lines.</p>
        <p>Often times it is best to use the CREATE OR REPLACE syntax along with setting runOnChange=’true’ on the enclosing <MadCap:variable name="General.changeset" style="font-style: italic;" /> tag. That way if you need to make a change to your procedure you can simply change your existing code rather than creating a new REPLACE PROCEDURE call. The advantage to this approach is that it keeps your change log smaller and allows you to more easily see what has changed in your procedure code through your source control system’s diff command.</p>
        <h2>Available attributes</h2>
        <table style="mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Name</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Description</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Required for</th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Supports</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">catalogName</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">Name of the catalog</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">comments</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">dbms</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">Logical expression of database type(s) on which the change must be applied. Valid database type names are listed on the <a href="https://www.liquibase.org/get-started/databases">supported databases page</a>. It can be a comma separated list of multiple databases.
Or You can also specify that a change is <b>NOT</b> applicable to a particular database type by prefixing with <code>!</code>. The keywords <code>all</code> and <code>none</code> are also available.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">encoding</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">Encoding used in the file defined in the `path` attribute</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">path</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">File containing the procedure text. Either this attribute or a nested procedure text is required.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">all</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">procedureText</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">The SQL creating the procedure. Either this or the <code>path</code> attribute needs to be defined.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">all</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">procedureName</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">Name of the procedure. Required if <code>replaceIfExists</code> = true</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">mssql</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">relativeToChangelogFile</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2">Whether the file path relative to the root <MadCap:variable name="General.changelog" style="font-style: italic;" /> file rather than to the classpath.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body2">all</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">replaceIfExists</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1">If the stored procedure defined by <code>procedureName</code> already exits alter it instead of creating it.</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyE-Column1-Body1"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyD-Column1-Body1">mssql</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyB-Column1-Body2">schemaName</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyB-Column1-Body2">Name of the schema</td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyB-Column1-Body2"> </td>
                    <td style="vertical-align: top;" class="TableStyle-TableStyles-BodyA-Column1-Body2">all</td>
                </tr>
            </tbody>
        </table>
        <h3>XML example</h3><pre xml:space="preserve"><code class="language-xml" data-lang="xml"><span class="nt">&lt;changeSet</span>  <span class="na">author=</span><span class="s">"liquibase-docs"</span>  <span class="na">id=</span><span class="s">"createProcedure-example"</span><span class="nt">&gt;</span>  
    <span class="nt">&lt;createProcedure</span>  <span class="na">catalogName=</span><span class="s">"cat"</span>  
            <span class="na">comments=</span><span class="s">"A String"</span>  
            <span class="na">dbms=</span><span class="s">"h2, !oracle, mysql"</span>  
            <span class="na">encoding=</span><span class="s">"UTF-8"</span>  
            <span class="na">path=</span><span class="s">"com/example/my-logic.sql"</span>  
            <span class="na">procedureName=</span><span class="s">"new_customer"</span>  
            <span class="na">relativeToChangelogFile=</span><span class="s">"true"</span>  
            <span class="na">replaceIfExists=</span><span class="s">"false"</span>  
            <span class="na">schemaName=</span><span class="s">"public"</span><span class="nt">&gt;</span>CREATE OR REPLACE PROCEDURE testHello
    IS
    BEGIN
      DBMS_OUTPUT.PUT_LINE('Hello From The Database!');
    END;<span class="nt">&lt;/createProcedure&gt;</span>  
<span class="nt">&lt;/changeSet&gt;</span></code></pre>
        <h3>YAML example</h3><pre xml:space="preserve"><code class="language-yaml" data-lang="yaml"><span class="na">changeSet</span><span class="pi">:</span>  
  <span class="na">id</span><span class="pi">:</span>  <span class="s">createProcedure-example</span>  
  <span class="na">author</span><span class="pi">:</span>  <span class="s">liquibase-docs</span>  
  <span class="na">changes</span><span class="pi">:</span>  
  <span class="pi">-</span>  <span class="na">createProcedure</span><span class="pi">:</span>  
      <span class="na">catalogName</span><span class="pi">:</span>  <span class="s">cat</span>  
      <span class="na">comments</span><span class="pi">:</span>  <span class="s">A String</span>  
      <span class="na">dbms</span><span class="pi">:</span>  <span class="s">h2, !oracle, mysql</span>  
      <span class="na">encoding</span><span class="pi">:</span>  <span class="s">UTF-8</span>  
      <span class="na">path</span><span class="pi">:</span>  <span class="s">com/example/my-logic.sql</span>  
      <span class="na">procedureText</span><span class="pi">:</span>  <span class="pi">|-</span>  
        <span class="no">CREATE OR REPLACE PROCEDURE testHello</span>  
            <span class="no">IS</span>  
            <span class="no">BEGIN</span>  
              <span class="no">DBMS_OUTPUT.PUT_LINE('Hello From The Database!');</span>  
            <span class="no">END;</span>  
      <span class="no">procedureName: new_customer</span>  
      <span class="no">relativeToChangelogFile: true</span>  
      <span class="no">replaceIfExists: false</span>  
      <span class="no">schemaName: public</span></code></pre>
        <h3>JSON example</h3><pre xml:space="preserve"><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">  </span><span class="s2">"changeSet"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">  </span><span class="s2">"id"</span><span class="p">:</span><span class="w">  </span><span class="s2">"createProcedure-example"</span><span class="p">,</span><span class="w">  </span><span class="s2">"author"</span><span class="p">:</span><span class="w">  </span><span class="s2">"liquibase-docs"</span><span class="p">,</span><span class="w">  </span><span class="s2">"changes"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">  </span><span class="p">{</span><span class="w">  </span><span class="s2">"createProcedure"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">  </span><span class="s2">"catalogName"</span><span class="p">:</span><span class="w">  </span><span class="s2">"cat"</span><span class="p">,</span><span class="w">  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w">  </span><span class="s2">"A String"</span><span class="p">,</span><span class="w">  </span><span class="s2">"dbms"</span><span class="p">:</span><span class="w">  </span><span class="s2">"h2, !oracle, mysql"</span><span class="p">,</span><span class="w">  </span><span class="s2">"encoding"</span><span class="p">:</span><span class="w">  </span><span class="s2">"UTF-8"</span><span class="p">,</span><span class="w">  </span><span class="s2">"path"</span><span class="p">:</span><span class="w">  </span><span class="s2">"com/example/my-logic.sql"</span><span class="p">,</span><span class="w">  </span><span class="s2">"procedureText"</span><span class="p">:</span><span class="w">  </span><span class="s2">"CREATE OR REPLACE PROCEDURE testHello</span><span class="se">\n</span><span class="s2">    IS</span><span class="se">\n</span><span class="s2">    BEGIN</span><span class="se">\n</span><span class="s2">      DBMS_OUTPUT.PUT_LINE('Hello From The Database!');</span><span class="se">\n</span><span class="s2">    END;"</span><span class="p">,</span><span class="w">  </span><span class="s2">"procedureName"</span><span class="p">:</span><span class="w">  </span><span class="s2">"new_customer"</span><span class="p">,</span><span class="w">  </span><span class="s2">"relativeToChangelogFile"</span><span class="p">:</span><span class="w">  </span><span class="kc">true</span><span class="p">,</span><span class="w">  </span><span class="s2">"replaceIfExists"</span><span class="p">:</span><span class="w">  </span><span class="kc">false</span><span class="p">,</span><span class="w">  </span><span class="s2">"schemaName"</span><span class="p">:</span><span class="w">  </span><span class="s2">"public"</span><span class="w">  </span><span class="p">}</span><span class="w">  </span><span class="p">}]</span><span class="w">  </span><span class="p">}</span><span class="w">  </span><span class="p">}</span></code></pre>
        <h2 id="database-support">Database support</h2>
        <table style="border: 1;mc-table-style: url('../../Z_Resources/Stylesheets/TableStyles.css');" class="TableStyle-TableStyles" cellspacing="0">
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <col class="TableStyle-TableStyles-Column-Column1" />
            <thead>
                <tr class="TableStyle-TableStyles-Head-Header1">
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Database</th>
                    <th class="TableStyle-TableStyles-HeadE-Column1-Header1">Notes</th>
                    <th class="TableStyle-TableStyles-HeadD-Column1-Header1">Auto rollback</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">DB2/LUW</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">DB2/z</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">Derby</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">Firebird</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">H2</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">HyperSQL</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">INGRES</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">Informix</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">MariaDB</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">MySQL</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">Oracle</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">PostgreSQL</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">SQL Server</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2">SQLite</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body2">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body1">
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1">Sybase</td>
                    <td class="TableStyle-TableStyles-BodyE-Column1-Body1"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyD-Column1-Body1">No</td>
                </tr>
                <tr class="TableStyle-TableStyles-Body-Body2">
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2">Sybase Anywhere</td>
                    <td class="TableStyle-TableStyles-BodyB-Column1-Body2"><b>Supported</b>
                    </td>
                    <td class="TableStyle-TableStyles-BodyA-Column1-Body2">No</td>
                </tr>
            </tbody>
        </table>
    </body>
</html>