<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Default.EXCLUDE">
    <head>
    </head>
    <body>
        <h1><code>removeChangeSetProperty</code>
            <MadCap:snippetText src="../Z_Resources/Snippets/images/icon-community-top.flsnp" />
        </h1>
        <p>The <code>removeChangeSetProperty</code> tag lets you remove column properties you previously specified in a <a href="../concepts/changelogs/changeset.html"><MadCap:variable name="General.changeset" /></a>. This avoids errors when you deploy on a database that doesn't support those properties. It is available in <MadCap:variable name="General.Liquibase" /> 4.24.0+.</p>
        <h2>Uses</h2>
        <p>Some databases support column properties like <code>afterColumn</code>, <code>beforeColumn</code>, and <code>position</code> that you can specify with the <MadCap:xref href="add-column.html">addColumn</MadCap:xref>&#160;<MadCap:variable name="General.changetypes" />. For example, in an XML&#160;<a href="../concepts/changelogs/home.html"><MadCap:variable name="General.changelog" /></a>:</p><pre xml:space="preserve"><code class="language-xml">&lt;changeSet id="addColumn" author="mallod"&gt;
    &lt;addColumn tableName="myTable"&gt;
        &lt;column name="new_column" type="varchar(50)" afterColumn="test_col"&gt;
        &lt;/column&gt;
    &lt;/addColumn&gt;
&lt;/changeSet&gt;</code></pre>
        <p>If you try to deploy this change to a database that doesn't support these properties within <code>addColumn</code>, <MadCap:variable name="General.Liquibase" /> returns an error.</p>
        <p>However, you can use <code>removeChangeSetProperty</code> to remove them. You must specify the <MadCap:variable name="General.changeset" /> that adds the column and the individual column properties you want to remove. <MadCap:variable name="General.Liquibase" /> replaces the properties you specify with <code>NULL</code> and adds the new version of the column to the end of the existing table. Now you can deploy without any errors.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">If your database supports additional column properties, you can still use <code>removeChangeSetProperty</code> to remove them.</p>
        <h2><MadCap:variable name="General.Param/Attr/Uppercased" />s</h2>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Required for</th>
                    <th>Supports</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>change</code>
                    </td>
                    <td>The <code>id</code> of the <MadCap:variable name="General.changeset" /> to target</td>
                    <td>&#160;</td>
                    <td>all</td>
                </tr>
                <tr>
                    <td><code>dbms</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../Z_Resources/Snippets/def/attributes/change-types/change-type-dbms.flsnp" />
                    </td>
                    <td>&#160;</td>
                    <td>all</td>
                </tr>
                <tr>
                    <td><code>remove</code>
                    </td>
                    <td>The properties from <code>addColumn</code> to remove</td>
                    <td>&#160;</td>
                    <td>all</td>
                </tr>
            </tbody>
        </table>
        <h2>Syntax</h2>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="font-size: 18pt;">XML example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-xml"><MadCap:snippetText src="../Z_Resources/Snippets/code/liquibase-xsd-xml-changelog-closed.flsnp" />

    &lt;removeChangeSetProperty change="addColumn-example" dbms="mysql, postgresql" remove="afterColumn" /&gt;

    &lt;changeSet id="addColumn-example" author="liquibase-docs"&gt;
        &lt;addColumn tableName="myTable"&gt;
            &lt;column name="new_column" type="varchar(50)" afterColumn="test_col-2"&gt;
            &lt;/column&gt;
        &lt;/addColumn&gt;
    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="font-size: 18pt;">YAML example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-yaml">databaseChangeLog:
  - removeChangeSetProperty:
      change: addColumn-example
      dbms: mysql, postgresql
      remove: afterColumn

  - changeSet:
      id: addColumn-example
      author: liquibase-docs
      changes:
        - addColumn:
            tableName: myTable
            columns:
            - column:
                name: new_column
                type: varchar(50)
                afterColumn: test_col</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>JSON</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-json">{
    "databaseChangeLog": [
        {
            "removeChangeSetProperty": {
                "change": "addColumn-example",
                "dbms": "mysql, postgresql",
                "remove": "afterColumn"
            }
        },
        {
            "changeSet": {
                "id": "addColumn-example",
                "author": "liquibase-docs",
                "changes": [
                    {
                        "addColumn": {
                            "tableName": "myTable",
                            "columns": [
                                {
                                    "column": {
                                        "name": "new_column",
                                        "type": "varchar(50)",
                                        "afterColumn": "test_col"
                                    }
                                }
                            ]
                        }
                    }
                ]
            }
        }
    ]
}</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="modifychangesets.htm">modifyChangeSets</MadCap:xref>
            </li>
        </ul>
    </body>
</html>