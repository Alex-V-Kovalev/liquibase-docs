<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Using Liquibase with DB2 LUW | Liquibase Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/workflows/database-setup-tutorials/db2-luw.html" />
        <meta name="description" content="This page guides you through the process of creating a new Liquibase project with DB2 LUW." />
    </head>
    <body>
        <h1>Using <MadCap:variable name="General.Liquibase" /> with DB2 LUW</h1>
        <p>The purpose of this document is to guide you through the process of creating a new <MadCap:variable name="General.Liquibase" /> project with DB2 LUW. In this tutorial, you will learn how to install the required database drivers and configure the <MadCap:variable name="General.Liquibase" /> properties file to establish a database connection to DB2 LUW.</p>
        <h2>Prerequisites</h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/misc/database-prerequisites.flsnp" />
        <ul>
            <li>Downloaded the <a href="https://github.com/liquibase/liquibase-db2i/releases"><MadCap:variable name="General.Liquibase" /> DB2 extension for iSeries support</a>.</li>
            <li>Installed the correct <a href="https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads">JDBC&#160;driver .jar file</a>.</li>
        </ul>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><MadCap:variable name="General.Liquibase" /> comes with a pre-installed driver for DB2 in the <code>liquibase/lib</code> directory. For more information, see <MadCap:xref href="../../workflows/liquibase-community/adding-and-updating-liquibase-drivers.htm">Adding and Updating [%=General.Liquibase%] Drivers</MadCap:xref>.</p>
        <h2>Tutorial</h2>
        <p style="font-weight: bold;">To create a <MadCap:variable name="General.Liquibase" /> project with DB2 LUW, perform the following steps:</p>
        <ol>
            <li>Create a new project folder and name it <code>LiquibaseDB2LUW</code>.</li>
            <li>In your <code>LiquibaseDB2LUW</code> folder, create a new text file and name it <code><MadCap:variable name="General.liquiPropFile" /></code>.</li>
        </ol>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/database-liquibase-properties.flsnp" />
        <ol start="3">
            <li>Add the following properties to the <MadCap:variable name="General.Liquibase" /> properties file:</li>
        </ol><pre><code class="language-text">changelog-file: dbchangelog.xml
url: jdbc:db2://192.168.1.15:5432/MYDATABASE
username: user
password: password
driver: com.ibm.db2.jcc.DB2Driver
classpath: ../../Liquibase_Drivers/db2jcc4.jar</code></pre>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">	Specifying your password, take into account that <MadCap:variable name="General.Liquibase" /> supports only the following special characters: <code>~ # $ % * ( ) - _ + [ ] { } . ?</code>. Unsupported special characters are as follows: <code>@ &amp; / : &lt; &gt; " ' ` | ^ ! = , \ &lt;spaces&gt;</code>.</p>
        <p>Use the following format for the <code>url</code> property:</p><pre><code class="language-text">url: jdbc:db2://&lt;servername&gt;:&lt;port&gt;/&lt;dbname&gt;</code></pre>
        <ul>
            <li>If you placed the jar file in the <code>liquibase/lib</code> install directory, you do not need to specify the <code>classpath</code> property in the <MadCap:variable name="General.Liquibase" /> properties file. Otherwise, set the path to the driver as shown in the preceding example.</li>
            <li>If you already have a <MadCap:variable name="General.LBPro" /> key and want to apply it to your project, add the following property to the <MadCap:variable name="General.Liquibase" /> properties file:</li>
        </ul><pre><code class="language-text">liquibaseProLicenseKey: &lt;paste license key&gt;</code></pre>
        <ol start="4">
            <li>Create a <MadCap:variable name="General.changelog" /> file. The <MadCap:variable name="General.changelog" /> files contain a sequence of <MadCap:variable name="General.changeset" />s, each of which makes small changes to the structure of your database. For more information, see <MadCap:xref href="../../concepts/changelogs/working-with-changelogs.html">Working with [%=General.changelog%]s</MadCap:xref>. <MadCap:variable name="General.Liquibase" /> provides a <MadCap:variable name="General.changelog" /> template located at <code>$LIQUIBASE_HOME/examples/xml/blank.changelog.xml</code>. Copy the  <code>blank.changelog.xml</code> file to your <code>LiquibaseDB2LUW</code> folder and rename it to <code>dbchangelog.xml</code>. Each version of <MadCap:variable name="General.Liquibase" /> will have an updated XML schema, so use the one that matches the version of <MadCap:variable name="General.Liquibase" /> you have installed. The contents of the <MadCap:variable name="General.changelog" /> will be similar to the following:</li>
        </ol>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/code/database-changelog-examples.flsnp" />
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/misc/database-test-connection.flsnp" />
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/misc/database-tracking-tables.flsnp" />
        <h2>See also</h2>
        <ul>
            <li><a href="https://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.licensing.doc/doc/c0059812.html">DB2 documentation</a>
            </li>
            <li>
                <MadCap:xref href="../../concepts/home.htm">Concepts</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../commands/home.htm">[%=General.Liquibase%] Commands</MadCap:xref>
            </li>
        </ul>
    </body>
</html>