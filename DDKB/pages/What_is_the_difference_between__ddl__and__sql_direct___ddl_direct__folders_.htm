<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>What is the difference between "ddl" and "sql_direct"/"ddl_direct" folders?</h1>
        <p>When using these packaging folders, the sql scripts are moved into the "archive" folder near the end of a successful packaging job.</p>
        <p>
            <br />
        </p>
        <p><strong>Scripts in “DDL”:</strong>
        </p>
        <p>Each script in “ddl” directory (when using the "convert" packaging method that is the default for the ddl folder) goes through a process during packaging called “convert SQL”. The output of the “convert SQL” is XML changeset that defines EVERY change of the object derived from a script. The benefit of “convert SQL” is that Datical can forecast these changes during forecast operation. Here is what a “convert SQL” generated changeset would look like. Notice that we identify creation of the table along with each column in the table.</p>
        <p>
            <br />
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>changelog.xml (ddl)</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&#160;&#160;&#160; &lt;changeSet appdba:scriptChecksum="10465378bdaf34aa6c432f0971dff485" author="jenkins (generated)" context="REF1, DEV, TEST, PROD" created="2018-07-02 14:34+0000" datical:origFileName="createAAA_TESTA1_new.sql" datical:origFilePath="ddl/NGT" datical:version="1" datical:versionStrategy="DEPLOY_ALL" id="7opf-1 (createTable tableName=AAA_TESTA1)" labels="sid-9090, 22, ddl, createaaa_testa1_new.sql" objectQuotingStrategy="QUOTE_ALL_OBJECTS"&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;createTable schemaName="NGT" tableName="AAA_TESTA1"&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;column name="ID" type="NUMBER(*, 0)"/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;column name="FIRST_NAME" type="VARCHAR2(50 BYTE)"/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;column name="MIDDLE_NAME" type="VARCHAR2(50 BYTE)"/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;column name="LAST_NAME" type="VARCHAR2(50 BYTE)"/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;appdba:storageOptions dbms="oracle" path="ngt/storage/AAA_TESTA1_tbl_1530542040659.sql"/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/createTable&gt;&#160;&#160;&#160; &lt;/changeSet&gt;</pre>
            </div>
        </div>
        <p>
            <br />
        </p>
        <p><strong>Scripts in “SQL_DIRECT” or "DDL_DIRECT":</strong>
        </p>
        <p>On the other hand, scripts in “sql_direct” and "ddl_direct" folders (and scripts in any folders using the "direct" or "ddl_direct" packaging methods receive a very different treatment. Datical does not perform “convert SQL” operation on these scripts and as such the XML changeset simply references the SQL script instead of exact changes to the database. The downside here is that Datical is unable to forecast changes from scripts in “sql_direct” folder. Here is what a “sql_direct” generated changeset would look like. Notice that XML simply references the script (see 'path="sql/2018080814545272_createAAA_TESTA6.sql" ') which is available to the changelog.xml via “resources” folder of the Datical project.</p>
        <p>
            <br />
        </p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>changelog.xml (sql_direct)</b>
            </div>
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&#160;&#160;&#160; &lt;changeSet appdba:scriptChecksum="50be173164ac75b6500a2ff963636a67" author="Adeel Malik" context="REF1, DEV, TEST, PROD" created="2018-08-08 14:54+0000" datical:origFileName="createAAA_TESTA6.sql" datical:origFilePath="sql_direct/NGT" datical:version="1" datical:versionStrategy="DEPLOY_ALL" id="2018080814545272_createAAA_TESTA6" labels="58,$all,createAAA_TESTA6.sql"&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;appdba:sqlplus enableRollbackOnError="true" path="sql/2018080814545272_createAAA_TESTA6.sql" removeSpools="First" schemaName="NGT"/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;comment&gt;script6&lt;/comment&gt;&#160;&#160;&#160; &lt;/changeSet&gt;</pre>
            </div>
        </div>
        <p>
            <br />
        </p>
        <p>Related topics:</p>
        <p><a href="How_To__Choose_Between_CONVERT__ddl__and_DDL_DIRECT__ddl_direct__Packaging_Methods.htm">How To: Choose Between CONVERT (ddl) and DDL_DIRECT (ddl_direct) Packaging Methods</a>
        </p>
        <p><a href="..\..\Content\zz_sandbox\Writing_SQL_Scripts_for_Datical_DB.htm">Writing SQL Scripts for Datical DB#CONVERT/ddlfolderversusDIRECT/sql_directfolder</a>
        </p>
        <p><a href="..\..\Content\zz_sandbox\Overview_of_Packaging.htm">Overview of Packaging</a>
        </p>
        <p><a href="..\..\Content\zz_sandbox\Fixed_Folder_Names.htm">Fixed Folder Names#ProcessingChanges</a>
        </p>
        <p><a href="..\..\Content\zz_sandbox\Flexible_Folder_Names.htm">Flexible Folder Names#ComplexandInterdependentDatabaseChanges</a>
        </p>
        <p>
            <br />
        </p>
    </body>
</html>