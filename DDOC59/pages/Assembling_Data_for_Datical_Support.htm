<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>Assembling Data for Datical Support</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <p>
            <br />
        </p>
        <h1 id="AssemblingDataforDaticalSupport-&quot;Scrub&quot;SensitiveDatafromyourFilesbeforesendingthemtoDaticalSupport">"Scrub" Sensitive Data from your Files before sending them to Datical Support</h1>
        <p>Providing your log files, project files, changelogs, and html reports can help Datical Support diagnose and resolve an issue more quickly.&#160; However, some of your Datical files may contain sensitive information.&#160;</p>
        <p>For Datical DB versions 5.9 and higher, you can use the&#160;<code>hammer debug export</code>command to "scrub" sensitive information such as hosts, ports, and credentials from your files before sending them to Datical Support.&#160; The&#160;<code>hammer debug export</code>command will create a new zip file in your&#160;<span style="color: rgb(34,34,34);">&lt;ProjectName&gt;/Reports/debug directory that contains the files you specify to include. The files in the zip will have the actual values for hosts, ports, usernames and password hashes (password hashes are only relevant if you use the less secure Stored Credentials option) replaced by the scrubber with more generic strings (tokens).&#160; This is to avoid emailing files that contain the actual values as they may be sensitive information.</span></p>
        <p>The<code>hammer debug export</code>command provides a simple way to archive the needed files into a zip file that you then send to Datical Support:</p>
        <ul>
            <li>You can specify which files to include in the zip.&#160;</li>
            <li>The command must be run from the command line (not from the Datical desktop client/GUI).</li>
            <li>The "scrubber" will only handle files that are located somewhere within your&#160;<span style="color: rgb(34,34,34);">&lt;ProjectName&gt; directory structure for that project.&#160; If there are relevant files located outside of the project's directory structure (for example the daticaldb.log file for operations performed in the Datical desktop client/Eclipse GUI), you can copy that log into the project directory structure prior to running the hammer debug export command.</span></li>
            <li><span style="color: rgb(34,34,34);">You can add a new step near the end of your automation jobs so that the&#160;<code>hammer debug export</code>command creates the zip of "scrubbed" files automatically for each job.</span>
            </li>
        </ul>
        <h2 id="AssemblingDataforDaticalSupport-Command:hammerdebugexport">Command: hammer debug export</h2>
        <p>The command creates a zip file of files in a project directory to send to Datical Support or for your teams to see more details about a particular operation.&#160;</p>
        <p>Options provide control over what files are included in the zip.&#160; The files are "scrubbed" to remove certain sensitive data by default.</p>
        <h3 id="AssemblingDataforDaticalSupport-ProjectDirectory">Project Directory</h3>
        <p>The project directory is the source of all files needed.&#160;</p>
        <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
            <p class="title">Important</p>
            <div class="confluence-information-macro-body">
                <p>Run the command in the root of the project directory.&#160;</p>
            </div>
        </div>
        <h3 id="AssemblingDataforDaticalSupport-OutputLocation">Output Location</h3>
        <p>By default the command zips the files and places the zip archive file in the project directory:</p>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">&lt;project&gt;/Reports/debug/&lt;project&gt;.zip</pre>
            </div>
        </div>
        <p>Use the --report option to specify a different file name and location.&#160;</p>
        <h3 id="AssemblingDataforDaticalSupport-WhichsensitivedataisScrubbed/Replaced/Redacted">Which sensitive data is Scrubbed/Replaced/Redacted</h3>
        <p>By default, the <code>hammer debug export</code>&#160; command ensures that sensitive information is redacted. Values are replaced with tokens. Each token is a more generic string that uniquely replaces the actual values for a particular item of information.</p>
        <p>The following information is redacted by default:</p>
        <ul>
            <li>hostname or IP address</li>
            <li>port</li>
            <li>database names<ul><li>Oracle: service name, TNS name, SID</li><li>Other database:&#160; database name</li></ul></li>
            <li>user names</li>
            <li>passwords&#160; (such as "password hashes" in the datical.project file if you use the less secure Stored Credentials option for Datical Credential Management)</li>
        </ul>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block">
            <div class="confluence-information-macro-body">
                <p>Use the <code>--scrub=false</code>&#160;option if you do not want to have these values replaced with tokens.&#160;</p>
            </div>
        </div>
        <h3 id="AssemblingDataforDaticalSupport-IncludingandExcludingFiles">Including and Excluding Files</h3>
        <p>Include&#160;(–include) or exclude&#160;(–exclude) files. The value for either option is a search string. All files with names and/or extensions that match the string search are included.&#160;&#160;</p>
        <p>All files must be in the project file hierarchy. If you want to add a file from outside the project, copy it to the file hierarchy.&#160;<span style="color: rgb(9,30,66);">Place it in the root &lt;</span><span style="color: rgb(34,34,34);">ProjectName</span><span style="color: rgb(9,30,66);">&gt; directory, or in the &lt;</span><span style="color: rgb(34,34,34);">ProjectName</span><span style="color: rgb(9,30,66);">&gt;/Log subdirectory, or other subdirectory.</span></p>
        <h3 id="AssemblingDataforDaticalSupport-IncludingFilesbyLastModifiedDate">Including Files by Last Modified Date</h3>
        <p>You can include only files modified within a specified number of hours.&#160;&#160;</p>
        <p>Use the --lastmodified option to specify a number of hours.&#160; All files are included that have a last modified date within the number of hours measured from the time the command is run.&#160;</p>
        <h3 id="AssemblingDataforDaticalSupport-IncludingNon-ProjectFiles">Including Non-Project Files</h3>
        <p>If Datical Support asks you to include files that are not already part of the Datical project directory, you must place them in the project directory structure before running the hammer debug export command:</p>
        <ul>
            <li>If you were running an operation in the Datical desktop client/Eclipse GUI and got an error, that error would be logged in the daticaldb.log file in your Datical installation directory (such as "DaticalDB" or "DaticalDB_6.12").&#160; In that scenario you would need to copy the log file from your installation directory to your project directory structure prior to running the hammer debug export "scrubber" command.&#160;</li>
            <li>If you use automation software like Jenkins to run packager or deploys, Datical Support may ask you for the packager.log or daticaldb.log from the automation job. You must copy them into your local project directory before running the hammer debug export command.&#160; To avoid needing to do this, you can add a step near the end of your automation jobs to run the hammer debug export command so the zip of scrubbed files will automatically be created for each job.</li>
        </ul>
        <h3 id="AssemblingDataforDaticalSupport-Othercommandoptions">Other command options</h3>
        <p>All of the hammer debug export command options are shown here:&#160;<a href="CLI_Commands.htm" rel="nofollow">CLI Commands#debugexport</a></p>
        <h2 id="AssemblingDataforDaticalSupport-CommonUseCaseScenarios">Common Use Case Scenarios</h2>
        <p>Datical has found patterns in customer needs, customer security policies, and requirements for files to fully diagnose a problem.&#160; Here are some example scenarios:&#160;</p>
        <ul>
            <li>Standard for Problem Diagnosis - provide the standard files most commonly used for troubleshooting</li>
            <li>Default - if no command options are specified, the command will copy all of the files in the project directory into the debug zip file</li>
            <li>Exclude DML Files - provide all files except DML files. Security policy may determine whether you are allowed to share DML files. DML files may contain sensitive information about people and accounts.&#160;</li>
        </ul>
        <h3 id="AssemblingDataforDaticalSupport-StandardforProblemDiagnosis">Standard for Problem Diagnosis</h3>
        <p>Scrub and provide the standard information required for Datical Support to start diagnosing a problem.</p>
        <ul>
            <li>datical.project - definition of the project</li>
            <li>changelog.xml - the changelog lists all of the change sets&#160;</li>
            <li>daticaldb.log - main Datical DB log (use an asterisk where a date may be within the filename, daticaldb*.log)&#160;</li>
            <li>packager.log - log from running the Deployment Packager</li>
            <li>html reports - forecastReport.html, deployReport.html, packagerReport.html (use an asterisk to wildcard all html reports, *.html)</li>
        </ul>
        <h4 id="AssemblingDataforDaticalSupport-ExampleofStandard">Example of Standard</h4>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer debug export --include=datical.project,changelog.xml,daticaldb*.log,packager.log,*.html</pre>
            </div>
        </div>
        <h3 id="AssemblingDataforDaticalSupport-Default(nocommandoptionsspecified)">Default (no command options specified)</h3>
        <p>Include and scrub all files in the project directory.</p>
        <h4 id="AssemblingDataforDaticalSupport-ExampleofDefault">Example of Default</h4>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer debug export</pre>
            </div>
        </div>
        <h3 id="AssemblingDataforDaticalSupport-ExcludeDML">Exclude DML</h3>
        <p>Scrub and include almost all of the files from the project directory structure, except html reports and DML files in the Resources folders.&#160; (Note that this example is from a single schema project.&#160; The Resources paths may be different for multi-schema projects.)</p>
        <h4 id="AssemblingDataforDaticalSupport-ExampleofExcludingDML">Example of Excluding DML</h4>
        <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
            <div class="codeContent panelContent pdl"><pre class="syntaxhighlighter-pre" xml:space="preserve">hammer debug export --exclude=*.html,Resources/sql,Resources/sql_scripts</pre>
            </div>
        </div>
    </body>
</html>