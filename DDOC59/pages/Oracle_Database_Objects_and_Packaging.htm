<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>Oracle Database Objects and Packaging</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <h1 id="OracleDatabaseObjectsandPackaging-QualifyingObjectNames">Qualifying Object Names</h1>
        <ul>
            <li>For a&#160;<strong>Single-Schema </strong>project, you can qualify object names with the&#160;<strong>schema name</strong>.&#160;If they are left unqualified, Datical uses the Connection Schema, or the Default Schema (if specified).</li>
            <li>For a <strong>Multi-Schema Project</strong>, you&#160;<strong>must</strong>  &#160;<strong>qualify</strong>&#160;object names with the&#160;<strong>schema name</strong>&#160;so they get deployed to the correct schema during packaging.</li>
            <li>You can use the schemaName attribute in the metadata.properties file to indicate the default schema. See&#160;<a href="Using_the_metadata_properties_file.htm">Using the metadata.properties file</a>.&#160;</li>
        </ul>
        <h1 id="OracleDatabaseObjectsandPackaging-OracleSCMPackagingPatterns">Oracle SCM Packaging Patterns</h1>
        <p>Note that Datical packages non-transient files differently from transient files. Place scripts for Oracle objects in packaging folders as follows.&#160;</p>
        <ul>
            <li>Non-transient - In-place editing, packaging and&#160;<strong>no</strong>&#160;archiving of database changes so they can be managed similar to application code. This applies to the following object types:<ul><li>Procedures - <code>procedure</code> folder</li><li>Functions - <code>function</code> folder</li><li>Package&#160; - <code>package</code> folder</li><li>Package Body - <code>packagebody</code> folder</li><li>Views&#160; - <code>view</code> folder</li><li>Triggers&#160;- <code>trigger</code> folder</li></ul></li>
            <li>Transient - Database changes are archived after packaging (all other folders).</li>
        </ul>
        <h1 id="OracleDatabaseObjectsandPackaging-OraclePackagingFolders">Oracle Packaging Folders</h1>
        <p>Use the specified folder for listed Oracle database operations.&#160;</p>
        <p>Note that using CREATE OR REPLACE rather than CREATE alone (see Notes) allows stored-logic SQL scripts to be modified and repackaged.&#160;</p>
        <div class="table-wrap">
            <table class="relative-table wrapped confluenceTable" style="width: 56.2695%;">
                <colgroup>
                    <col style="width: 48.0577%;" />
                    <col style="width: 19.4229%;" />
                    <col />
                    <col style="width: 32.5194%;" />
                </colgroup>
                <tbody style="margin-left: 30.0px;">
                    <tr style="margin-left: 30.0px;">
                        <th class="confluenceTh">Object Type</th>
                        <th class="confluenceTh">Packaging Folder</th>
                        <th colspan="1" class="confluenceTh">Archived?</th>
                        <th class="confluenceTh">Notes</th>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd">CREATE/ALTER/DROP <strong>DATABASE LINK</strong></td>
                        <td class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>FUNCTION</strong>
                        </td>
                        <td class="confluenceTd"><code>function</code>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <p>Use CREATE OR REPLACE rather than CREATE alone.&#160;</p>
                            <p>Each function must be in its own file&#160;and end with a '/'.</p>
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>INDEX</strong>
                        </td>
                        <td class="confluenceTd"><code>ddl,&#160;<code>sql_direct</code></code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>QUEUE</strong>
                        </td>
                        <td class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>SEQUENCE</strong>
                        </td>
                        <td class="confluenceTd"><code>ddl,&#160;<code>sql_direct</code></code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>SYNONYM</strong>
                        </td>
                        <td class="confluenceTd"><code>ddl,&#160;<code>sql_direct</code></code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">Alternatively, use Datical Auto-Synonyms</td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd">
                            <p><span>CREATE/<span>ALTER/</span>DROP </span><strong>TABLE</strong>
                            </p>
                        </td>
                        <td class="confluenceTd"><code>ddl,&#160;<code>sql_direct</code></code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>GLOBAL TEMPORARY TABLE</strong>
                        </td>
                        <td colspan="1" class="confluenceTd"><code>ddl,&#160;<code>sql_direct</code></code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>MATERIALIZED VIEW</strong>
                        </td>
                        <td colspan="1" class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>PACKAGE</strong>
                        </td>
                        <td class="confluenceTd"><code>package</code>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <p>Use CREATE OR REPLACE rather than CREATE alone.&#160;</p>
                            <p>Each package must be in its own file and end with a '/'.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>PACKAGE BODY</strong>
                        </td>
                        <td class="confluenceTd"><code>packagebody</code>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <p>Use CREATE OR REPLACE rather than CREATE alone.&#160;</p>
                            <p>Each package body must be&#160;in its own file and end with a '/'.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>PROCEDURE</strong>
                        </td>
                        <td class="confluenceTd"><code>procedure</code>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <p>Use CREATE OR REPLACE rather than CREATE alone.&#160;</p>
                            <p>Each procedure must be&#160;in its own file and end with a '/'.</p>
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>TRIGGER</strong>
                        </td>
                        <td class="confluenceTd">
                            <p><code>trigger</code>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <p>Use CREATE OR REPLACE rather than CREATE alone.&#160;</p>
                            <p>Each trigger must be&#160;in its own file and end with a '/'.</p>
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>TYPE</strong>
                        </td>
                        <td class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">Each type must be in its own file and end with a '/'.</td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>VIEW</strong>
                        </td>
                        <td class="confluenceTd">
                            <p><code>view</code>
                            </p>
                        </td>
                        <td colspan="1" class="confluenceTd">No</td>
                        <td class="confluenceTd">
                            <p>Use CREATE OR REPLACE rather than CREATE alone.&#160;</p>
                            <p>Each view must be in its own file and end with a '/'.</p>
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>VIEW INDEX</strong>
                        </td>
                        <td class="confluenceTd">ddl,&#160;<code>sql_direct</code></td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>CURSOR</strong>
                        </td>
                        <td colspan="1" class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd"><span>CREATE/<span>ALTER/</span>DROP </span><strong>DIRECTORY</strong>
                        </td>
                        <td colspan="1" class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd">RENAME<strong> &lt;DB_OBJECT&gt;</strong></td>
                        <td colspan="1" class="confluenceTd"><code>sql_direct</code>
                        </td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="table-wrap">
            <table class="relative-table wrapped confluenceTable" style="width: 58.5871%;">
                <colgroup>
                    <col style="width: 41.3111%;" />
                    <col style="width: 17.5858%;" />
                    <col style="width: 9.36524%;" />
                    <col style="width: 31.7378%;" />
                </colgroup>
                <tbody style="margin-left: 30.0px;">
                    <tr style="margin-left: 30.0px;">
                        <th class="confluenceTh">Operation</th>
                        <th class="confluenceTh">Packaging Folder</th>
                        <th colspan="1" class="confluenceTh">Archived?</th>
                        <th class="confluenceTh">Notes</th>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd">INSERT, UPDATE, DELETE<span>, SELECT</span></td>
                        <td colspan="1" class="confluenceTd">data_dml</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">
                            <br />
                        </td>
                    </tr>
                    <tr style="margin-left: 30.0px;">
                        <td colspan="1" class="confluenceTd">GRANT, REVOKE</td>
                        <td colspan="1" class="confluenceTd">sql_direct</td>
                        <td colspan="1" class="confluenceTd">Yes</td>
                        <td colspan="1" class="confluenceTd">Alternatively, use Datical Auto-Permissions</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h1 class="auto-cursor-target" id="OracleDatabaseObjectsandPackaging-ErrorHandling">Error Handling</h1>
        <p>Do not put error-handling statements in the SQL scripts.&#160;</p>
        <p>For Oracle databases, do not include&#160;<span style="color: rgb(23,43,77);">WHENEVER SQLERROR statements with an object definition.&#160;</span></p>
        <p><span style="color: rgb(23,43,77);">Datical DB has its own error-handling that wraps SQL scripts. Specifying error-handling within the statements is not necessary </span>
        </p>
        <p><span style="color: rgb(23,43,77);">Deployment Packager fails with an error if it encounters statements before an object definition.&#160;&#160;</span>
        </p>
    </body>
</html>