<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title></title>
    </head>
    <body>
        <h1>Flexible Folder Names</h1>
        <p />
        <div class="toc-macro client-side-toc-macro  conf-macro output-block">
        </div>
        <p>This feature is available in version 5.0 and later.&#160;</p>
        <h1 id="FlexibleFolderNames-UsingFlexibleFolders">Using Flexible Folders</h1>
        <p>This feature replaces the requirement to use fixed-name folders in SCM under a &lt;sql_code&gt; root.&#160;</p>
        <p>Using this capability, you may use any number of arbitrarily named folders under a &lt;sql_code&gt; root. This enables you to use folder names that are meaningful to your environment.</p>
        <p>When you use flexible folders, the folders containing SQL code must have a metadata.properties file, even if it is blank.</p>
        <p>You need to specify two properties (new to version 5.0) in a <code>metadata.properties</code> file in the folder.&#160; They explicitly specify packaging behavior that was implicit for code in fixed-name folders.</p>
        <ul>
            <li><code>packageMethod</code> - specifies how to package code in this folder</li>
            <li><code>rerunnable</code> - specify whether this code can be repackaged (updated in place)</li>
        </ul>
        <h1 id="FlexibleFolderNames-SQLFileProcessing">SQL File Processing</h1>
        <p>SQL files are packaged in a determined order by type. The packaging method is determined from the type.&#160;</p>
        <h2 id="FlexibleFolderNames-Ordering">Ordering</h2>
        <p>Packaging is done in the following order, using the SQLFileType returned from parsing. It is the same order used with static-name directories. The following table shows the packageMethod used for each SQLFileType.&#160;</p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th colspan="1" class="confluenceTh">Order</th>
                        <th class="confluenceTh">SQLFileType</th>
                        <th class="confluenceTh">packageMethod</th>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">1</td>
                        <td class="confluenceTd">ddl</td>
                        <td class="confluenceTd">CONVERT</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">2</td>
                        <td class="confluenceTd">view</td>
                        <td class="confluenceTd">STOREDLOGIC</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">3</td>
                        <td class="confluenceTd">ssis</td>
                        <td class="confluenceTd">SSIS</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">4</td>
                        <td colspan="1" class="confluenceTd">ssis_project</td>
                        <td colspan="1" class="confluenceTd">
                            <p>SSIS</p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">5</td>
                        <td colspan="1" class="confluenceTd">function</td>
                        <td colspan="1" class="confluenceTd">STOREDLOGIC</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">6</td>
                        <td colspan="1" class="confluenceTd">procedure</td>
                        <td colspan="1" class="confluenceTd">STOREDLOGIC</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">7</td>
                        <td colspan="1" class="confluenceTd">package</td>
                        <td colspan="1" class="confluenceTd">STOREDLOGIC</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">8</td>
                        <td colspan="1" class="confluenceTd">packagebody</td>
                        <td colspan="1" class="confluenceTd">STOREDLOGIC</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">9</td>
                        <td colspan="1" class="confluenceTd">trigger</td>
                        <td colspan="1" class="confluenceTd">STOREDLOGIC</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">10</td>
                        <td colspan="1" class="confluenceTd">sql</td>
                        <td colspan="1" class="confluenceTd">SQLFILE</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">11</td>
                        <td colspan="1" class="confluenceTd">sqlplus</td>
                        <td colspan="1" class="confluenceTd">DIRECT</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">12</td>
                        <td colspan="1" class="confluenceTd">sql_direct</td>
                        <td colspan="1" class="confluenceTd">DIRECT</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">13</td>
                        <td colspan="1" class="confluenceTd">data_dml</td>
                        <td colspan="1" class="confluenceTd">DATA_DML</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>
            <br />
        </p>
        <h2 id="FlexibleFolderNames-ResourcesDirectory">Resources Directory</h2>
        <p>During SQL file packaging, files are copied to directories under the project Resources directory. The directories have the same name except for files in sql, sqplus, and sql_direct, which are all placed in Resources/sql.&#160;</p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th class="confluenceTh">SQLFileType</th>
                        <th class="confluenceTh">Resources folder</th>
                    </tr>
                    <tr>
                        <td class="confluenceTd">DDL</td>
                        <td class="confluenceTd">N/A</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">VIEW</td>
                        <td class="confluenceTd">view</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">SSIS</td>
                        <td class="confluenceTd">ssis</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">SSIS_PROJECT</td>
                        <td colspan="1" class="confluenceTd">ssis_project</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">FUNCTION</td>
                        <td colspan="1" class="confluenceTd">function</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">PROCEDURE</td>
                        <td colspan="1" class="confluenceTd">procedure</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">PACKAGE</td>
                        <td colspan="1" class="confluenceTd">package</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">PACKAGEBODY</td>
                        <td colspan="1" class="confluenceTd">packagebody</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">TRIGGER</td>
                        <td colspan="1" class="confluenceTd">trigger</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">SQL</td>
                        <td colspan="1" class="confluenceTd">sql</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">SQLPLUS</td>
                        <td colspan="1" class="confluenceTd">sql</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">SQL_DIRECT</td>
                        <td colspan="1" class="confluenceTd">sql</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">DATA_DML</td>
                        <td colspan="1" class="confluenceTd">data_dml</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>
            <br />
        </p>
        <h1 id="FlexibleFolderNames-Propertiesinmetadata.properties">Properties in metadata.properties</h1>
        <h2 id="FlexibleFolderNames-Requirementformetadata.properties">Requirement for metadata.properties</h2>
        <p>When you are using flexible folders, folders containing SQL code <em>must</em> have a metadata.properties file, <em>even if it is blank</em>.&#160;</p>
        <ul>
            <li>Folders containing metadata.properties file are processed.</li>
            <li>Folders not containing metadata.properties file are skipped.</li>
        </ul>
        <h2 id="FlexibleFolderNames-ignore">ignore</h2>
        <p>Set to true or false. If true, packager skips this folder and all subfolders during processing.&#160;</p>
        <h2 id="FlexibleFolderNames-packageMethod">packageMethod</h2>
        <p>If specified, determines the processing method to use during packaging. The file is further parsed to determine the SQLFileType, which determines the order of processing.&#160;</p>
        <p>If not specified, determine the type based on directory location (static-name directories) and parsed SQLFileType.&#160;</p>
        <ul>
            <li>CONVERT (convert)</li>
            <li>STOREDLOGIC (native)</li>
            <li>DIRECT&#160;(native)</li>
            <li>DATA_DML (native)</li>
            <li>SQLFILE&#160;(native)</li>
            <li>SSIS&#160;(native)</li>
        </ul>
        <h2 id="FlexibleFolderNames-rerunnable">rerunnable</h2>
        <p><strong>Important</strong>: this property replaces two properties in metadata.properties.&#160; They are deprecated.&#160;</p>
        <ul>
            <li>allowRepackaging</li>
            <li>archive</li>
        </ul>
        <p>Set to true or false.</p>
        <ul>
            <li>true - the SQL code file is not archived. It can be repackaged.&#160;</li>
            <li>false - the SQL code file is archived. It cannot be repackaged.&#160;</li>
        </ul>
        <p>If not set, packager checks whether fixed-name folders are being used under the &lt;sql_code&gt; root and assigns the rerunnable property as follows. In general, stored logic is rerunnable.&#160;</p>
        <div class="table-wrap">
            <table class="wrapped confluenceTable">
                <colgroup>
                    <col />
                    <col />
                </colgroup>
                <tbody>
                    <tr>
                        <th class="confluenceTh">Fixed Folder</th>
                        <th class="confluenceTh">Rerunnable default setting</th>
                    </tr>
                    <tr>
                        <td class="confluenceTd">ddl</td>
                        <td class="confluenceTd">false</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">data_dml</td>
                        <td class="confluenceTd">false</td>
                    </tr>
                    <tr>
                        <td class="confluenceTd">sql_direct</td>
                        <td class="confluenceTd">
                            <p>false</p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">sql</td>
                        <td colspan="1" class="confluenceTd">false</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">procedure</td>
                        <td colspan="1" class="confluenceTd">true</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">package</td>
                        <td colspan="1" class="confluenceTd">true</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">packagebody</td>
                        <td colspan="1" class="confluenceTd">true</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">function</td>
                        <td colspan="1" class="confluenceTd">true</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">trigger</td>
                        <td colspan="1" class="confluenceTd">true</td>
                    </tr>
                    <tr>
                        <td colspan="1" class="confluenceTd">view</td>
                        <td colspan="1" class="confluenceTd">true</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
    </body>
</html>